<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="è‚å°æ¶›çš„åšå®¢">
    <meta property="og:type" content="website">
    <meta name="description" content="è‚å°æ¶›çš„åšå®¢">
    <meta name="keyword"  content="hexo,è‚å°æ¶›,è‚å°æ¶›çš„åšå®¢,å…¨æ ˆå¼€å‘,Aircloud">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        ä½¿ç”¨ Rust å¼€å‘ python æ¨¡å— - AirCloud æ—¥å¸¸
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="AirCloud æ—¥å¸¸" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> sometimes code, sometimes design </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>Xiaotao Nie</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>å­˜æ¡£</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>æ”¶è—</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>å…³äº</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>æœç´¢</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Rust-FFI-%E7%9A%84%E4%B8%80%E8%88%AC%E6%80%9D%E8%B7%AF"><span class="toc-text">Rust FFI çš„ä¸€èˆ¬æ€è·¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E9%97%A8"><span class="toc-text">å…¥é—¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%B7%A5%E5%85%B7"><span class="toc-text">è¿›é˜¶å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setuptools-rust"><span class="toc-text">setuptools-rust</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict-derive"><span class="toc-text">dict-derive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rust-numpy"><span class="toc-text">rust-numpy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pandas"><span class="toc-text">pandas</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">å…¶ä»–</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">æœç´¢</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> sometimes code, sometimes design </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        ä½¿ç”¨ Rust å¼€å‘ python æ¨¡å—
    </div>

    <div class="post-meta">
        <span class="attr">å‘å¸ƒäºï¼š<span>2022-06-04 17:34:05</span></span>
        
        <span class="attr">æ ‡ç­¾ï¼š/
        
        <a class="tag" href="/tags/#Rust" title="Rust">Rust</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">è®¿é—®ï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <p>å…³äº Rust çš„åŸºæœ¬ä»‹ç»ï¼Œæˆ‘åœ¨ä¹‹å‰çš„<a target="_blank" rel="noopener" href="http://niexiaotao.cn/2021/09/02/%E4%BA%86%E8%A7%A3%20StackOverFlow%20%E4%B8%8A%E9%9D%A2%E6%9C%80%E5%8F%97%E6%AC%A2%E8%BF%8E%E7%9A%84%E8%AF%AD%E8%A8%80%20Rust/">æ–‡ç« </a>æœ‰åšè¿‡ä¸€äº›æ€»ç»“ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬å…³æ³¨å¦‚ä½•åœ¨ python ä¸­è°ƒç”¨ Rust å¼€å‘çš„æ¨¡å—ã€‚</p>
<h2 id="Rust-FFI-çš„ä¸€èˆ¬æ€è·¯"><a href="#Rust-FFI-çš„ä¸€èˆ¬æ€è·¯" class="headerlink" title="Rust FFI çš„ä¸€èˆ¬æ€è·¯"></a>Rust FFI çš„ä¸€èˆ¬æ€è·¯</h2><p>Rust å¯ä»¥ç¼–è¯‘å‡ºå…¼å®¹ C ABI çš„åŠ¨æ€åº“æˆ–è€…é™æ€åº“ï¼ŒRust è°ƒç”¨å…¶ä»–è¯­è¨€ï¼Œä»¥åŠ Rust è¢«å…¶ä»–è¯­è¨€è°ƒç”¨ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šè¿‡ C ABI æ¥è¿›è¡Œ FFI è°ƒç”¨ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå®é™…ä¸Š C++ è°ƒç”¨ Rust <em>å¹¶ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿</em>ï¼Œéœ€è¦ä½¿ç”¨ Rust æä¾›çš„ C æ¥å£ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰åŠæ³•ä½¿ç”¨ C++ æä¾›çš„ç±»å‹ï¼Œè€Œ Rust åœ¨å¯¼å‡ºæ¥å£çš„æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•ä½¿ç”¨ Rust çš„ç±»å‹ç³»ç»Ÿï¼Œéœ€è¦è½¬æ¢æˆ C ç±»å‹ã€‚</p>
<p>å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½ä¼šåœ¨è¿™ç§åœºæ™¯ä¸‹å†™ä¸€å±‚ wrapper å’Œ converterï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆ FFI å±‚çš„ä¸€äº›èƒ¶æ°´ä»£ç ã€‚</p>
<p>å¯¹äº Python è¿™ç±»é«˜çº§è¯­è¨€è°ƒç”¨ Rustï¼ŒåŸºæœ¬ä¹Ÿæ˜¯ç±»ä¼¼çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•æ€»ç»“ä¸ºä¸‹å›¾ï¼š</p>
<p><img src="/img/calling_rust_from_python_std_ffi_and_ctypes.png"></p>
<p>å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå¯¹äº Python è°ƒç”¨ Rustï¼Œç¤¾åŒºå·²ç»æœ‰éå¸¸å¤šç°æˆçš„æˆç†Ÿå·¥å…·å¯ä»¥ä½¿ç”¨ï¼ŒåŸºäºè¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°ä¸“æ³¨äº Rust å®ç°é€»è¾‘æœ¬èº«ï¼Œæ— éœ€å…³æ³¨å¤ªå¤š FFI å’Œè½¬æ¢ç»†èŠ‚ã€‚</p>
<h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><p>ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/PyO3/pyo3">PyO3</a>ï¼ŒPyO3 ä¸ä»…ä»…æä¾›äº† rust bindingï¼Œä¹Ÿæä¾›äº†åˆ›å»º python åŒ…çš„å¼€ç®±å³ç”¨çš„è„šæ‰‹æ¶å·¥å…· <a target="_blank" rel="noopener" href="https://github.com/PyO3/maturin">maturin</a>ï¼Œä½¿ç”¨ maturin æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ›å»ºä¸€ä¸ªåŸºäº rust å¼€å‘çš„ python æ‰©å±•æ¨¡å—ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œæ•´ç†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ä¸­æä¾›çš„æœ€ç®€å•çš„æ–¹å¼ï¼Œè¯»è€…å¯ä»¥ç›´æ¥ä¾æ¬¡æ‰§è¡Œä¸‹é¢çš„ shell è„šæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir string_sum</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> string_sum</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»º venv çš„è¿™ä¸€æ­¥ä¸èƒ½çœç•¥ï¼Œå¦åˆ™åç»­è¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python -m venv .env</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> .env/bin/activate</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install maturin</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥ä½¿ç”¨ maturin åˆå§‹åŒ–é¡¹ç›®å³å¯ï¼Œé€‰æ‹© pyo3ï¼Œæˆ–è€…ç›´æ¥æ‰§è¡Œ maturin init --bindings pyo3</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> maturin init</span></span><br><span class="line">âœ” ğŸ¤· What kind of bindings to use? Â· pyo3</span><br><span class="line">  âœ¨ Done! New project created string_sum</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç®€å•çš„ Rust é¡¹ç›®ï¼Œå¹¶ä¸”åŒ…å«äº†ä¸€ä¸ªç¤ºä¾‹è°ƒç”¨ï¼Œæˆ‘ä»¬æ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> maturin develop ä¼šè‡ªåŠ¨æ‰“åŒ…å‡ºä¸€ä¸ª wheel åŒ…ï¼Œå¹¶ä¸”å®‰è£…åˆ°å½“å‰çš„ venv ä¸­</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> maturin develop</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; import string_sum</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; string_sum.sum_as_string(5, 20)</span></span><br><span class="line">&#x27;25&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="è¿›é˜¶å·¥å…·"><a href="#è¿›é˜¶å·¥å…·" class="headerlink" title="è¿›é˜¶å·¥å…·"></a>è¿›é˜¶å·¥å…·</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»‹ç»å‡ ä¸ªæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ Rust å¼€å‘ python åŒ…çš„è¿›é˜¶å·¥å…·æˆ–å¼•å¯¼ã€‚</p>
<h3 id="setuptools-rust"><a href="#setuptools-rust" class="headerlink" title="setuptools-rust"></a>setuptools-rust</h3><p><a target="_blank" rel="noopener" href="https://github.com/PyO3/setuptools-rust">setuptools-rust</a> æ˜¯ä¸€ä¸ª setuptools çš„æ’ä»¶ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°ç¼–å†™ä½¿ç”¨ pyo3 å¼€å‘çš„ rust python åŒ…ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ clone å®ƒçš„æºä»£ç ï¼Œç›´æ¥ä½¿ç”¨å®ƒæä¾›çš„ç¤ºä¾‹ï¼Œå‚è€ƒå¦‚ä¸‹å‘½ä»¤æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> examples/rust_with_cffi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python ./setup.py develop</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python</span></span><br><span class="line">Python 3.9.7 (default, Sep  3 2021, 12:37:55)</span><br><span class="line">[Clang 12.0.5 (clang-1205.0.22.9)] on darwin</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; from rust_with_cffi import rust</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; rust.rust_func()</span></span><br><span class="line">14</span><br></pre></td></tr></table></figure>

<h3 id="dict-derive"><a href="#dict-derive" class="headerlink" title="dict-derive"></a>dict-derive</h3><p>è¿™ä¸ª rust åº“æä¾›äº† FromPyObject å’Œ IntoPyObject ä¸¤ä¸ªå®ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå®ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œ python dict ç»“æ„å’Œ Rust ç»“æ„ä½“çš„è½¬æ¢ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬å£°æ˜è¿™æ ·ä¸€ä¸ªç»“æ„ä½“ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(FromPyObject, IntoPyObject)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">User</span></span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> name: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> email: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> age: <span class="built_in">u32</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°±ç›´æ¥å¯ä»¥åœ¨å¯¼å‡ºå‡½æ•°ä¸­è¿™æ ·ä½¿ç”¨äº†ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Requires FromPyObject to receive a struct as an argument</span></span><br><span class="line"><span class="meta">#[pyfunction]</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_contact_info</span></span>(user: User) -&gt; PyResult&lt;<span class="built_in">String</span>&gt; &#123;</span><br><span class="line">    <span class="literal">Ok</span>(<span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125; - &#123;&#125;&quot;</span>, user.name, user.email))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Requires IntoPyObject to return a struct</span></span><br><span class="line"><span class="meta">#[pyfunction]</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_default_user</span></span>() -&gt; PyResult&lt;User&gt; &#123;</span><br><span class="line">    <span class="literal">Ok</span>(User &#123;</span><br><span class="line">        name: <span class="string">&quot;Default&quot;</span>.to_owned(),</span><br><span class="line">        email: <span class="string">&quot;default@user.com&quot;</span>.to_owned(),</span><br><span class="line">        age: <span class="number">27</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡å®å±•å¼€å¯ä»¥å‘ç°ï¼Œè¿™ä¸¤ä¸ªå®æ‰€åšçš„äº‹æƒ…å°±æ˜¯åˆ†åˆ«å°† <code>pyo3::types::PyDict</code> è½¬æ¢æˆ Rust ç»“æ„ä½“å’Œå°† Rust ç»“æ„ä½“è½¬æ¢æˆ <code>pyo3::types::PyDict</code>ã€‚</p>
<p>æ•´ä½“å®å±•å¼€çš„ä»£ç ä¸å¤šï¼Œè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿é˜…è¯»çš„ã€‚</p>
<h3 id="rust-numpy"><a href="#rust-numpy" class="headerlink" title="rust-numpy"></a>rust-numpy</h3><p><a target="_blank" rel="noopener" href="https://github.com/PyO3/rust-numpy">rust-numpy</a> æ˜¯ä¸€ä¸ª rust ç‰ˆæœ¬çš„ numpy C ABI å°è£…ï¼Œä½¿ç”¨è¿™ä¸ªåº“æˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­è°ƒç”¨ numpy</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿è¡Œè¯¥åº“çš„ç¤ºä¾‹ä»£ç ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… noxï¼Œnox æ˜¯ä¸€ä¸ª python è‡ªåŠ¨åŒ–ä»»åŠ¡å·¥å…·ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python3 -m pip install nox</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹åæˆ‘ä»¬è¿›å…¥åˆ°å‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œå³å¯ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> examples/simple</span><br><span class="line"><span class="variable">$</span> nox</span><br></pre></td></tr></table></figure>

<p>é¡ºåˆ©çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä¼šè¾“å‡ºæµ‹è¯•æˆåŠŸï¼š</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tests/test_ext.py .....                                                                                                                                       [<span class="number">100</span><span class="comment">%]</span></span><br><span class="line"></span><br><span class="line">========================================================================= <span class="number">5</span> passed in <span class="number">0.32</span>s =========================================================================</span><br><span class="line">nox &gt; Session tests was successful.</span><br></pre></td></tr></table></figure>

<h3 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h3><p>åœ¨ Rust ä¸­å¹¶æ²¡æœ‰ç›´æ¥å’Œ python ä¸­çš„ pandas åŒ…å¯¹æ ‡çš„è¯¸å¦‚ pandas-rs åŒ…ã€‚</p>
<p>ä¸è¿‡ Rust æ ‡å‡†åº“æœ¬èº«ä¹Ÿæä¾›äº†éå¸¸å¤šçš„æ•°æ®å¤„ç†å‡½æ•°å¦‚ç­›é€‰ã€è¿‡æ»¤ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹å†™ä»£ç å®Œæˆå¤§éƒ¨åˆ† pandas çš„å·¥ä½œã€‚</p>
<p>åœ¨<a target="_blank" rel="noopener" href="https://able.bio/haixuanTao/data-manipulation-pandas-vs-rust--1d70e7fc">è¿™ç¯‡æ–‡ç« </a>ä¸­ï¼Œä½œè€…ä½¿ç”¨äº†å¤§çº¦ 160,000è¡Œ/ 130åˆ—ï¼Œæ€»å¤§å°ä¸º 150Mb çš„æ•°æ®ï¼Œ åˆ†åˆ«ä½¿ç”¨ Rust å’Œ Pandas å¤„ç†å¹¶æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æå‡è¿˜æ˜¯æ¯”è¾ƒæ˜¾è‘—çš„ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>Time(s)</th>
<th>Mem Usage(Gb)</th>
</tr>
</thead>
<tbody><tr>
<td>Pandas</td>
<td>3.0s</td>
<td>2.5Gb</td>
</tr>
<tr>
<td>Rust</td>
<td>1.6s ğŸ”¥ -50%</td>
<td>1.7Gb ğŸ”¥ -32%</td>
</tr>
</tbody></table>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>pyo3 çš„ README é‡Œé¢è¿˜åˆ—ä¸¾äº†ä¸€äº›å…¶ä»–çš„å·¥å…·åº“ï¼Œä½¿ç”¨èµ·æ¥ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸åšå•ç‹¬ä»‹ç»äº†ã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/vorner/pyo3-log">pyo3-log</a>ï¼šåœ¨ Rust ä¸­ä½¿ç”¨ python çš„ logging åº“ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/PyO3/pyo3-built">pyo3-built</a>ï¼šå¯ä»¥åœ¨ç¼–è¯‘ rust çš„ python æ¨¡å—çš„æ—¶å€™å†™å…¥ä¸€äº›æ„å»ºä¿¡æ¯ï¼Œå¦‚ rust ç‰ˆæœ¬ç­‰ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/awestlake87/pyo3-asyncio">pyo3-asyncio</a>ï¼špython asyio çš„ Rust bindingï¼Œå¯ä»¥å°† python çš„ async è½¬æ¢æˆ Rust çš„ featuresã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mityax/rustimport">rustimport</a>ï¼šå¯ä»¥åœ¨ python ä¸­ç›´æ¥å¼•å…¥ rust ä»£ç ï¼Œä½†å› ä¸ºå¼•å…¥çš„æ—¶å€™éœ€è¦ç¼–è¯‘ï¼Œç¬”è€…ä¸æ˜¯å¾ˆå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ã€‚</li>
</ul>
<hr>
<p>è™½ç„¶ä¸Šé¢ä»‹ç»äº†è¿™ä¹ˆå¤šå·¥å…·ï¼Œä½†æ˜¯ç¬”è€…è®¤ä¸ºï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬åº”è¯¥è¿˜ä¼šç»“åˆä¸šåŠ¡ï¼Œå¯»æ‰¾å’Œé€ å‡ºæ›´å¤šè½®å­ï¼Œè¿™éƒ¨åˆ†å·¥ä½œå°±æœ‰å¾…æˆ‘ä»¬è¿›ä¸€æ­¥å¼€æ‹“äº†ã€‚</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        <li>
            <a target="_blank" href="https://twitter.com/iconie_alloy">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-twitter"></i>
                            </span>
            </a>
        </li>
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/ai-er-lan-xue-da">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/3286578617">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="https://www.facebook.com/xiaotao.nie.5">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-facebook"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://github.com/AirCloud">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://www.linkedin.com/in/å°æ¶›-è‚-80964aba">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-linkedin"></i>
                            </span>
            </a>
        </li>
        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="https://www.10000h.top">10000H</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="https://niexiaotao.com">Xiaotao&#39;s Page</a></span>
        <span>/</span>
        
        <span><a href="#">It helps SEO</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">æµ™ICPå¤‡16035324å·-1</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
    data-repo="aircloud/hexo-aircloud-blog"
    data-repo-id="MDEwOlJlcG9zaXRvcnkxMjkwNDgyNjg="
    data-category="Announcements"
    data-category-id="DIC_kwDOB7EezM4COhKJ"
    data-mapping="title"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>




</html>
