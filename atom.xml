<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AirCloud æ—¥å¸¸</title>
  <icon>https://www.gravatar.com/avatar/2f58f77d5b516b291563686ed164bd51</icon>
  <subtitle>sometimes code, sometimes design</subtitle>
  <link href="https://z4ynadmin.github.io/atom.xml" rel="self"/>
  
  <link href="https://z4ynadmin.github.io/"/>
  <updated>2022-11-04T07:11:09.554Z</updated>
  <id>https://z4ynadmin.github.io/</id>
  
  <author>
    <name>Xiaotao Nie</name>
    <email>onlythen@yeah.net</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è¯»å®Œ type-challengesï¼Œæˆ‘æ€»ç»“äº†å¦‚ä¸‹å¸¸ç”¨çš„å†…å®¹</title>
    <link href="https://z4ynadmin.github.io/2022/07/30/type-challenges/"/>
    <id>https://z4ynadmin.github.io/2022/07/30/type-challenges/</id>
    <published>2022-07-30T07:39:38.000Z</published>
    <updated>2022-11-04T07:11:09.554Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æœŸç”¨äº†ä¸€å®šæ—¶é—´é€šè¯»äº† <a href="https://github.com/type-challenges/type-challenges">type-challenges</a>ï¼Œæ„Ÿæ…¨ Typescript ä¹Ÿå¯ä»¥å†™çš„å¦‚æ­¤å¤æ‚ä¹‹ä½™ï¼Œä¹Ÿå‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œå¯¹é¢˜ç›®åšäº†æ•´ç†ï¼Œå½¢æˆæœ¬æ–‡ï¼š</p><ul><li>type-challenges æ•´ä½“é¢˜ç›®è¾ƒå¤šï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªæ˜¯å­¦ä¹ ä¸ºä¸»ï¼Œå¹¶ä¸æ˜¯ä»¥â€œåšé¢˜â€ä¸ºç›®çš„ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨åˆ—è¡¨-é—®é¢˜-ç­”æ¡ˆåˆ—è¡¨-ç­”æ¡ˆè¯¦æƒ…ä¸­è·³æ¥è·³å»å¾ˆéº»çƒ¦ï¼Œä¹Ÿå¾ˆéš¾ç”„åˆ«ä¼˜è´¨è§£ç­”ã€‚</li><li>type-challenges ä»“åº“ä¸­æŸäº›é¢˜ç›®ï¼Œå®å±åé—¨ï¼Œå¯èƒ½å¯¹äºå¤§å¤šæ•°ä¸šåŠ¡å¼€å‘æ¥è¯´ï¼Œæ°¸è¿œä¹Ÿç”¨ä¸åˆ°ï¼ŒæŠ•å…¥æ—¶é—´åœ¨è¿™éƒ¨åˆ†ï¼ŒROI å°±ä¼šéå¸¸ä½ã€‚</li><li>type-challenges æœ‰äº›é¢˜ç›®æ¯”è¾ƒç±»ä¼¼ï¼Œä½†æ˜¯å´æ”¾åˆ°äº†ä¸åŒçš„åœ°æ–¹ï¼Œç”šè‡³éš¾åº¦ä¸åŒï¼Œç¬”è€…è®¤ä¸ºç»“åˆèµ·æ¥ä¸€èµ·çœ‹å¯èƒ½æ›´é«˜æ•ˆã€‚</li></ul><p>å› æ­¤ï¼Œæœ¬æ–‡å¯¹ç¬”è€…è®¤ä¸ºé‡è¦çš„ã€æœ‰ä¸šåŠ¡ä½¿ç”¨åœºæ™¯æˆ–è€…å¯ä»¥ç»™æˆ‘ä»¬ä»¥å¾ˆå¤§å¯å‘çš„é¢˜ç›®è¿›è¡Œç½—åˆ—å’Œè§£æï¼ŒåŒæ—¶è§„é¿äº†ä¸€äº›å¤æ‚åº¦å¾ˆé«˜ï¼Œä½†å®é™…å¤§å¤šæ•°äººç”¨ä¸åˆ°çš„é¢˜ç›®ï¼ˆæ¯”å¦‚ Typescript å®ç° JSON è§£æï¼‰ï¼Œå¯¹äºæ™®é€šçš„ Typescript å¼€å‘è€…è€Œè¨€ï¼Œçœ‹å®Œæœ¬æ–‡çš„é¢˜ç›®å°±åŸºæœ¬èƒ½å¤Ÿä»¥ä¸€ä¸ªæ¯”è¾ƒå°çš„ä»£ä»·æŒæ¡ type-challenges ä¸­è´´è¿‘æ—¥å¸¸å¼€å‘å’Œä¸šåŠ¡çš„éƒ¨åˆ†ã€‚</p><blockquote><p>æ„Ÿè°¢ type-challenges ä»“åº“çš„è´¡çŒ®è€…ä»¬</p></blockquote><h2 id="Typescript-å†…ç½®å·¥å…·å‡½æ•°"><a href="#Typescript-å†…ç½®å·¥å…·å‡½æ•°" class="headerlink" title="Typescript å†…ç½®å·¥å…·å‡½æ•°"></a>Typescript å†…ç½®å·¥å…·å‡½æ•°</h2><p>å®é™…ä¸Šï¼ŒTypescript è‡ªèº«é™¤äº†å®šä¹‰ç±»å‹ä»¥å¤–ï¼Œè‡ªå·±å†…ç½®äº†å¾ˆå¤šéå¸¸æœ‰ç”¨çš„å·¥å…·å‡½æ•°ï¼Œè¿™éƒ¨åˆ†æ˜¯æˆ‘ä»¬æ—¥å¸¸ Typescript å¼€å‘åº”å½“å¿…é¡»æŒæ¡ï¼Œä¿¡æ‰‹æ‹ˆæ¥çš„ï¼Œæˆ‘å»ºè®®å¦‚æœå¯¹è¿™éƒ¨åˆ†ä¸ç†Ÿæ‚‰çš„è¯ï¼Œå…ˆå¤šè¯»å‡ éè¿™éƒ¨åˆ†ã€‚</p><p>è¿™éƒ¨åˆ†å†…å®¹ï¼Œå¯ä»¥åœ¨<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">è¿™é‡Œ</a> äº†è§£ï¼Œä¹Ÿå¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œç‚¹è¿› <code>node_modules/typescript/lib/lib.es5.d.ts</code> ç›´æ¥äº†è§£ï¼Œæ³¨é‡Šæ¯”è¾ƒè¯¦å°½ã€‚</p><blockquote><p>å®é™…ä¸Šï¼Œtype-challenges çš„ä¸€éƒ¨åˆ†ç®€å•å’Œä¸­ç­‰çš„é¢˜ç›®å°±æ˜¯å®ç°è¿™äº›å†…ç½®å·¥å…·å‡½æ•°çš„äºŒæ¬¡å®ç°ï¼Œè¿™éƒ¨åˆ†å†…å®¹æˆ‘åœ¨æœ¬æ–‡åŸºæœ¬æ²¡æœ‰é‡å¤ç½—åˆ—ï¼Œä½†æ˜¯å»ºè®®å¤§å®¶å»é˜…è¯»å®˜æ–¹å®ç°ï¼Œä¸€èˆ¬æ¥è¯´ä¹Ÿéƒ½æ¯”è¾ƒçŸ­å°ï¼Œå®¹æ˜“ç†è§£</p></blockquote><h2 id="type-challenges-éƒ¨åˆ†é‡ç‚¹é¢˜ç›®"><a href="#type-challenges-éƒ¨åˆ†é‡ç‚¹é¢˜ç›®" class="headerlink" title="type-challenges éƒ¨åˆ†é‡ç‚¹é¢˜ç›®"></a>type-challenges éƒ¨åˆ†é‡ç‚¹é¢˜ç›®</h2><h3 id="æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ "><a href="#æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ " class="headerlink" title="æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ "></a>æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ </h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00014-easy-first/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> arr1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">type</span> head1 = First&lt;arr1&gt; <span class="comment">// expected to be &#x27;a&#x27;</span></span><br></pre></td></tr></table></figure><p>å®ç°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> First&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer first, ...any[]]</span><br><span class="line">  ? first</span><br><span class="line">  : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure><p>é™¤äº†æœ¬é¢˜ç›®ï¼Œè¿˜æœ‰è®¸å¤šå…¶ä»–ç±»ä¼¼çš„å®ç°ï¼šï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ :</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Last&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [...any, infer L] ? L : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Popï¼š</span></span><br><span class="line"><span class="comment">// type arr1 = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"><span class="comment">// type re1 = Pop&lt;arr1&gt; // expected to be [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Pop&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>&gt; = T <span class="keyword">extends</span> [...infer P, infer R] ? P : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Push:</span></span><br><span class="line"><span class="comment">// type Result = Push&lt;[1, 2], &#x27;3&#x27;&gt; // [1, 2, &#x27;3&#x27;]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Push&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], U&gt; = [...T, U];</span><br><span class="line"></span><br><span class="line"><span class="comment">// UnShift:</span></span><br><span class="line"><span class="comment">// type Result = UnShift&lt;[1, 2], 0&gt; // [0, 1, 2,]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> UnShift&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], U&gt; = [U, ...T];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shift:</span></span><br><span class="line"><span class="comment">// type Result = Shift&lt;[3, 2, 1]&gt; // [2, 1]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Shift&lt;T&gt; = T <span class="keyword">extends</span> [infer F,... infer R] ? R : <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Concatï¼š</span></span><br><span class="line"><span class="comment">// type Result = Concat &lt;[1], [2]&gt; // expected to be [1, 2]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Concat &lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], V <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = [...T, ...V];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reverse:</span></span><br><span class="line"><span class="comment">// type b = Reverse&lt;[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]&gt; // [&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Reverse&lt;T&gt; = T <span class="keyword">extends</span> [infer Head, ...infer Rest] ? [...Reverse&lt;Rest&gt;, Head] : T</span><br><span class="line"></span><br><span class="line"><span class="comment">// FilterOutï¼š</span></span><br><span class="line"><span class="comment">// type Filtered = FilterOut&lt;[1, 2, null, 3], null&gt; // [1, 2, 3]</span></span><br><span class="line"><span class="keyword">type</span> Filtered = FilterOut&lt;[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>], <span class="literal">null</span>&gt; <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> FilterOut&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], F&gt; = </span><br><span class="line">  T <span class="keyword">extends</span> [infer First, ...infer Rest] </span><br><span class="line">    ? First <span class="keyword">extends</span> F </span><br><span class="line">      ? FilterOut&lt;Rest, F&gt; </span><br><span class="line">      : [First, ...FilterOut&lt;Rest, F&gt;] </span><br><span class="line">    : []</span><br></pre></td></tr></table></figure><p>æŠ€å·§æç¤ºï¼š</p><ul><li>é€šè¿‡ extends åŠ ä¸‰ç›®è¿ç®—ç¬¦ï¼Œå®Œæˆæ¡ä»¶åˆ¤æ–­ã€‚</li><li>é€šè¿‡ç±»ä¼¼ <code>infer first, ...any[]</code> æˆ–è€… <code>[infer First, ...infer Rest]</code> è¿™ç§æ–¹å¼æ¥å±•å¼€æ•°ç»„ç±»å‹ã€‚</li><li>å¦å¤–æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>[...T, U]</code> æ¥æ‰©å……æ•°ç»„çš„ç±»å‹å®šä¹‰ã€‚</li></ul><h3 id="Tuple-to-Union"><a href="#Tuple-to-Union" class="headerlink" title="Tuple to Union"></a>Tuple to Union</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00010-medium-tuple-to-union/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Arr = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"><span class="keyword">type</span> Test = TupleToUnion&lt;Arr&gt; <span class="comment">// expected to be &#x27;1&#x27; | &#x27;2&#x27; | &#x27;3&#x27;</span></span><br></pre></td></tr></table></figure><p>å®ç°æ¯”è¾ƒç®€å•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> TupleToUnion&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T[<span class="built_in">number</span>];</span><br></pre></td></tr></table></figure><p>æŠ€å·§æç¤ºï¼š</p><ul><li><code>T[number]</code> è¿™ç§è¯­æ³•å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°å®ç° Tuple to Union</li></ul><h3 id="Deep-Readonly"><a href="#Deep-Readonly" class="headerlink" title="Deep Readonly"></a>Deep Readonly</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00009-medium-deep-readonly/README.md#deep-readonly----">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> X = &#123; </span><br><span class="line">  <span class="attr">x</span>: &#123; </span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span></span><br><span class="line">    <span class="attr">b</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attr">y</span>: <span class="string">&#x27;hey&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Expected = &#123; </span><br><span class="line">  <span class="keyword">readonly</span> x: &#123; </span><br><span class="line">    <span class="keyword">readonly</span> a: <span class="number">1</span></span><br><span class="line">    <span class="keyword">readonly</span> b: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">readonly</span> y: <span class="string">&#x27;hey&#x27;</span> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Todo = DeepReadonly&lt;X&gt; <span class="comment">// should be same as `Expected`</span></span><br></pre></td></tr></table></figure><p>å®ç°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> DeepReadonly&lt;T&gt; = &#123;</span><br><span class="line">  <span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]: keyof T[P] <span class="keyword">extends</span> <span class="built_in">never</span> ? T[P] : DeepReadonly&lt;T[P]&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æŠ€å·§æç¤ºï¼š</p><ul><li>é€šè¿‡ <code>keyof T[P] extends never</code> è¿™ç§æ–¹å¼åˆ¤æ–­æ˜¯å¦æœ‰å­å±æ€§ï¼Œå¯ä»¥å®Œæˆæ·±åº¦éå†</li></ul><h3 id="Merge-ä»¥åŠå…¶ä»–-interface-ç›¸å…³"><a href="#Merge-ä»¥åŠå…¶ä»–-interface-ç›¸å…³" class="headerlink" title="Merge ä»¥åŠå…¶ä»– interface ç›¸å…³"></a>Merge ä»¥åŠå…¶ä»– interface ç›¸å…³</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00599-medium-merge/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> foo = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> coo = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  sex: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result = Merge&lt;foo,coo&gt;; <span class="comment">// expected to be &#123;name: string, age: number, sex: string&#125;</span></span><br></pre></td></tr></table></figure><p>Merge çš„åŠŸèƒ½å’Œ typescript æä¾›çš„å¾ˆå¤šå†…ç½®åŠŸèƒ½å‡½æ•°å¾ˆåƒï¼Œè¿™ä¸ªé¢˜ç›®å®ç°çš„æ–¹å¼å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œç»™å‡ºä¸€ä¸ªæ¯”è¾ƒç®€æ´çš„æ–¹å¼ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Merge&lt;T, U&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> Exclude&lt;keyof T, keyof U&gt;]: T[P];</span><br><span class="line">&#125; &amp; &#123;</span><br><span class="line">  [G <span class="keyword">in</span> keyof U]: U[G];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼ Mergeï¼Œæˆ‘ä»¬åœ¨å†ç»™å‡ºä¸€äº›å…¶ä»–çš„ç®€å•çš„ç±»ä¼¼ type ç›¸å…³çš„æ“ä½œ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Diffï¼šé€‰å‡ºä¸¤ä¸ªç±»å‹ä¸­ä¸åŒå±æ€§ï¼š</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Diff&lt;T, U&gt; = Omit&lt;T &amp; U, keyof T &amp; keyof U&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PickByTypeï¼šæŒ‰ç…§ç±»å‹é€‰æ‹©</span></span><br><span class="line"><span class="comment">// type OnlyBoolean = PickByType&lt;&#123;</span></span><br><span class="line"><span class="comment">//   name: string</span></span><br><span class="line"><span class="comment">//   count: number</span></span><br><span class="line"><span class="comment">//   isReadonly: boolean</span></span><br><span class="line"><span class="comment">//   isEnable: boolean</span></span><br><span class="line"><span class="comment">// &#125;, boolean&gt; // &#123; isReadonly: boolean; isEnable: boolean; &#125;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> PickByType&lt;T, U&gt; = &#123;</span><br><span class="line">  [K <span class="keyword">in</span> keyof T <span class="keyword">as</span> T[K] <span class="keyword">extends</span> U ? K : <span class="built_in">never</span>]: T[K];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RequiredByKeysï¼šæŒ‰ç…§ key æ¥è®¾ç½®æˆ Require</span></span><br><span class="line"><span class="comment">// interface User &#123;</span></span><br><span class="line"><span class="comment">//   name?: string</span></span><br><span class="line"><span class="comment">//   age?: number</span></span><br><span class="line"><span class="comment">//   address?: string</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// type UserRequiredName = RequiredByKeys&lt;User, &#x27;name&#x27;&gt; // &#123; name: string; age?: number; address?: string &#125;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> RequiredByKeys&lt;T, K = keyof T&gt; = SimpleMerge&lt;</span><br><span class="line">  Partial&lt;Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;&gt;,</span><br><span class="line">  Required&lt;Pick&lt;T, Extract&lt;keyof T, K&gt;&gt;&gt;</span><br><span class="line">  <span class="comment">// **å¯ä»¥çœ‹ä¸€ä¸‹ Required çš„å†™æ³•ï¼Œèƒ½å­¦åˆ°ä¸€ç‚¹æ–°çš„ä¸œè¥¿</span></span><br><span class="line">&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mutable</span></span><br><span class="line"><span class="comment">// interface Todo &#123;</span></span><br><span class="line"><span class="comment">//   readonly title: string</span></span><br><span class="line"><span class="comment">//   readonly description: string</span></span><br><span class="line"><span class="comment">//   readonly completed: boolean</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// type MutableTodo = Mutable&lt;Todo&gt; // &#123; title: string; description: string; completed: boolean; &#125;</span></span><br><span class="line"><span class="comment">// your answers</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Mutable&lt;T&gt; = &#123;</span><br><span class="line">  -<span class="keyword">readonly</span> [K <span class="keyword">in</span> keyof T]: T[K]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get Required</span></span><br><span class="line"><span class="comment">// type I = GetRequired&lt;&#123; foo: number, bar?: string &#125;&gt; // expected to be &#123; foo: number &#125;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> GetRequired&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T <span class="keyword">as</span> T[P] <span class="keyword">extends</span> Required&lt;T&gt;[P] ? P : <span class="built_in">never</span>]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> RequiredKeys&lt;T&gt; = keyof GetRequired&lt;T&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get Optional</span></span><br><span class="line"><span class="comment">// type I = GetOptional&lt;&#123; foo: number, bar?: string &#125;&gt; // expected to be &#123; bar?: string &#125;</span></span><br><span class="line"><span class="comment">// https://github.com/type-challenges/type-challenges/blob/main/questions/00059-hard-get-optional/README.md</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> GetOptional&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T <span class="keyword">as</span> T[P] <span class="keyword">extends</span> Required&lt;T&gt;[P] ? <span class="built_in">never</span> : P]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> OptionalKeys&lt;T&gt; = keyof GetOptional&lt;T&gt;</span><br></pre></td></tr></table></figure><p>ä¸€äº›æŠ€å·§æç¤ºï¼š</p><ul><li>é€šè¿‡ç»„åˆ Typescript å†…ç½®çš„åŠŸèƒ½å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆå¾ˆå¤šå¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚</li><li>é€šè¿‡ <code>-readonly</code> æ¥å‡å»ä¿®é¥°ç¬¦ã€‚</li><li>é€šè¿‡ <code>[P in keyof T]-?: T[P];</code> è¿™ç§æ–¹å¼æ¥å‡å»å¯é€‰ä¿®é¥°ç¬¦ï¼ˆTypescript å†…ç½®çš„ Required å°±æ˜¯è¿™ä¹ˆå®ç°çš„ï¼‰ã€‚</li><li>é€šè¿‡ <code>K in keyof T as T[K]</code> è·å–ä¸€ä¸ªå±æ€§çš„ç±»å‹ï¼Œç»“åˆ extends åšæ¡ä»¶åˆ¤æ–­ã€‚</li></ul><h3 id="TrimLeft-ä»¥åŠå­—ç¬¦ä¸²ç›¸å…³"><a href="#TrimLeft-ä»¥åŠå­—ç¬¦ä¸²ç›¸å…³" class="headerlink" title="TrimLeft ä»¥åŠå­—ç¬¦ä¸²ç›¸å…³"></a>TrimLeft ä»¥åŠå­—ç¬¦ä¸²ç›¸å…³</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00106-medium-trimleft/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> trimed = TrimLeft&lt;<span class="string">&#x27;  Hello World  &#x27;</span>&gt; <span class="comment">// expected to be &#x27;Hello World  &#x27;</span></span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šå­—ç¬¦ä¸²æ“ä½œåœ¨ Typescript ä¸­åº”è¯¥ç”¨çš„å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œè€Œè¿™ä¹Ÿæ˜¯ Typescript æ¯”è¾ƒåé¢ï¼ˆ4.0+ï¼‰æ‰é€æ¸å®Œå–„çš„åŠŸèƒ½ã€‚<br>è¿™ä¸ªé¢˜ç›®çš„è§£ç­”ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Space = <span class="string">&quot; &quot;</span> | <span class="string">&quot;\n&quot;</span> | <span class="string">&quot;\t&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> TrimLeft&lt;S <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;Space&#125;</span><span class="subst">$&#123;infer Rest&#125;</span>`</span></span><br><span class="line">  ? TrimLeft&lt;Rest&gt;</span><br><span class="line">  : S;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¦‚æœçŸ¥é“å¯ä»¥è¿™æ ·å†™ï¼Œè¿˜å¯ä»¥å®ç°å¾ˆå¤šçš„ç±»ä¼¼çš„æ–¹å¼ï¼Œæ¯”å¦‚å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç° <code>Trim</code> å’Œ <code>TrimRight</code> ï¼ˆç”±äºç›¸ä¼¼åº¦éå¸¸é«˜ï¼Œè¿™ä¸¤ä¸ªä¸å†ç½—åˆ—ç­”æ¡ˆï¼‰ï¼Œä»¥åŠ <code>Replace</code>ã€<code>ReplaceAll</code>ã€<code>DropChar</code> ç­‰ï¼Œç”šè‡³è¿˜å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°å®ç°ç±»å‹è½¬æ¢ï¼Œå¦‚ <code>ParseInt</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Replace</span></span><br><span class="line"><span class="comment">// type replaced = Replace&lt;&#x27;types are fun!&#x27;, &#x27;fun&#x27;, &#x27;awesome&#x27;&gt; // expected to be &#x27;types are awesome!&#x27;</span></span><br><span class="line"><span class="comment">// https://github.com/type-challenges/type-challenges/blob/main/questions/00116-medium-replace/README.md</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Replace&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  From <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  To <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">&gt; = From <span class="keyword">extends</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  ? S</span><br><span class="line">  : S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer Left&#125;</span><span class="subst">$&#123;From&#125;</span><span class="subst">$&#123;infer Right&#125;</span>`</span></span><br><span class="line">  ? <span class="string">`<span class="subst">$&#123;Left&#125;</span><span class="subst">$&#123;To&#125;</span><span class="subst">$&#123;Right&#125;</span>`</span></span><br><span class="line">  : S;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿‘ä¼¼ Replaceï¼Œæ›¿æ¢å…¨éƒ¨</span></span><br><span class="line"><span class="comment">// type replaced = ReplaceAll&lt;&#x27;t y p e s&#x27;, &#x27; &#x27;, &#x27;&#x27;&gt; // expected to be &#x27;types&#x27;</span></span><br><span class="line"><span class="comment">// https://github.com/type-challenges/type-challenges/blob/main/questions/00119-medium-replaceall/README.md</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> ReplaceAll&lt;</span><br><span class="line">  S <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  From <span class="keyword">extends</span> <span class="built_in">string</span>,</span><br><span class="line">  To <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">&gt; = From <span class="keyword">extends</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  ? S</span><br><span class="line">  : S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer Left&#125;</span><span class="subst">$&#123;From&#125;</span><span class="subst">$&#123;infer Right&#125;</span>`</span></span><br><span class="line">  ? <span class="string">`<span class="subst">$&#123;Left&#125;</span><span class="subst">$&#123;To&#125;</span><span class="subst">$&#123;ReplaceAll&lt;<span class="string">`<span class="subst">$&#123;Right&#125;</span>`</span>, From, To&gt;&#125;</span>`</span></span><br><span class="line">  : S;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Drop Char</span></span><br><span class="line"><span class="comment">// å’Œä¸Šé¢çš„æ¯”è¾ƒç±»ä¼¼</span></span><br><span class="line"><span class="comment">// type Butterfly = DropChar&lt;&#x27; b u t t e r f l y ! &#x27;, &#x27; &#x27;&gt; // &#x27;butterfly!&#x27;</span></span><br><span class="line"><span class="comment">// https://github.com/type-challenges/type-challenges/blob/main/questions/02070-medium-drop-char/README.md</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> DropChar&lt;S, C&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer H&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span></span><br><span class="line">  ? H <span class="keyword">extends</span> C</span><br><span class="line">    ? <span class="string">`<span class="subst">$&#123;DropChar&lt;R, C&gt;&#125;</span>`</span></span><br><span class="line">    : <span class="string">`<span class="subst">$&#123;H&#125;</span><span class="subst">$&#123;DropChar&lt;R, C&gt;&#125;</span>`</span></span><br><span class="line">  : <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ParseIntï¼šå­—ç¬¦ä¸²è½¬æ•°å­—ï¼š</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> ParseInt&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = T <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer Digit <span class="keyword">extends</span> <span class="built_in">number</span>&#125;</span>`</span> ? Digit : <span class="built_in">never</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼ŒåŸºäºæ“ä½œå­—ç¬¦ä¸²çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®ç°æ›´å¤šï¼Œæ¯”å¦‚ï¼š</p><ul><li><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00531-medium-string-to-union/README.md">StringToUnion</a> å­—ç¬¦ä¸²è½¬è”åˆç±»å‹ï¼Œ<code>123</code> -&gt; <code>&quot;1&quot; | &quot;2&quot; | &quot;3&quot;</code></li><li><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00612-medium-kebabcase/README.md">KebabCase</a> å­—ç¬¦ä¸²æ ¼å¼è½¬æ¢ï¼Œ<code>FooBarBaz -&gt; foo-bar-baz</code></li></ul><p>ç­‰ç­‰ï¼Œè¿™äº›ç¬”è€…æ²¡æœ‰åˆ—ä¸¾å…·ä½“å®ç°ï¼Œæ˜¯å› ä¸ºè®¤ä¸ºå¤§éƒ¨åˆ†å¼€å‘ä¸­ç”¨çš„è¿˜æ˜¯ä¸å¤šçš„ï¼Œå¦‚æœä½ ç›´æ¥ä¸€çœ¼å°±èƒ½æƒ³å‡ºæ–¹æ¡ˆï¼Œå¯èƒ½ä¹Ÿä¸ç”¨å»çœ‹äº†ã€‚</p><h3 id="Append-Argument"><a href="#Append-Argument" class="headerlink" title="Append Argument"></a>Append Argument</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00191-medium-append-argument/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Fn = <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result = AppendArgument&lt;Fn, <span class="built_in">boolean</span>&gt; </span><br><span class="line"><span class="comment">// expected be (a: number, b: string, x: boolean) =&gt; number</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­å¯èƒ½ä¼šåœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°ï¼Œè€Œä¸”å¯ä»¥è®©æˆ‘ä»¬å›é¡¾å¦‚ä½•æ“ä½œå‡½æ•°ç±»å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> AppendArgument&lt;Fn <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>, A&gt; = Fn <span class="keyword">extends</span> (</span><br><span class="line">  ...args: infer Args</span><br><span class="line">) =&gt; infer Res</span><br><span class="line">  ? <span class="function">(<span class="params">...arg: [...Args, A]</span>) =&gt;</span> Res</span><br><span class="line">  : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure><h3 id="Append-to-object"><a href="#Append-to-object" class="headerlink" title="Append to object"></a>Append to object</h3><p><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00527-medium-append-to-object/README.md">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Test = &#123; <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">type</span> Result = AppendToObject&lt;Test, <span class="string">&#x27;value&#x27;</span>, <span class="number">4</span>&gt; <span class="comment">// expected to be &#123; id: &#x27;1&#x27;, value:</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„å’Œ <code>Merge</code> æœ‰æ‰€åŒºåˆ«ï¼Œè¿™é‡Œæ˜¯é’ˆå¯¹ <code>Object</code> æ¥æ“ä½œ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> AppendToObject&lt;T, U, V&gt; = T <span class="keyword">extends</span> Record&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;</span><br><span class="line">  ? U <span class="keyword">extends</span> <span class="built_in">string</span></span><br><span class="line">    ? &#123; [K <span class="keyword">in</span> keyof T | U]: K <span class="keyword">extends</span> U ? V : T[K] &#125;</span><br><span class="line">    : T</span><br><span class="line">  : T;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>Typescript ç‰¹æ€§ç›¸å¯¹å®Œå¤‡ï¼ŒåŸºäºæ­¤å¯ä»¥å®Œæˆéå¸¸å¤æ‚çš„éœ€æ±‚ï¼Œç”šè‡³ä½¿ç”¨ <a href="https://github.com/ronami/HypeScript">Typescript æ¥ç¼–å†™ä¸€ä¸ª Typescript Checker</a>ï¼Œä¸è¿‡ç¬”è€…è®¤ä¸ºï¼Œå¯¹äºæ—¶é—´ç²¾åŠ›æœ‰é™çš„ä¸€èˆ¬å·¥ä½œä¸­çš„å¼€å‘è€…æ¥è¯´ï¼ŒçŸ¥é“â€œå¯ä»¥è¿™æ ·åšâ€ï¼Œå¹¶ä¸”åœ¨é€‚å½“çš„æ—¶å€™å¯ä»¥é€šè¿‡ç®€å•çš„èµ„æ–™æŸ¥é˜…å®Œæˆéœ€æ±‚ï¼Œè¿™ä¸€ç‚¹å¯èƒ½æ›´é‡è¦ã€‚</p><p>ç»è¿‡æƒè¡¡ï¼Œæœ¬æ–‡ä¸­åªåˆ—ä¸¾äº†éƒ¨åˆ† <a href="https://github.com/type-challenges/type-challenges">typeâ€“challenges</a> ä¸­çš„å†…å®¹ï¼Œå¦‚æœä½ è¿˜æƒ³äº†è§£æ›´å¤šï¼Œä¸å¦¨çœ‹çœ‹åŸ github ä»“åº“ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿‘æœŸç”¨äº†ä¸€å®šæ—¶é—´é€šè¯»äº† &lt;a href=&quot;https://github.com/type-challenges/type-challenges&quot;&gt;type-challenges&lt;/a&gt;ï¼Œæ„Ÿæ…¨ Typescript ä¹Ÿå¯ä»¥å†™çš„å¦‚æ­¤å¤æ‚ä¹‹ä½™ï¼Œä¹Ÿå‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œå¯¹é¢˜ç›®åšäº†æ•´ç†ï¼Œ</summary>
      
    
    
    
    
    <category term="Typescript" scheme="https://z4ynadmin.github.io/tags/Typescript/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Rust å¼€å‘ python æ¨¡å—</title>
    <link href="https://z4ynadmin.github.io/2022/06/04/python%E8%B0%83%E7%94%A8Rust/"/>
    <id>https://z4ynadmin.github.io/2022/06/04/python%E8%B0%83%E7%94%A8Rust/</id>
    <published>2022-06-04T09:34:05.000Z</published>
    <updated>2022-11-04T07:11:09.553Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äº Rust çš„åŸºæœ¬ä»‹ç»ï¼Œæˆ‘åœ¨ä¹‹å‰çš„<a href="http://niexiaotao.cn/2021/09/02/%E4%BA%86%E8%A7%A3%20StackOverFlow%20%E4%B8%8A%E9%9D%A2%E6%9C%80%E5%8F%97%E6%AC%A2%E8%BF%8E%E7%9A%84%E8%AF%AD%E8%A8%80%20Rust/">æ–‡ç« </a>æœ‰åšè¿‡ä¸€äº›æ€»ç»“ã€‚</p><p>æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬å…³æ³¨å¦‚ä½•åœ¨ python ä¸­è°ƒç”¨ Rust å¼€å‘çš„æ¨¡å—ã€‚</p><h2 id="Rust-FFI-çš„ä¸€èˆ¬æ€è·¯"><a href="#Rust-FFI-çš„ä¸€èˆ¬æ€è·¯" class="headerlink" title="Rust FFI çš„ä¸€èˆ¬æ€è·¯"></a>Rust FFI çš„ä¸€èˆ¬æ€è·¯</h2><p>Rust å¯ä»¥ç¼–è¯‘å‡ºå…¼å®¹ C ABI çš„åŠ¨æ€åº“æˆ–è€…é™æ€åº“ï¼ŒRust è°ƒç”¨å…¶ä»–è¯­è¨€ï¼Œä»¥åŠ Rust è¢«å…¶ä»–è¯­è¨€è°ƒç”¨ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šè¿‡ C ABI æ¥è¿›è¡Œ FFI è°ƒç”¨ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå®é™…ä¸Š C++ è°ƒç”¨ Rust <em>å¹¶ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿</em>ï¼Œéœ€è¦ä½¿ç”¨ Rust æä¾›çš„ C æ¥å£ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰åŠæ³•ä½¿ç”¨ C++ æä¾›çš„ç±»å‹ï¼Œè€Œ Rust åœ¨å¯¼å‡ºæ¥å£çš„æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•ä½¿ç”¨ Rust çš„ç±»å‹ç³»ç»Ÿï¼Œéœ€è¦è½¬æ¢æˆ C ç±»å‹ã€‚</p><p>å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½ä¼šåœ¨è¿™ç§åœºæ™¯ä¸‹å†™ä¸€å±‚ wrapper å’Œ converterï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆ FFI å±‚çš„ä¸€äº›èƒ¶æ°´ä»£ç ã€‚</p><p>å¯¹äº Python è¿™ç±»é«˜çº§è¯­è¨€è°ƒç”¨ Rustï¼ŒåŸºæœ¬ä¹Ÿæ˜¯ç±»ä¼¼çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•æ€»ç»“ä¸ºä¸‹å›¾ï¼š</p><p><img src="/img/calling_rust_from_python_std_ffi_and_ctypes.png"></p><p>å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå¯¹äº Python è°ƒç”¨ Rustï¼Œç¤¾åŒºå·²ç»æœ‰éå¸¸å¤šç°æˆçš„æˆç†Ÿå·¥å…·å¯ä»¥ä½¿ç”¨ï¼ŒåŸºäºè¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°ä¸“æ³¨äº Rust å®ç°é€»è¾‘æœ¬èº«ï¼Œæ— éœ€å…³æ³¨å¤ªå¤š FFI å’Œè½¬æ¢ç»†èŠ‚ã€‚</p><h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><p>ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <a href="https://github.com/PyO3/pyo3">PyO3</a>ï¼ŒPyO3 ä¸ä»…ä»…æä¾›äº† rust bindingï¼Œä¹Ÿæä¾›äº†åˆ›å»º python åŒ…çš„å¼€ç®±å³ç”¨çš„è„šæ‰‹æ¶å·¥å…· <a href="https://github.com/PyO3/maturin">maturin</a>ï¼Œä½¿ç”¨ maturin æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ›å»ºä¸€ä¸ªåŸºäº rust å¼€å‘çš„ python æ‰©å±•æ¨¡å—ã€‚</p><p>æˆ‘ä»¬è¿™é‡Œæ•´ç†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ä¸­æä¾›çš„æœ€ç®€å•çš„æ–¹å¼ï¼Œè¯»è€…å¯ä»¥ç›´æ¥ä¾æ¬¡æ‰§è¡Œä¸‹é¢çš„ shell è„šæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir string_sum</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> string_sum</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»º venv çš„è¿™ä¸€æ­¥ä¸èƒ½çœç•¥ï¼Œå¦åˆ™åç»­è¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python -m venv .env</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> .env/bin/activate</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install maturin</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥ä½¿ç”¨ maturin åˆå§‹åŒ–é¡¹ç›®å³å¯ï¼Œé€‰æ‹© pyo3ï¼Œæˆ–è€…ç›´æ¥æ‰§è¡Œ maturin init --bindings pyo3</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> maturin init</span></span><br><span class="line">âœ” ğŸ¤· What kind of bindings to use? Â· pyo3</span><br><span class="line">  âœ¨ Done! New project created string_sum</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç®€å•çš„ Rust é¡¹ç›®ï¼Œå¹¶ä¸”åŒ…å«äº†ä¸€ä¸ªç¤ºä¾‹è°ƒç”¨ï¼Œæˆ‘ä»¬æ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æµ‹è¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> maturin develop ä¼šè‡ªåŠ¨æ‰“åŒ…å‡ºä¸€ä¸ª wheel åŒ…ï¼Œå¹¶ä¸”å®‰è£…åˆ°å½“å‰çš„ venv ä¸­</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> maturin develop</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; import string_sum</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; string_sum.sum_as_string(5, 20)</span></span><br><span class="line">&#x27;25&#x27;</span><br></pre></td></tr></table></figure><h2 id="è¿›é˜¶å·¥å…·"><a href="#è¿›é˜¶å·¥å…·" class="headerlink" title="è¿›é˜¶å·¥å…·"></a>è¿›é˜¶å·¥å…·</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»‹ç»å‡ ä¸ªæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ Rust å¼€å‘ python åŒ…çš„è¿›é˜¶å·¥å…·æˆ–å¼•å¯¼ã€‚</p><h3 id="setuptools-rust"><a href="#setuptools-rust" class="headerlink" title="setuptools-rust"></a>setuptools-rust</h3><p><a href="https://github.com/PyO3/setuptools-rust">setuptools-rust</a> æ˜¯ä¸€ä¸ª setuptools çš„æ’ä»¶ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°ç¼–å†™ä½¿ç”¨ pyo3 å¼€å‘çš„ rust python åŒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ clone å®ƒçš„æºä»£ç ï¼Œç›´æ¥ä½¿ç”¨å®ƒæä¾›çš„ç¤ºä¾‹ï¼Œå‚è€ƒå¦‚ä¸‹å‘½ä»¤æµ‹è¯•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> examples/rust_with_cffi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python ./setup.py develop</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python</span></span><br><span class="line">Python 3.9.7 (default, Sep  3 2021, 12:37:55)</span><br><span class="line">[Clang 12.0.5 (clang-1205.0.22.9)] on darwin</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; from rust_with_cffi import rust</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; rust.rust_func()</span></span><br><span class="line">14</span><br></pre></td></tr></table></figure><h3 id="dict-derive"><a href="#dict-derive" class="headerlink" title="dict-derive"></a>dict-derive</h3><p>è¿™ä¸ª rust åº“æä¾›äº† FromPyObject å’Œ IntoPyObject ä¸¤ä¸ªå®ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå®ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œ python dict ç»“æ„å’Œ Rust ç»“æ„ä½“çš„è½¬æ¢ã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬å£°æ˜è¿™æ ·ä¸€ä¸ªç»“æ„ä½“ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(FromPyObject, IntoPyObject)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="class"><span class="keyword">struct</span> <span class="title">User</span></span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> name: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> email: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> age: <span class="built_in">u32</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°±ç›´æ¥å¯ä»¥åœ¨å¯¼å‡ºå‡½æ•°ä¸­è¿™æ ·ä½¿ç”¨äº†ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Requires FromPyObject to receive a struct as an argument</span></span><br><span class="line"><span class="meta">#[pyfunction]</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_contact_info</span></span>(user: User) -&gt; PyResult&lt;<span class="built_in">String</span>&gt; &#123;</span><br><span class="line">    <span class="literal">Ok</span>(<span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125; - &#123;&#125;&quot;</span>, user.name, user.email))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Requires IntoPyObject to return a struct</span></span><br><span class="line"><span class="meta">#[pyfunction]</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">get_default_user</span></span>() -&gt; PyResult&lt;User&gt; &#123;</span><br><span class="line">    <span class="literal">Ok</span>(User &#123;</span><br><span class="line">        name: <span class="string">&quot;Default&quot;</span>.to_owned(),</span><br><span class="line">        email: <span class="string">&quot;default@user.com&quot;</span>.to_owned(),</span><br><span class="line">        age: <span class="number">27</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡å®å±•å¼€å¯ä»¥å‘ç°ï¼Œè¿™ä¸¤ä¸ªå®æ‰€åšçš„äº‹æƒ…å°±æ˜¯åˆ†åˆ«å°† <code>pyo3::types::PyDict</code> è½¬æ¢æˆ Rust ç»“æ„ä½“å’Œå°† Rust ç»“æ„ä½“è½¬æ¢æˆ <code>pyo3::types::PyDict</code>ã€‚</p><p>æ•´ä½“å®å±•å¼€çš„ä»£ç ä¸å¤šï¼Œè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿é˜…è¯»çš„ã€‚</p><h3 id="rust-numpy"><a href="#rust-numpy" class="headerlink" title="rust-numpy"></a>rust-numpy</h3><p><a href="https://github.com/PyO3/rust-numpy">rust-numpy</a> æ˜¯ä¸€ä¸ª rust ç‰ˆæœ¬çš„ numpy C ABI å°è£…ï¼Œä½¿ç”¨è¿™ä¸ªåº“æˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­è°ƒç”¨ numpy</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿è¡Œè¯¥åº“çš„ç¤ºä¾‹ä»£ç ã€‚</p><p>æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… noxï¼Œnox æ˜¯ä¸€ä¸ª python è‡ªåŠ¨åŒ–ä»»åŠ¡å·¥å…·ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python3 -m pip install nox</span></span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬è¿›å…¥åˆ°å‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œå³å¯ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> examples/simple</span><br><span class="line"><span class="variable">$</span> nox</span><br></pre></td></tr></table></figure><p>é¡ºåˆ©çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä¼šè¾“å‡ºæµ‹è¯•æˆåŠŸï¼š</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tests/test_ext.py .....                                                                                                                                       [<span class="number">100</span><span class="comment">%]</span></span><br><span class="line"></span><br><span class="line">========================================================================= <span class="number">5</span> passed in <span class="number">0.32</span>s =========================================================================</span><br><span class="line">nox &gt; Session tests was successful.</span><br></pre></td></tr></table></figure><h3 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h3><p>åœ¨ Rust ä¸­å¹¶æ²¡æœ‰ç›´æ¥å’Œ python ä¸­çš„ pandas åŒ…å¯¹æ ‡çš„è¯¸å¦‚ pandas-rs åŒ…ã€‚</p><p>ä¸è¿‡ Rust æ ‡å‡†åº“æœ¬èº«ä¹Ÿæä¾›äº†éå¸¸å¤šçš„æ•°æ®å¤„ç†å‡½æ•°å¦‚ç­›é€‰ã€è¿‡æ»¤ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹å†™ä»£ç å®Œæˆå¤§éƒ¨åˆ† pandas çš„å·¥ä½œã€‚</p><p>åœ¨<a href="https://able.bio/haixuanTao/data-manipulation-pandas-vs-rust--1d70e7fc">è¿™ç¯‡æ–‡ç« </a>ä¸­ï¼Œä½œè€…ä½¿ç”¨äº†å¤§çº¦ 160,000è¡Œ/ 130åˆ—ï¼Œæ€»å¤§å°ä¸º 150Mb çš„æ•°æ®ï¼Œ åˆ†åˆ«ä½¿ç”¨ Rust å’Œ Pandas å¤„ç†å¹¶æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æå‡è¿˜æ˜¯æ¯”è¾ƒæ˜¾è‘—çš„ï¼š</p><table><thead><tr><th></th><th>Time(s)</th><th>Mem Usage(Gb)</th></tr></thead><tbody><tr><td>Pandas</td><td>3.0s</td><td>2.5Gb</td></tr><tr><td>Rust</td><td>1.6s ğŸ”¥ -50%</td><td>1.7Gb ğŸ”¥ -32%</td></tr></tbody></table><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>pyo3 çš„ README é‡Œé¢è¿˜åˆ—ä¸¾äº†ä¸€äº›å…¶ä»–çš„å·¥å…·åº“ï¼Œä½¿ç”¨èµ·æ¥ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸åšå•ç‹¬ä»‹ç»äº†ã€‚</p><ul><li><a href="https://github.com/vorner/pyo3-log">pyo3-log</a>ï¼šåœ¨ Rust ä¸­ä½¿ç”¨ python çš„ logging åº“ã€‚</li><li><a href="https://github.com/PyO3/pyo3-built">pyo3-built</a>ï¼šå¯ä»¥åœ¨ç¼–è¯‘ rust çš„ python æ¨¡å—çš„æ—¶å€™å†™å…¥ä¸€äº›æ„å»ºä¿¡æ¯ï¼Œå¦‚ rust ç‰ˆæœ¬ç­‰ã€‚</li><li><a href="https://github.com/awestlake87/pyo3-asyncio">pyo3-asyncio</a>ï¼špython asyio çš„ Rust bindingï¼Œå¯ä»¥å°† python çš„ async è½¬æ¢æˆ Rust çš„ featuresã€‚</li><li><a href="https://github.com/mityax/rustimport">rustimport</a>ï¼šå¯ä»¥åœ¨ python ä¸­ç›´æ¥å¼•å…¥ rust ä»£ç ï¼Œä½†å› ä¸ºå¼•å…¥çš„æ—¶å€™éœ€è¦ç¼–è¯‘ï¼Œç¬”è€…ä¸æ˜¯å¾ˆå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ã€‚</li></ul><hr><p>è™½ç„¶ä¸Šé¢ä»‹ç»äº†è¿™ä¹ˆå¤šå·¥å…·ï¼Œä½†æ˜¯ç¬”è€…è®¤ä¸ºï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬åº”è¯¥è¿˜ä¼šç»“åˆä¸šåŠ¡ï¼Œå¯»æ‰¾å’Œé€ å‡ºæ›´å¤šè½®å­ï¼Œè¿™éƒ¨åˆ†å·¥ä½œå°±æœ‰å¾…æˆ‘ä»¬è¿›ä¸€æ­¥å¼€æ‹“äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…³äº Rust çš„åŸºæœ¬ä»‹ç»ï¼Œæˆ‘åœ¨ä¹‹å‰çš„&lt;a href=&quot;http://niexiaotao.cn/2021/09/02/%E4%BA%86%E8%A7%A3%20StackOverFlow%20%E4%B8%8A%E9%9D%A2%E6%9C%80%E5%8F%97%E6%</summary>
      
    
    
    
    
    <category term="Rust" scheme="https://z4ynadmin.github.io/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäº Container æ¶æ„çš„å¤šæ¡†æ¶å‰ç«¯åº”ç”¨</title>
    <link href="https://z4ynadmin.github.io/2022/05/25/%E5%9F%BA%E4%BA%8Econtainer%E6%9E%B6%E6%9E%84%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    <id>https://z4ynadmin.github.io/2022/05/25/%E5%9F%BA%E4%BA%8Econtainer%E6%9E%B6%E6%9E%84%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/</id>
    <published>2022-05-25T14:17:41.000Z</published>
    <updated>2022-11-04T07:11:09.558Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚å¿µä»‹ç»"><a href="#æ¦‚å¿µä»‹ç»" class="headerlink" title="æ¦‚å¿µä»‹ç»"></a>æ¦‚å¿µä»‹ç»</h2><p>æœ¬æ–‡æä¾›ä¸€ç§ç”¨äºæ„å»ºå¤šæ¡†æ¶å‰ç«¯é¡¹ç›®çš„æ€è·¯ï¼Œç›®å‰è¿˜å°šæœªå®Œæ•´ç¼–å†™ä»£ç éªŒè¯å…¶å¯è¡Œæ€§ã€‚</p><p>è¿™ç§æ€è·¯æœ‰äº›ç±»ä¼¼äº<em>å¾®å‰ç«¯</em>ï¼Œå®é™…ä¸Šå¯¹äºå¾®å‰ç«¯æ¥è®²çš„è¯ï¼Œç¤¾åŒºå·²ç»æœ‰äº† <a href="https://single-spa.js.org/">single-spa</a> å’ŒåŸºäºå…¶æ„å»ºçš„ <a href="https://qiankun.umijs.org/zh/guide/tutorial">qiankun</a> ç­‰è‹¥å¹²æ–¹æ¡ˆã€‚</p><p>è¿™äº›æ¡†æ¶éƒ½å¾ˆä¼˜ç§€ï¼Œä¹Ÿç»è¿‡äº†ä¸å°‘ç”Ÿäº§é¡¹ç›®çš„éªŒè¯ï¼Œèƒ½å¤Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ»¡è¶³å¾®å‰ç«¯çš„éœ€æ±‚ã€‚</p><p>ä½†æˆ‘ä¸ªäººè§‰å¾—ï¼Œå¯¹äºä¸€ä¸ªå›¢é˜Ÿè§„æ¨¡ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯åˆå­˜åœ¨ä¸åŒæŠ€æœ¯æ ˆçš„å›¢é˜Ÿæ¥è¯´ï¼Œç›´æ¥ä½¿ç”¨è¿™ç±»å¾®å‰ç«¯æ¡†æ¶ï¼Œä¼šæœ‰ä¸€äº›è´Ÿæ‹…ï¼Œè¿™ä¸»è¦ä½“ç°åœ¨ï¼š</p><ol><li>å„ä¸ªå¾®å‰ç«¯åº”ç”¨è™½ç„¶å¯ä»¥äº’ç›¸è°ƒç”¨ï¼Œä½†æ˜¯è°ƒç”¨æ–¹å¼æœ‰é™ï¼Œå¯¹äºå¤æ‚çš„å†…å®¹æ¯”å¦‚é€šç”¨ UI æ¨¡å—çš„å…±äº«æ¯”è¾ƒå›°éš¾ã€‚</li><li>é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸºåº§åº”ç”¨ä¸å¤Ÿå¼ºå¤§ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¼šåŠ å‰§å¼€å‘çš„ç‹¬ç«‹æ€§ï¼Œä¸åˆ©äºä»£ç å¤ç”¨å’Œå…±äº«ã€‚</li><li>åŸåˆ™ä¸Šï¼Œ<strong>å¯¹äºå°å›¢é˜Ÿè€Œè¨€ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ç»Ÿä¸€æˆæŠ€æœ¯æ ˆä¸º React æˆ–è€… Vueï¼Œæ²¡æœ‰ä»»ä½•é“ç†å¯ä»¥æ”¯æ’‘åŒæ—¶ç»´æŠ¤ä¸¤å¥—æŠ€æœ¯æ ˆï¼Œä½†æ˜¯å¦‚æœæƒ³å°è¯•ä¸€äº›æ–°æŠ€æœ¯æ ˆï¼Œå¯ä»¥åœ¨åˆæœŸé‡‡ç”¨ä¸‹è¿°æ–¹æ¡ˆ</strong>ã€‚</li></ol><p>æˆ‘æå‡ºä¸€ç§ Container æ¶æ„çš„å‰ç«¯åº”ç”¨ï¼Œå®ƒå¯èƒ½åº”ç”¨åœ¨ä»¥ä¸‹å‡ ä¸ªåœºæ™¯ä¸­ï¼š</p><ol><li>æ¯”å¦‚ä½ æƒ³ä½¿ç”¨æ–°çš„æ¡†æ¶å¼€å‘éƒ¨åˆ†æ¨¡å—ï¼Œä¾‹å¦‚ä½¿ç”¨ SolidJS å¼€å‘éƒ¨åˆ† React é¡¹ç›®ä¸­çš„ç»„ä»¶ï¼Œç”šè‡³ä½¿ç”¨ Rust å¼€å‘éƒ¨åˆ†æ¨¡å—ï¼Œç”¨æ¥åšé¡¹ç›®çš„å®éªŒæ€§å°è¯•ã€‚</li><li>å‡ºäºå›¢é˜Ÿäººå‘˜æŠ€æœ¯æ ˆçš„åŸå› ï¼Œéœ€è¦ React å’Œ Vue æ··åˆå¼€å‘ã€‚</li><li>æ–°çš„é¡¹ç›®ä½¿ç”¨äº† Reactï¼Œè€Œæ—§çš„é¡¹ç›®ä½¿ç”¨äº† Vueï¼Œå¹¶ä¸”éœ€è¦åœ¨çŸ­æ—¶é—´å†…æŠŠæ—§çš„é¡¹ç›®æ”¾åˆ°æ–°çš„é¡¹ç›®ä¸­å»ä½¿ç”¨ã€‚</li></ol><p>Container æ¶æ„çš„ä¸»è¦ç›®çš„åœ¨äºï¼š</p><ol><li>å¢å¼ºåŸºåº§é¡¹ç›®çš„é‡è¦ç¨‹åº¦ï¼Œä»è€Œåšåˆ°å°½å¯èƒ½æ›´å¤šåœ°æœç”¨åŸºç¡€å»ºè®¾ã€‚</li><li>ä¸ä»…æ¨¡å—æœ¬èº«å¯ä»¥ç”¨ä¸åŒçš„æ¡†æ¶ç¼–å†™ï¼ŒåŸºåº§æœ¬èº«ä¹Ÿå¯ä»¥è¢«æ›¿æ¢æˆä¸åŒçš„ç¯å¢ƒï¼Œä¾‹å¦‚ï¼šçº¯é¡µé¢ç¯å¢ƒã€å®šåˆ¶åŒ–çš„ jupyter ç¯å¢ƒã€electron ç¯å¢ƒã€‚</li><li>å¯ä»¥è®©æˆ‘ä»¬æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œéƒ¨åˆ†æ¨¡å—å…ˆè¡Œå‡çº§ï¼Œéƒ¨åˆ†æ¨¡å—ä½¿ç”¨æ›´é«˜æ€§èƒ½çš„æŠ€æœ¯æ ˆå¼€å‘åŒæ—¶å°½å¯èƒ½å¤šçš„å¤ç”¨ç°æœ‰åŸºæ¶ã€‚</li></ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<em>å¦‚æœæˆ‘ä»¬æƒ³æ¢ä¸ªè¯­è¨€å¼€å‘ï¼Œå°±æ–°åŠ ä¸€ä¸ªæ¨¡å—å°±è¡Œï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ¢ä¸ªåœ°æ–¹è¿è¡Œï¼Œå°±æ–°åŠ ä¸€ç§åŸºåº§å°±è¡Œ</em>ã€‚</p><p>ä»è€Œå®ç°äº†åŒå‘è‡ªç”±åº¦ã€‚</p><p>åŒæ—¶ï¼Œå®ƒç‰ºç‰²äº†ä¸€äº›å†…å®¹ï¼š</p><ol><li>æ¨¡å—ç”±äºå¯¹åŸºåº§é¡¹ç›®çš„ä¾èµ–æ€§æ¯”è¾ƒå¤§ï¼Œé€šå¸¸éš¾ä»¥ç‹¬ç«‹éƒ¨ç½²ã€‚</li></ol><h2 id="æ ¸å¿ƒæ¶æ„å›¾"><a href="#æ ¸å¿ƒæ¶æ„å›¾" class="headerlink" title="æ ¸å¿ƒæ¶æ„å›¾"></a>æ ¸å¿ƒæ¶æ„å›¾</h2><p>æ ¸å¿ƒå›´ç»•ä¸€å¥— Container Abstract API æ¥å±•å¼€ã€‚</p><p><img src="/img/absapp.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line"></span><br><span class="line">node WebApp</span><br><span class="line">node JupyterApp</span><br><span class="line">node ElectronApp</span><br><span class="line">node BaseApp</span><br><span class="line">artifact ContainerAbstractAPI</span><br><span class="line">node ReactModule1</span><br><span class="line">node ReactModule2</span><br><span class="line">node VueModule</span><br><span class="line">node SolidModule</span><br><span class="line">WebApp .. BaseApp : ç»§æ‰¿</span><br><span class="line">JupyterApp .. BaseApp : ç»§æ‰¿</span><br><span class="line">ElectronApp .. BaseApp : ç»§æ‰¿</span><br><span class="line">BaseApp .. ContainerAbstractAPI: æä¾›</span><br><span class="line">ContainerAbstractAPI .. ReactModule1 : ä¾èµ–</span><br><span class="line">ContainerAbstractAPI .. ReactModule2 : ä¾èµ–</span><br><span class="line">ContainerAbstractAPI .. VueModule : ä¾èµ–</span><br><span class="line">ContainerAbstractAPI .. SolidModule : ä¾èµ–</span><br><span class="line"></span><br><span class="line">@enduml</span><br></pre></td></tr></table></figure><p>çœŸæ­£åº”ç”¨éƒ¨ç½²çš„æ—¶å€™ï¼Œé€‰å–ä¸€ä¸ª Appï¼Œä»¥åŠå‡ ä¸ªå¯¹åº”çš„ Moduleï¼Œå°±å¯ä»¥ç»„åˆå‡ºæˆ‘ä»¬çš„ä¸€å¥—éœ€è¦çš„é¡¹ç›®ã€‚</p><p>é’ˆå¯¹è¿™ä¸€å¥—æ¶æ„ï¼Œå¯¹äºé€šç”¨çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°½å¯èƒ½åœ°å®ç°åœ¨ BaseApp é‡Œé¢ã€‚</p><p>BaseApp åº”è¯¥æ˜¯æ¯”è¾ƒå°‘é‡çš„ï¼Œä¸€ä¸ªå›¢é˜Ÿä¸­ç”šè‡³åªæœ‰ä¸€ä¸ªï¼Œå®ƒå¯èƒ½ä¼šç”¨åˆ°ä¸€äº›ç»„ä»¶åº“æˆ–è€…æ¡†æ¶ï¼Œè¿™äº›éƒ½å¯ä»¥çš„ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>å¯¹äºè¿™å¥—æ¶æ„çš„ä¸€ä¸ªç¤ºä¾‹ä»£ç å®ç°ï¼Œæˆ‘ä¼šåœ¨åç»­æ–‡ç« ä¸­ç»™å‡ºã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ¦‚å¿µä»‹ç»&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚å¿µä»‹ç»&quot;&gt;&lt;/a&gt;æ¦‚å¿µä»‹ç»&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡æä¾›ä¸€ç§ç”¨äºæ„å»ºå¤šæ¡†æ¶å‰ç«¯é¡¹ç›®çš„æ€è·¯ï¼Œç›®å‰è¿˜å°šæœªå®Œæ•´ç¼–å†™ä»£ç éªŒè¯å…¶å¯è¡Œæ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ€è·¯æœ‰äº›ç±»ä¼¼äº&lt;em&gt;å¾®å‰</summary>
      
    
    
    
    
    <category term="å‰ç«¯ç»¼åˆ" scheme="https://z4ynadmin.github.io/tags/%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘ä»¬åº”è¯¥å¦‚ä½•è¿›è¡Œ Code Review ?</title>
    <link href="https://z4ynadmin.github.io/2022/04/25/%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4MR%E7%9A%84%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/"/>
    <id>https://z4ynadmin.github.io/2022/04/25/%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4MR%E7%9A%84%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/</id>
    <published>2022-04-25T12:35:00.000Z</published>
    <updated>2022-11-04T07:11:09.555Z</updated>
    
    <content type="html"><![CDATA[<p>ç¬”è€…åœ¨æ—¥å¸¸å·¥ä½œä¸­ä¼šå‘ç°ï¼Œæ—¶å¸¸ä¼šå­˜åœ¨ä¸€äº›æ¯”è¾ƒæ˜¾è€Œæ˜“è§æˆ–è€…å·²çŸ¥çš„ä¸€ç±»é—®é¢˜ï¼Œåœ¨å¼€å‘è€…æäº¤ä»£ç ä»¥åŠç›¸å…³åŒå­¦ Review ä¸­å‡æœªè¢«å‘ç°ã€‚</p><p>è¿™é‡Œçš„ä¸€ä¸ªåŸå› åœ¨äºï¼Œä»£ç å¼€å‘è€…åœ¨æŸäº›æ—¶å€™ä¼šæäº¤è¾ƒå¤šä»£ç ï¼Œè€Œæ­¤æ—¶ Reviewer é¢å¯¹è¾ƒå¤šä»£ç çš„ Review çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ä¼šæ¼æ‰ä¸€äº› Review çš„è¦ç‚¹ï¼Œç”šè‡³å¯èƒ½ä¼šæ„Ÿåˆ°æ— æ‰€é€‚ä»ã€‚æœ¬æ–‡å¸Œæœ›ï¼Œé’ˆå¯¹ä¸€äº›éåœºæ™¯åŒ–çš„å†…å®¹ï¼Œæ•´ç†å‡ºä¸€äº›è¾ƒä¸ºæ™®é€‚çš„ä¸€äº›åŸåˆ™ï¼Œä»è€Œå¸®åŠ© Reviewerï¼ˆä»¥åŠå¼€å‘è€…æœ¬èº«ï¼‰è§£å†³ä¸€äº›é€šç”¨çš„é—®é¢˜ã€‚</p><h2 id="æ ¼å¼ä¸è§„èŒƒ"><a href="#æ ¼å¼ä¸è§„èŒƒ" class="headerlink" title="æ ¼å¼ä¸è§„èŒƒ"></a>æ ¼å¼ä¸è§„èŒƒ</h2><p>åŸåˆ™ä¸Šï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¸åº”è¯¥åœ¨ Review çš„æ—¶å€™å»å¤„ç†ï¼Œæˆ‘ä»¬åº”è¯¥é…ç½®ä»£ç æ ¼å¼è§„èŒƒå·¥å…·ï¼Œåœ¨æäº¤ä»£ç å‰æˆ–è€… MR çš„ CI æµæ°´çº¿ä¸­åšè¿™ä¸ªäº‹æƒ…ã€‚</p><p>è¿™é‡Œå¯¹äºä¸åŒç±»å‹çš„è¯­è¨€ï¼Œå¤§å¤šç¤¾åŒºéƒ½æœ‰ç°æˆçš„æ–¹æ¡ˆï¼Œä¸è¿‡å¤šèµ˜è¿°ï¼Œå¦‚æœä½ åœ¨ä»£ç  Review çš„æ—¶å€™è¿˜åœ¨çº ç»“äºæ ¼å¼å’Œè§„èŒƒï¼Œé‚£ä¹ˆç°åœ¨å°±å»é…ç½®å¥½å¯¹åº”çš„å·¥å…·ã€‚</p><h2 id="ç¨³å®šæ€§"><a href="#ç¨³å®šæ€§" class="headerlink" title="ç¨³å®šæ€§"></a>ç¨³å®šæ€§</h2><p>è¿™é‡Œçš„ç¨³å®šæ€§ï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬ç¨‹åºåœ¨è¿è¡Œé˜¶æ®µçš„ç¨³å®šæ€§ï¼Œä»¥åŠå½“å‡ºç°é”™è¯¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¬¬ä¸€æ—¶é—´å‘ç°ã€‚</p><h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p>å…³äºè¿™é‡Œï¼Œæœ€å¸¸è§çš„ä¸€ç§ä»£ç æ˜¯ï¼š</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (some<span class="number">_</span>error<span class="number">_</span><span class="keyword">case</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºè¿™ç§ç±»ä¼¼çš„ä»£ç ï¼Œè™½ç„¶çœ‹ä¼¼å…œåº•å…œä½äº†é”™è¯¯ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ—¥å¿—è¾“å‡ºï¼Œä¹Ÿæ²¡æœ‰æ›´å¤šçš„æç¤ºï¼Œé•¿ä¹…ä¹‹åå¾ˆå¯èƒ½ä¼šå½¢æˆæš—å‘ã€‚</p><p>å¯¹äºè¿™ç§ä»£ç æˆ‘ä»¬åº”è¯¥æ€è€ƒï¼š</p><ul><li>æ˜¯å¦åº”è¯¥æ‰“ä¸€ä¸ªé”™è¯¯æ—¥å¿—ï¼Œæä¾›ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li><li>æ˜¯å¦åº”è¯¥å¢åŠ å¼‚å¸¸ä¸ŠæŠ¥ï¼Œè®©æˆ‘ä»¬ä¼˜åŒ–è¿™ç§é—®é¢˜ã€‚</li><li>æ˜¯å¦éœ€è¦å°†è¿™ä¸ªé”™è¯¯ä¿¡æ¯è¿”å›ç»™è°ƒç”¨æ–¹æˆ–è€…è°ƒç”¨ç«¯ã€‚</li><li>ç”¨æˆ·å±‚é¢æ˜¯å¦éœ€è¦æ„ŸçŸ¥æ­¤ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦ï¼Œæ–¹æ³•æ˜¯ä»€ä¹ˆã€‚</li></ul><p>å¦å¤–è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå¸¸è§çš„æ˜¯å¼‚å¸¸ï¼ŒåŒ…æ‹¬ä»£ç è¿è¡ŒæŠ›å‡ºçš„å¼‚å¸¸å’Œæˆ‘ä»¬è‡ªå·±æ•è·/æŠ›å‡ºçš„å¼‚å¸¸ï¼š</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">if</span></span> (<span class="variable">some_error_case</span>) &#123;</span><br><span class="line">    <span class="variable">throw</span> <span class="variable">new</span> <span class="function"><span class="title">Error</span>(<span class="string">&#x27;some error&#x27;</span>);</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="variable"><span class="keyword">try</span></span> &#123;</span></span><br><span class="line"><span class="function">    <span class="title">error_call</span>()</span></span><br><span class="line">&#125; <span class="function"><span class="title">catch</span>(<span class="variable">e</span>) &#123;</span></span><br><span class="line"><span class="function">    <span class="title">log</span>(<span class="variable">e</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç±»å¼‚å¸¸çš„å¤„ç†é€»è¾‘ï¼Œå’Œä¸Šé¢çš„å¼‚å¸¸æ¡ä»¶é€»è¾‘æ¯”è¾ƒç±»ä¼¼ï¼Œæˆ‘ä»¬åº”è¯¥åŒæ ·æ€è€ƒä¸Šè¿°å››ç‚¹ã€‚</p><h2 id="ä¿æŠ¤ç”¨æˆ·éšç§"><a href="#ä¿æŠ¤ç”¨æˆ·éšç§" class="headerlink" title="ä¿æŠ¤ç”¨æˆ·éšç§"></a>ä¿æŠ¤ç”¨æˆ·éšç§</h2><p>éšç§é€šå¸¸æ¶‰åŠåˆ°æ³•å¾‹åˆè§„ï¼Œå› æ­¤å¯èƒ½æ˜¯æœ€é‡è¦çš„ä¸€ç¯ã€‚</p><h3 id="ç”¨æˆ·çš„éšç§ä¸å¯æ³„æ¼"><a href="#ç”¨æˆ·çš„éšç§ä¸å¯æ³„æ¼" class="headerlink" title="ç”¨æˆ·çš„éšç§ä¸å¯æ³„æ¼"></a>ç”¨æˆ·çš„éšç§ä¸å¯æ³„æ¼</h3><ul><li>æ¯”å¦‚åœ¨å¼€å‘åŠŸèƒ½æ‰“æ—¥å¿—çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥ä¸èƒ½æ³„æ¼ç”¨æˆ·çš„éšç§ï¼Œä¾‹å¦‚ç”¨æˆ·çš„è‡ªå®šä¹‰ä¿¡æ¯ã€èŠå¤©ä¿¡æ¯ç­‰ã€‚</li></ul><p>è¿™ä¸€éƒ¨åˆ†å»ºè®®åœ¨å›¢é˜Ÿå†…éƒ¨å½¢æˆä¸€ä¸ªç»Ÿä¸€çš„è§„èŒƒæ–‡æ¡£ï¼Œåœ¨å¼€å‘å’Œ Review çš„è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶éƒ½å¯ä»¥ä»¥æ­¤ä¸ºä¾æ®ã€‚</p><h3 id="è‡ªå·±çš„éšç§ä¸å¯æ³„æ¼"><a href="#è‡ªå·±çš„éšç§ä¸å¯æ³„æ¼" class="headerlink" title="è‡ªå·±çš„éšç§ä¸å¯æ³„æ¼"></a>è‡ªå·±çš„éšç§ä¸å¯æ³„æ¼</h3><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬è™½ç„¶æ³¨æ„åˆ°äº†ç”¨æˆ·çš„éšç§ï¼Œä½†æ˜¯<strong>è‡ªå·±çš„éšç§</strong>å´æ²¡æœ‰æ³¨æ„ï¼Œè¿™é‡Œä¸»è¦æ˜¯æˆ‘ä»¬çš„ä¸€äº› appKeyã€å¯†é’¥ç­‰å†…å®¹ã€‚æ— è®ºæ˜¯åœ¨ä»¥ä¸‹å“ªäº›åœºæ™¯ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ ¼å¤–æ³¨æ„ï¼š</p><ul><li>å¯¹äº§ç‰©è¿›è¡ŒäºŒæ¬¡åˆ†å‘ï¼Œä¾‹å¦‚åˆ†å‘åˆ°å†…éƒ¨æˆ–å¤–éƒ¨ npmã€github ä»¥åŠå…¶ä»–å›¢é˜Ÿï¼Œç‰¹åˆ«æ˜¯å¤–ç½‘å¯è®¿é—®çš„æƒ…å†µæ›´éœ€è¦æ³¨æ„ã€‚</li><li>ç›´æ¥ç»™åˆ°ç”¨æˆ·ä½¿ç”¨ï¼Œä¾‹å¦‚åœ¨ Web ç¯å¢ƒä½¿ç”¨ï¼Œæˆ–è€…æ‰“åŒ…åˆ°æ¡Œé¢ç«¯åº”ç”¨ï¼Œå°½é‡é¿å…ç”¨æˆ·ç›´æ¥æ¥è§¦åˆ°è¿™äº›å†…å®¹ã€‚</li></ul><h2 id="å¯è¯»æ€§-ç»´æŠ¤æ€§"><a href="#å¯è¯»æ€§-ç»´æŠ¤æ€§" class="headerlink" title="å¯è¯»æ€§/ç»´æŠ¤æ€§"></a>å¯è¯»æ€§/ç»´æŠ¤æ€§</h2><h3 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h3><p>ä»£ç ä¸­å‡½æ•°å’Œå˜é‡çš„å‘½åï¼Œæ˜¯å¯è¯»æ€§ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå…³æ³¨ç‚¹ã€‚</p><p>å…³äºå¦‚ä½•å‘½åï¼Œå®é™…ä¸Šå¾ˆå¤šæ¶æ„ä¹¦ç±ä¹Ÿéƒ½ä¼šé¢å¤–åˆ—å‡ºä¸€ç« æ¥è®²ï¼Œåœ¨è¿™é‡Œæˆ‘ä¸æƒ³è¿‡å¤šè¿›è¡Œèµ˜è¿°ã€‚ä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„å‘½ååº”å½“æ¸…æ™°æ˜“æ‡‚ï¼Œé¿å…å‡ºç°æ²¡æœ‰å®é™…æ„ä¹‰çš„å«ç³Šçš„å˜é‡åã€‚</p><h3 id="ä»£ç æäº¤çš„æ³¨é‡Š"><a href="#ä»£ç æäº¤çš„æ³¨é‡Š" class="headerlink" title="ä»£ç æäº¤çš„æ³¨é‡Š"></a>ä»£ç æäº¤çš„æ³¨é‡Š</h3><ul><li><p>å¯¹äº bug fixï¼šå¾ˆå¤šæ—¶å€™æˆ‘ä»¬æ˜¯åœ¨å¤„ç†ä¸€ä¸ªè¾¹ç•Œé—®é¢˜ï¼Œæˆ–è€…æŸç§å…œåº•ï¼Œè¿™ä¸ªæ—¶å€™ fix çš„ä»£ç å¯èƒ½æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æœ€å¥½æ˜¯å†™æ˜æ³¨é‡Šï¼Œå¦‚æœæœ‰ç›¸å…³çš„æ–‡æ¡£å’Œ bug å•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸€å¹¶è´´åˆ°æ³¨é‡Šä¸­ã€‚å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬çš„ bug fix æ˜¯ä¸€ä¸ªä¸´æ—¶æ–¹æ¡ˆï¼Œè¯·åœ¨ä»£ç ä¸­å†™æ˜ <strong>TODO</strong>ï¼Œæ¥æé†’è‡ªå·±å’Œåˆ«äººè¿™ä¸ªåœ°æ–¹åç»­è¿˜ä¼šç»§ç»­æ›´æ”¹ã€‚</p></li><li><p>å¯¹äºæ–°åŠŸèƒ½æ·»åŠ ï¼šä¸€èˆ¬æˆ‘ä»¬éœ€è¦åœ¨å…³é”®å…¥å£å¤„å†™æ˜åŠŸèƒ½çš„è¯´æ˜æ–‡æ¡£é“¾æ¥ã€å®Œå–„ç›¸å…³å…³é”®è·¯å¾„çš„æ³¨é‡Šï¼ŒåŒæ—¶åˆ é™¤åŠŸèƒ½å¼€å‘ä¸­çš„å†—ä½™ä»£ç ï¼šä¾‹å¦‚æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æµ‹è¯•ç”¨åˆ°ä½†æ˜¯æœ€ç»ˆå´æ²¡æœ‰ç”¨åˆ°çš„å¤§æ®µæ³¨é‡Šæ‰çš„ä»£ç ï¼Œä»¥åŠå¤§æ®µçš„æ³¨é‡Šå’Œ TODOï¼Œæˆ‘ä»¬éƒ½éœ€è¦åœ¨æœ€ç»ˆæäº¤çš„æ—¶å€™<strong>åˆ é™¤æ‰</strong>ï¼Œå¦‚æœéœ€è¦æ‰¾å›å»ºè®®ä½¿ç”¨ git çš„èƒ½åŠ›ï¼Œå¯ä»¥é€‚å½“è¿›è¡Œæ³¨é‡Šå¤‡æ³¨ã€‚</p></li><li><p>å¦å¤–ï¼Œå¯¹äºæ³¨é‡Šæ¥è¯´ï¼Œ<strong>ç¦æ­¢å‡ºç°</strong>æ¨¡ç³Šçš„è¯æ±‡ï¼Œä¾‹å¦‚ <strong><code>æ„Ÿè§‰</code>ï¼Œ<code>å¥½åƒ</code>ï¼Œ<code>å¤§æ¦‚</code></strong> ç­‰è¿™ç§æ¨¡ç³Šçš„è¯æ±‡ï¼Œè€Œæ˜¯è¦åŸ¹å…»è‡ªå·±ä¸¥è°¨çš„æ„è¯†ï¼Œå·²ç»æäº¤çš„ä»£ç å¿…é¡»æœ‰ä¸¥æ ¼çš„ä½è¯ã€‚</p></li></ul><h3 id="æ—¥å¿—å¯è¯»æ€§"><a href="#æ—¥å¿—å¯è¯»æ€§" class="headerlink" title="æ—¥å¿—å¯è¯»æ€§"></a>æ—¥å¿—å¯è¯»æ€§</h3><p>å¤§å¤šæ•°é¡¹ç›®çš„é—®é¢˜å®šä½éå¸¸ä¾èµ–æ—¥å¿—ã€‚</p><p>å¯¹äºæ—¥å¿—ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰å¦‚ä¸‹å‡ ä¸ªçº¦æŸï¼š</p><ul><li>é¿å…å¤ªå¤šå¤ªé•¿çš„å†…å®¹ï¼Œæ— è®ºæ—¥å¿—æ˜¯ä»¥ä½•ç§æ–¹å¼å­˜å‚¨ï¼Œè§„æ¨¡ä¸Šå»ä¹‹åçš„æ¶ˆè€—éƒ½éå¸¸å¯è§‚ã€‚</li><li>é€‚å½“ä½¿ç”¨ç®€å†™ï¼Œä½†æ˜¯é¿å…å®Œå…¨ä¸çŸ¥æ‰€äº‘ï¼Œåº”è¯¥ç¬¦åˆæ™®éçº¦å®šã€‚</li></ul><h3 id="ä»£ç çš„é€šç”¨æ€§"><a href="#ä»£ç çš„é€šç”¨æ€§" class="headerlink" title="ä»£ç çš„é€šç”¨æ€§"></a>ä»£ç çš„é€šç”¨æ€§</h3><p>å½“æˆ‘ä»¬æäº¤ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ–è€…ä¿®å¤ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªæ˜¯ä»è¿™ä¸ªé—®é¢˜çš„è§’åº¦æŠ¤å‘ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»å…¨å±€çš„è§’åº¦å‡ºå‘ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å½“æˆ‘ä»¬æ–°å¢ä¸€ä¸ªä¸ŠæŠ¥çš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰è€ƒè™‘æŠŠæ•´ä¸ªä¸ŠæŠ¥èšåˆåˆ°ä¸€èµ·ï¼Œæˆ–è€…æ¶æ„ä¸Šæ”¯æŒæ›´æ–¹ä¾¿çš„ä¸ŠæŠ¥èƒ½åŠ›ï¼Ÿ</li><li>å½“æˆ‘ä»¬æ–°å¢ä¸€ä¸ªé€šç”¨èƒ½åŠ›çš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰è€ƒè™‘åˆ°å…¶ä»–æ¨¡å—æˆ–é¡¹ç›®ä¹Ÿå¯èƒ½æœ‰ç±»ä¼¼éœ€æ±‚ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†å…¶å•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªç‹¬ç«‹çš„åŒ…è¿›è¡Œåˆ†å‘ï¼Ÿ</li><li>å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªé—®é¢˜æœ‰å¤šç§ä¿®å¤æ–¹æ¡ˆçš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰ç»¼åˆè€ƒè™‘ï¼Œå“ªä¸€ç§æ–¹æ¡ˆå¯¹åç»­ç»´æŠ¤çš„åŒå­¦æ›´åŠ å‹å¥½ï¼ˆæ¯”å¦‚ï¼Œæœ€å¥½æ˜¯é«˜å†…èšã€ä½è€¦åˆçš„è®¾è®¡ï¼‰ï¼Ÿ</li></ul><p>è¿™é‡Œçš„å¤§ä½“åŸåˆ™ï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦ä»æ•´ä½“æ€§çš„è§’åº¦å‡ºå‘ï¼Œä¸æ–­åœ°è¿­ä»£è®©æ•´ä¸ªæ¶æ„æ›´åŠ å¤¯å®ï¼Œè€Œä¸æ˜¯å‡ºä¸ªé—®é¢˜è´´ä¸€ä¸ªåˆ›å¯è´´ï¼Œæ–°å¢åŠŸèƒ½åˆè´´ä¸€ä¸ªåˆ›å¯è´´ã€‚</p><h3 id="é…ç½®åŒ–"><a href="#é…ç½®åŒ–" class="headerlink" title="é…ç½®åŒ–"></a>é…ç½®åŒ–</h3><p>è¿™é‡Œçš„é…ç½®åŒ–ï¼Œæ¯”è¾ƒå…¸å‹çš„æ¯”å¦‚æ˜¯ï¼šå¤šè¯­è¨€æ–‡æ¡ˆã€é¡¹ç›® Settings é…ç½®ç­‰ã€‚</p><ul><li>ä¸€èˆ¬æ¥è¯´ï¼Œé…ç½®åŒ–çš„å†…å®¹æœ€å¥½æ˜¯èµ°äº‘ç«¯ä¸‹å‘ã€‚</li><li>å¦‚æœä¸å…·å¤‡äº‘ç«¯ä¸‹å‘çš„ç¯å¢ƒï¼Œæˆ–è€…æˆ‘ä»¬çš„é…ç½®<strong>æ¯”è¾ƒæ•æ„Ÿä¸é€‚åˆç›´æ¥ä¸‹å‘</strong>ï¼Œå¯ä»¥è€ƒè™‘åœ¨ä»£ç ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶çš„æ–¹å¼ã€‚</li></ul><p>å¦‚æœæˆ‘ä»¬åœ¨ Review ä¸­å‘ç°æœ‰å¯ä»¥é…ç½®åŒ–çš„å†…å®¹ä½†æ˜¯å´ç›´æ¥å†™æ­»åœ¨ä»£ç é‡Œé¢äº†ï¼Œåº”å½“éœ€è¦æå‡ºè´¨ç–‘ã€‚</p><h3 id="ä»£ç ç²¾ç®€"><a href="#ä»£ç ç²¾ç®€" class="headerlink" title="ä»£ç ç²¾ç®€"></a>ä»£ç ç²¾ç®€</h3><p>ä»£ç ç²¾ç®€å¯¹åæœŸçš„å¯ç»´æŠ¤æ€§æ˜¯éå¸¸é‡è¦çš„ï¼Œä»£ç ç²¾ç®€çš„ä¸€ä¸ªæ¯”ä»·æœ‰æ•ˆçš„åŠæ³•å°±æ˜¯å……åˆ†ç†è§£ä¸šåŠ¡ï¼Œå†™å‡ºç²¾ç®€ä¸å¤šä½™çš„ä»£ç ï¼Œä¸è¿‡è¿™ä¸€ç‚¹åœ¨ MR ä¸­å¯èƒ½ä¼šæ¯”è¾ƒéš¾è¿›è¡Œ Reviewï¼Œå› ä¸ºä¸€èˆ¬æ¥è¯´æäº¤ä»£ç çš„åŒå­¦æœ¬èº«å·²ç»æ˜¯å¯¹è¿™éƒ¨åˆ†ä¸šåŠ¡æ˜¯ç†è§£çš„æœ€é€å½»çš„ã€‚</p><p>ä½†æ˜¯æœ‰ä¸€ç‚¹ä»£ç çš„ Reviewer ä¼šæ¯”è¾ƒå®¹æ˜“åˆ¤æ–­ï¼Œå¦‚æœæˆ‘ä»¬æäº¤çš„ä»£ç é‡Œé¢æœ‰<strong>ä¸¤å¤„ä»¥ä¸Šè¶…è¿‡ä¸‰è¡Œçš„æå…¶ç›¸ä¼¼çš„ä»£ç </strong>ï¼Œæˆ‘ä»¬å°±åº”å½“é‡æ–°å®¡è§†æ˜¯å¦å¯ä»¥è¿›è¡Œä¸€å®šç¨‹åº¦çš„æŠ½ç¦»ï¼Œå»ºè®®ä¸è¦ç”±äºä¸€æ—¶çš„æ•ˆç‡å…è®¸ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç åˆå…¥ï¼Œè¿™äº›åœ¨åæœŸéƒ½å¯èƒ½æ¼”åŒ–æˆä»£ç å±å±±ã€‚</p><p>ä¾‹å¦‚ï¼Œç¬”è€…å¯¹äº Rust ä»£ç ç²¾ç®€çš„ä¸€äº›å»ºè®®ï¼š</p><ul><li>é¿å…ä»»ä½•ä¸€æ¬¡å¤šä½™çš„ Cloneã€‚</li><li>æ–‡ä»¶å¤´éƒ¨å¼•ç”¨ä¸­å»é™¤æ²¡æœ‰å¿…è¦çš„å¼•ç”¨ã€‚</li><li>é¿å…å¤šä½™çš„æ—¥å¿—ï¼ŒåŒæ—¶é¿å…åœ¨æ—¥å¿—é‡Œé¢åŠ å¤ªé•¿çš„å‰ç¼€å†…å®¹ï¼ˆæœ‰çš„æ—¶å€™ä¸€è¡Œæ—¥å¿—é‡Œé¢æœ‰å¤šåŠéƒ½æ˜¯å…ƒä¿¡æ¯ï¼Œè€Œä¸”è¿™äº›å…ƒä¿¡æ¯è¿˜æ˜¯æœ‰æ‰€é‡å¤çš„ï¼‰ã€‚</li><li>é¿å…å¤šä½™çš„ pubï¼Œåº”è¯¥æœ‰ä¸€ä¸ªç†å¿µå°±æ˜¯é»˜è®¤çš„å†…å®¹ä¸è¦ pub å‡ºå»ï¼Œå°±åƒ c++ çš„æˆå‘˜æ–¹æ³•é»˜è®¤æ˜¯ private ä¸€æ ·ã€‚</li><li>é‡å¤ä»£ç ä½¿ç”¨å®æ¥æ›¿ä»£ã€‚</li></ul><h2 id="é‡è§†æ€§èƒ½"><a href="#é‡è§†æ€§èƒ½" class="headerlink" title="é‡è§†æ€§èƒ½"></a>é‡è§†æ€§èƒ½</h2><h3 id="é˜²æ­¢æ³„æ¼"><a href="#é˜²æ­¢æ³„æ¼" class="headerlink" title="é˜²æ­¢æ³„æ¼"></a>é˜²æ­¢æ³„æ¼</h3><p>åœ¨è€ƒå¯Ÿæ€§èƒ½ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯è‡ªå·±çš„ä»£ç æ²¡æœ‰æ³„æ¼ï¼Œå› ä¸ºæ³„æ¼é€ æˆçš„æ¶åŠ£æ€§é€šå¸¸æ¯”æ€§èƒ½å·®æ›´ä¸¥é‡ï¼Œè€Œä¸”é€šå¸¸éœ€è¦æ›´é•¿çš„æ—¶é—´æ¥æ’æŸ¥ã€‚</p><p>è¿™é‡Œä¸»è¦çš„æ£€æŸ¥ç‚¹å¯ä»¥æ˜¯ï¼š</p><ul><li>addListener ä¹‹åæ˜¯å¦åŠæ—¶é‡Šæ”¾äº†ã€‚</li><li>setInterval/setTimeout ç­‰å®šæ—¶å™¨è°ƒç”¨æ˜¯å¦å­˜åœ¨å¤šæ¬¡è°ƒç”¨çš„å¯èƒ½æ€§ï¼Œä»¥åŠæ˜¯å¦å¯èƒ½æ— æ³•é‡Šæ”¾ã€‚</li><li>åˆ†é…åœ¨å †ä¸Šçš„å†…å­˜æ˜¯å¦é‡Šæ”¾äº†ã€‚</li><li>æ˜¯å¦æœ‰ detach dom æ³„æ¼ã€‚</li></ul><h3 id="é˜²æ­¢æ­»é”"><a href="#é˜²æ­¢æ­»é”" class="headerlink" title="é˜²æ­¢æ­»é”"></a>é˜²æ­¢æ­»é”</h3><p>è¿™ä¸€ç‚¹å¦‚æœæ˜¯å‰ç«¯å¼€å‘ï¼Œä¸€èˆ¬æ²¡æœ‰æœºä¼šé‡åˆ°ï¼Œä½†å¦‚æœä½ ç”¨ rustã€c++ ç­‰è¯­è¨€ï¼Œéƒ½å¾ˆæœ‰å¯èƒ½å‡ºç°æ­»é”çš„é£é™©ï¼ˆä¸¥æ ¼æ¥è¯´ï¼Œæ­»é”å¹¶ä¸èƒ½ç›´æ¥å½’ç±»åˆ°æ€§èƒ½ï¼‰ã€‚</p><p>å¯¹äºæ­»é”çš„é˜²æ­¢ï¼Œæˆ‘å»ºè®®å›¢é˜Ÿå†…çš„åŸºç¡€è®¾æ–½éƒ¨åˆ†å…ˆé…ç½®å¥½æ­»é”æ£€æµ‹å’Œä¸ŠæŠ¥æœºåˆ¶ï¼ˆä¾‹å¦‚ parking_lot æä¾›äº†æ­»é”æ£€æŸ¥çš„èƒ½åŠ›ï¼‰ã€‚</p><p>ä¸€äº›æ­»é”ç›¸å…³çš„ Review å»ºè®®ï¼š</p><ul><li>ç”¨åˆ°é”çš„åœ°æ–¹ï¼Œå°½å¯èƒ½é€šè¿‡å·¥å…·å‡½æ•°è¿›è¡Œå°è£…ï¼Œç±»ä¼¼ getter å’Œ setterï¼Œå¢åŠ åŸå­æ€§ï¼Œå‡å°‘è°ƒç”¨ä»£ç ç›´æ¥è§£é”çš„åœºæ™¯ã€‚</li><li>é”çš„ç²’åº¦ä¸åº”è¯¥å¤ªå¤§ï¼Œ<strong>æˆ‘ä»¬åº”è¯¥æ˜¯å¯¹æ•°æ®è¿›è¡ŒåŠ é”ï¼Œè€Œä¸æ˜¯å¯¹è¿‡ç¨‹è¿›è¡ŒåŠ é”</strong>ï¼Œé”ç²’åº¦è¿‡å¤§å¾ˆå®¹æ˜“å‡ºç°æ­»é”çš„é£é™©ã€‚</li><li>åœ¨å‡½æ•°è„±ç¦»æ§åˆ¶æƒä¹‹å‰ï¼Œä¾‹å¦‚å‡†å¤‡å¼€å§‹è°ƒç”¨åˆ°å…¶ä»–å¤–éƒ¨å‡½æ•°äº†ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¥½æŠŠæŒæœ‰çš„é”éƒ½é‡Šæ”¾æ‰ï¼Œé˜²æ­¢å¤–éƒ¨å‡½æ•°å†æ¬¡ç”¨åˆ°é€ æˆé”é‡å…¥ã€‚</li></ul><h3 id="æ€§èƒ½æŠ¥å‘Š"><a href="#æ€§èƒ½æŠ¥å‘Š" class="headerlink" title="æ€§èƒ½æŠ¥å‘Š"></a>æ€§èƒ½æŠ¥å‘Š</h3><p>å…³äºè¿™ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå»ºè®®å›¢é˜ŸåŸºå»ºå…ˆè¡Œï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒæ ‡å‡†çš„æ€§èƒ½æµ‹è¯•æ–¹æ³•ï¼Œè¿™æ ·å¤§å®¶åœ¨åšæ€§èƒ½æµ‹è¯•çš„æ—¶å€™ï¼Œä¸ä¼šé‚£ä¹ˆæœ‰å‹åŠ›ã€‚æ¯”è¾ƒåå¯¹çš„ä¸€ç§æ–¹å¼å°±æ˜¯å›¢é˜Ÿå†…éƒ¨ä¸åŒæˆå‘˜éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—æ€§èƒ½æµ‹è¯•æ–¹æ³•ï¼Œè¿™æ ·æœ‰äº›æ–°åŒå­¦ç¼ºä¹å¿…è¦çš„ä¸Šä¸‹æ–‡ï¼Œè‡ªç„¶ä¸äº†è§£å¦‚ä½•å»åšæ€§èƒ½æµ‹è¯•ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ¶‰åŠåˆ°æ¯”è¾ƒå¤§çš„åŠŸèƒ½éƒ½è¦è¿›è¡Œä¸€äº›æ€§èƒ½æŠ¥å‘Šï¼Œç›¸å…³çš„æŒ‡æ ‡å¯ä»¥æ˜¯ï¼š</p><ul><li>æ•´ä½“åŒ…ä½“ç§¯çš„å¢åŠ å¹…åº¦ã€‚</li><li>åˆå§‹åŒ–å“åº”é€Ÿåº¦çš„å˜åŒ–ã€‚</li><li>è¿è¡Œè¯¥åŠŸèƒ½ä¸€æ®µæ—¶é—´çš„ CPU æ¶ˆè€—ã€‚</li><li>è¿è¡Œè¯¥åŠŸèƒ½ä¸€æ®µæ—¶é—´çš„ å†…å­˜ æ¶ˆè€—ã€‚</li><li>è¿è¡Œè¯¥åŠŸèƒ½è¾ƒé•¿æ—¶é—´çš„ CPU/å†…å­˜ æ¶ˆè€—ã€‚</li></ul><p>ä¸è¿‡ï¼Œå…·ä½“è¿™ä¸€éƒ¨åˆ†è¿˜æ˜¯å»ºè®®å›¢é˜Ÿå†…éƒ¨æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µæœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ï¼Œå¹¶ä¸”å°†æ€§èƒ½æµ‹è¯•æ–¹æ³•æ ‡å‡†åŒ–ï¼Œè€Œä¸è¦æˆä¸ºä¸€ä¸ªè´Ÿæ‹…ã€‚</p><h2 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h2><p>åœ¨å…¼å®¹æ€§è¿™æ–¹é¢ï¼Œæ— è®ºæ˜¯ web å¼€å‘è¿˜æ˜¯æ¡Œé¢å®¢æˆ·ç«¯å¼€å‘ï¼Œéƒ½éœ€è¦é‡ç‚¹å…³æ³¨ï¼Œè¿™é‡Œå…¶å®ç»†åˆ†ä¸ºä¸¤ä¸ªç»´åº¦ï¼š</p><ul><li>ç‰ˆæœ¬æ”¯æŒï¼Œä¾‹å¦‚æˆ‘ä»¬å¯èƒ½ä¼šå®ç°çº¦å®šå¥½æ”¯æŒåˆ° Chrome çš„å“ªä¸ªç‰ˆæœ¬ï¼ˆé’ˆå¯¹ webï¼‰æˆ–è€… macOS çš„å“ªä¸ªç‰ˆæœ¬ï¼ˆé’ˆå¯¹ macOS æ¡Œé¢ç«¯ï¼‰ï¼Œå¹¶ä¸”å¦‚æœæäº¤æ¶‰åŠåˆ°å…¼å®¹æ€§æ”¹åŠ¨éœ€è¦é‡ç‚¹æµ‹è¯•æ‰€æ”¯æŒçš„æœ€ä½ç‰ˆæœ¬ã€‚</li><li>å¼‚å¸¸æƒ…å†µæ”¯æŒï¼Œè¿™ä¸€ç‚¹å¯èƒ½å¤§å¤šæ•°æ—¶å€™éƒ½ä¼šè¢«å¤§å®¶å¿½ç•¥ï¼Œè¿™é‡Œä¸¾ä¸€ä¸ªä¾‹å­å°±æ˜¯ webgl çš„æ”¯æŒï¼Œå®é™…ä¸Šï¼Œè™½ç„¶å¤§å¤šæ•°æ—¶å€™æµè§ˆå™¨å·²ç»æ”¯æŒåˆ°äº† webglï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸å°‘åœºæ™¯ï¼Œwebgl ä¼šåˆå§‹åŒ–å¤±è´¥ï¼Œè¿™ä¸ªåŸå› å¯èƒ½å’Œç”¨æˆ·çš„ç¡¬ä»¶æ¯”å¦‚ç³»ç»Ÿæ˜¾å¡æœ‰å…³ï¼Œå¦‚æœæˆ‘ä»¬çš„é¡¹ç›®åªæœ‰ webgl å®ç°ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘æ˜¯å¦æ”¾å¼ƒ webgl åˆå§‹åŒ–å¤±è´¥çš„åœºæ™¯ï¼ˆä»å•†ä¸šåŒ–çš„è§’åº¦ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯å¸Œæœ›ä¸è¦æ”¾å¼ƒï¼‰ï¼Œæˆ–è€…è¯´ä¸ºæ­¤å¢åŠ è½¯æ¸²æŸ“é™çº§ã€‚</li></ul><p>æ‰€ä»¥ï¼Œåœ¨ Code Review ç¯èŠ‚ï¼Œé’ˆå¯¹å¯èƒ½å‡ºç°å…¼å®¹æ€§é£é™©çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éœ€è¦ç¡®è®¤æ˜¯å¦å·²ç»è¿›è¡Œäº†å…¼å®¹æ€§æµ‹è¯•ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç¬”è€…åœ¨æ—¥å¸¸å·¥ä½œä¸­ä¼šå‘ç°ï¼Œæ—¶å¸¸ä¼šå­˜åœ¨ä¸€äº›æ¯”è¾ƒæ˜¾è€Œæ˜“è§æˆ–è€…å·²çŸ¥çš„ä¸€ç±»é—®é¢˜ï¼Œåœ¨å¼€å‘è€…æäº¤ä»£ç ä»¥åŠç›¸å…³åŒå­¦ Review ä¸­å‡æœªè¢«å‘ç°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„ä¸€ä¸ªåŸå› åœ¨äºï¼Œä»£ç å¼€å‘è€…åœ¨æŸäº›æ—¶å€™ä¼šæäº¤è¾ƒå¤šä»£ç ï¼Œè€Œæ­¤æ—¶ Reviewer é¢å¯¹è¾ƒå¤šä»£ç çš„ Review çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ä¼šæ¼</summary>
      
    
    
    
    
    <category term="ç¼–ç¨‹ç»¼åˆ" scheme="https://z4ynadmin.github.io/tags/%E7%BC%96%E7%A8%8B%E7%BB%BC%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šä»£ç æ•´æ´ä¹‹é“-Clean Codeã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="https://z4ynadmin.github.io/2022/02/27/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/"/>
    <id>https://z4ynadmin.github.io/2022/02/27/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/</id>
    <published>2022-02-27T05:21:39.000Z</published>
    <updated>2022-11-04T07:11:09.556Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•´æ´ä»£ç "><a href="#æ•´æ´ä»£ç " class="headerlink" title="æ•´æ´ä»£ç "></a>æ•´æ´ä»£ç </h2><p>ã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹ä¸€ä¹¦ä½œè€…å¯¹æ•´æ´ä»£ç çš„æè¿°ï¼šæˆ‘å¯ä»¥åˆ—å‡ºæˆ‘ç•™æ„åˆ°çš„æ•´æ´ä»£ç çš„æ‰€æœ‰ç‰¹ç‚¹ï¼Œä½†å…¶ä¸­æœ‰ä¸€æ¡æ˜¯æ ¹æœ¬æ€§çš„ï¼Œæ•´æ´çš„ä»£ç æ€»æ˜¯çœ‹èµ·æ¥åƒæŸç§ç‰¹åˆ«åœ¨æ„ä»–çš„äººå†™çš„ï¼Œå‡ ä¹æ²¡æœ‰æ”¹è¿›çš„ä½™åœ°ï¼Œä»£ç çš„ä½œè€…ä»€ä¹ˆéƒ½æƒ³åˆ°äº†ï¼Œå¦‚æœä½ ä¼å›¾æ”¹è¿›å®ƒï¼Œæ€»ä¼šå›åˆ°åŸç‚¹ï¼Œèµå¹æŸäººç•™ç»™çš„ä»£ç â€”â€”å…¨å¿ƒæŠ•å…¥æŸäººç•™ç»™ä½ çš„ä»£ç ã€‚</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>è¿™æœ¬ä¹¦å…³äºå‡½æ•°çš„ä»‹ç»å’Œå…¶ä»–æ¶æ„ä¹¦å·®ä¸å¤šï¼Œä¸»è¦å°±æ˜¯ä¸¤ä¸ªç‚¹ï¼š1. çŸ­å°ï¼Œ2. æŠ½è±¡å±‚æ¬¡ä¸€è‡´æ€§ã€‚</p><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>æ¯«æ— ç–‘é—®ï¼Œæ³¨é‡Šæ˜¯ä»£ç ä¸­çš„åå‘³é“ã€‚</p><p>å¯¹äºä¸€éƒ¨åˆ†æ³¨é‡Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ 4.4.8 è¿™ç§å˜é‡çš„æ–¹å¼ï¼Œé€šè¿‡æ–°å¢ä¸¤ä¸ªå˜é‡ï¼Œæ¥è§£é‡Šæˆ‘ä»¬çš„å†…å®¹ã€‚<br>é‚£ç§ç”Ÿæˆçš„æ³¨é‡Šå’Œæˆ‘ä»¬æ³¨é‡Šæ‰çš„ä»£ç ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼šä¸è¦ç•™ã€‚</p><h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><p>ç›¸å…³å‡½æ•°ï¼šæŒ‰ç…§æœ¬ä¹¦çš„è¯´æ˜ï¼Œè‹¥æŸä¸ªå‡½æ•°è°ƒç”¨äº†å¦å¤–ä¸€ä¸ªï¼Œå°±åº”è¯¥æŠŠå®ƒä»¬æ”¾åˆ°ä¸€èµ·ï¼Œè€Œä¸”è°ƒç”¨è€…åº”è¯¥å°½å¯èƒ½æ”¾åœ¨è¢«è°ƒç”¨è€…ä¸Šé¢ã€‚æˆ‘è‡ªå·±ä¹‹å‰çš„ä¹ æƒ¯æ˜¯è°ƒç”¨è€…åœ¨è¢«è°ƒç”¨è€…çš„ä¸‹é¢ï¼Œç›®å‰åˆæ€è€ƒäº†ä¸€ä¸‹ï¼Œåƒä½œè€…è¿™æ ·ç»„ç»‡ï¼Œå¯èƒ½å¯è¯»æ€§åè€Œæ›´é«˜ã€‚</p><blockquote><p>å› ä¸ºè¿™æ ·è®¾è®¡å¯ä»¥åƒæŠ¥çº¸ä¸€æ ·ï¼Œæœ€é‡è¦çš„æ¦‚å¿µå…ˆå‡ºç°ï¼Œå¹¶ä¸”å¸Œæœ›ä»¥åŒ…æ‹¬æœ€å°çš„ç»†èŠ‚è¡¨è¿°ä»–ä»¬ï¼ŒæœŸæœ›åº•å±‚çš„ç»†èŠ‚åå‡ºç°ã€‚</p></blockquote><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p><strong>ä½¿ç”¨å¼‚å¸¸è€Œéè¿”å›ç </strong>ï¼š åœ¨ ã€Šä»£ç ç²¾è¿›ä¹‹è·¯ã€‹çš„è¯»ä¹¦ç¬”è®°ä¸­ï¼Œä¹ŸæåŠäº†ç±»ä¼¼çš„æ€è·¯ï¼Œè¿™ä¸ªä¹¦é‡Œé¢åˆæåˆ°äº†ä½¿ç”¨å¼‚å¸¸è€Œéè¿”å›ç è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”ç»™å‡ºäº†ä¸€ä¸ªæ–°çš„ç†ç”±ï¼Œè¿”å›ç æ„å‘³ç€æˆ‘ä»¬éœ€è¦ç«‹å³å¤„ç†ï¼Œè¿™ä¸ªæ­¥éª¤å¯èƒ½å¾ˆå®¹æ˜“è¢«é—å¿˜ï¼Œè€Œä¸”ä¼šè®©æˆ‘ä»¬çš„ä»£ç å˜å¾—æ¯”è¾ƒä¹±ã€‚</p><p>å…³äºè¿”å› null å€¼ï¼šæœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨æ•°æ®å¤„ç†ä¸­å‡ºç°é—®é¢˜ï¼Œå¯èƒ½ä¼šè¿”å›ä¸€ä¸ª null æˆ–è€… undefinedã€‚ä½†æ˜¯æˆ‘å»ºè®®ç›¸å¯¹äºæ­¤ï¼Œæˆ‘ä»¬æ›´åº”è¯¥ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¿”å› null å€¼æ„å‘³ç€ä¾èµ–è°ƒç”¨è€…æ¥åšç©ºæ£€æŸ¥ï¼Œè€Œä¸”ä½ ä¸çŸ¥é“è¿™ä¸ª null ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™æ‰ä¼šå¼•å‘é”™è¯¯ï¼Œè¿™æ ·ä¼šæœ‰è¾ƒé«˜çš„ä¸ç¨³å®šæ€§ã€‚</p><h2 id="ç±»çš„ç»„ç»‡"><a href="#ç±»çš„ç»„ç»‡" class="headerlink" title="ç±»çš„ç»„ç»‡"></a>ç±»çš„ç»„ç»‡</h2><p>å¯¹äºç±»çš„ç»„ç»‡ä¸­ï¼Œå±æ€§é¡ºåºçš„ä¸€ä¸ªå»ºè®®ï¼šä¾æ¬¡æ˜¯å…¬å…±é™æ€å¸¸é‡ã€ç§æœ‰é™æ€å˜é‡ã€å…¬å…±å‡½æ•°ã€ç§æœ‰å‡½æ•°ã€‚</p><p><strong>ç±»çš„æƒè´£</strong>ï¼šå¯¹äºä¸€ä¸ªç±»æ¥è¯´ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å®ƒè¢«å®šä¹‰çš„å¤ªé•¿ï¼Œå½“ç„¶è¿™ä¸ªä¸èƒ½å•çº¯åœ°ä½¿ç”¨ä»£ç è¡Œæ•°æ¥åˆ¤æ–­ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ç±»çš„æƒè´£æ¥åˆ¤æ–­ï¼Œå½“ä¸€ä¸ªç±»çš„åç§°è¶Šå«ç³Šï¼Œè¯¥ç±»è¶Šæœ‰å¯èƒ½æ‹¥æœ‰æ›´å¤šæƒè´£ï¼Œæ¯”å¦‚å®ƒçš„åç§°åŒ…å«äº†è¯¸å¦‚ Processorã€Manager æˆ– Superï¼Œé‚£ä¹ˆè¿™ç§ç°è±¡å¾€å¾€è¯´æ˜æœ‰ä¸æ°å½“çš„æƒè´£èšé›†çš„æƒ…å†µå‡ºç°ã€‚</p><p><strong>å¦‚ä½•æŠŠç±»æ‹†çš„çŸ­å°</strong>ï¼šæˆ‘ç»™å‡ºä¸€ä¸ªåˆ‡å®å¯è¡Œçš„åŠæ³•ï¼Œå¯ä»¥å…ˆä»ç±»çš„å¤æ‚å‡½æ•°å…¥æ‰‹ï¼Œæˆ‘ä»¬åœ¨æŠŠå‡½æ•°æ‹†åˆ†çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æŸäº›éƒ¨åˆ†æ‹†åˆ†æˆå‡½æ•°ä¹‹åä¼šä¼ é€’å¤§é‡çš„å‚æ•°ç»™å®ƒï¼Œå¦åˆ™å¾ˆéš¾æ‹†åˆ†ï¼Œé‚£ä¹ˆä¼ é€’ç»™å®ƒè¿™ä¸ªå‡½æ•°çš„å‚æ•°å°±å¯ä»¥è¢«æ•´åˆè¿›æ–°çš„å°ç±»çš„å®ä½“å˜é‡ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— éœ€ä¼ é€’å‚æ•°ï¼ŒåŒæ—¶ä¹Ÿå®Œæˆäº†æ‹†åˆ†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ•´æ´ä»£ç &quot;&gt;&lt;a href=&quot;#æ•´æ´ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;æ•´æ´ä»£ç &quot;&gt;&lt;/a&gt;æ•´æ´ä»£ç &lt;/h2&gt;&lt;p&gt;ã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹ä¸€ä¹¦ä½œè€…å¯¹æ•´æ´ä»£ç çš„æè¿°ï¼šæˆ‘å¯ä»¥åˆ—å‡ºæˆ‘ç•™æ„åˆ°çš„æ•´æ´ä»£ç çš„æ‰€æœ‰ç‰¹ç‚¹ï¼Œä½†å…¶ä¸­æœ‰ä¸€æ¡æ˜¯æ ¹æœ¬æ€§çš„ï¼Œæ•´æ´çš„ä»£ç æ€»æ˜¯çœ‹</summary>
      
    
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://z4ynadmin.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ fst-json è‡ªåŠ¨ç”Ÿæˆæ›´å¿«çš„ json åºåˆ—åŒ–æ–¹æ³•</title>
    <link href="https://z4ynadmin.github.io/2022/02/11/fst-json/"/>
    <id>https://z4ynadmin.github.io/2022/02/11/fst-json/</id>
    <published>2022-02-11T10:45:54.000Z</published>
    <updated>2022-11-04T07:11:09.553Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>fst-json çš„å…¨ç§°æ˜¯ â€œfast-safe-typescript jsonâ€ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ç›´æ¥ä½¿ç”¨ä½ å®šä¹‰å¥½çš„ Typescript æ–‡ä»¶ï¼Œæ¥ç”Ÿæˆæ›´åŠ é«˜æ•ˆçš„åºåˆ—åŒ–æ–¹æ³•ã€‚<br>å…¶ç›®çš„æ˜¯åˆ©ç”¨ç°æœ‰çš„èµ„æºï¼ˆå¼€å‘è¿‡ç¨‹ç¼–å†™çš„ Typescript æ–‡ä»¶ï¼‰ï¼Œåœ¨ç¼–è¯‘å’Œå¼€å‘é˜¶æ®µå°½å¯èƒ½æé«˜è¿è¡Œæ—¶æ€§èƒ½ï¼ŒåŒæ—¶è¿™ä¸ªè¿‡ç¨‹å¹¶æ²¡æœ‰é¢å¤–çš„å¼€å‘è´Ÿæ‹…ã€‚</p></blockquote><p>github: <a href="https://github.com/aircloud/fst-json/blob/master/README.zh-cn.md">https://github.com/aircloud/fst-json/blob/master/README.zh-cn.md</a></p><p>çŸ¥ä¹ï¼š<a href="https://zhuanlan.zhihu.com/p/466572196">https://zhuanlan.zhihu.com/p/466572196</a></p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç”±äº JSON schema è¿™ä¸ªæ¦‚å¿µæ˜¯ç”± fastify å¼•å…¥ï¼Œæˆ‘ä»¬å…ˆå¯¹æ­¤è¿›è¡Œä»‹ç»ã€‚</p><p><a href="https://github.com/fastify/fastify">fastify</a> æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ Node.JS æœåŠ¡ç«¯æ¡†æ¶ï¼Œå…¶ç‰¹ç‚¹å°±æ˜¯é«˜æ€§èƒ½ï¼Œè€Œä¹‹æ‰€ä»¥é«˜æ€§èƒ½ä¸»è¦çš„åŸå› å°±æ˜¯å®ƒå¼•å…¥äº† JSON schemaï¼Œé€šè¿‡å¯¹å‚æ•°å¢åŠ çº¦æŸï¼Œæ¥è·å¾—æ›´å¿«çš„åºåˆ—åŒ–é€Ÿåº¦ã€‚</p><p>åŒæ—¶ï¼Œfastify ä¹Ÿå¼€æºäº†ä¸€ä¸ªç‹¬ç«‹çš„ json åºåˆ—åŒ–åº“ <a href="https://github.com/fastify/fast-json-stringify">fast-json-stringify</a>ï¼Œå¯ä»¥åœ¨<strong>é fastify çš„é¡¹ç›®ä¸­ä½¿ç”¨</strong>ã€‚</p><p>åœ¨ fastify ä¸­ï¼ŒJSON schema çš„å¤§è‡´å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const schema = &#123;</span><br><span class="line">  <span class="keyword">schema</span>: &#123;</span><br><span class="line">    response: &#123;</span><br><span class="line">      <span class="number">200</span>: &#123;</span><br><span class="line">        <span class="keyword">type</span>: <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">        properties: &#123;</span><br><span class="line">          hello: &#123;</span><br><span class="line">            <span class="keyword">type</span>: <span class="string">&#x27;string&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fastify</span><br><span class="line">  .<span class="keyword">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="keyword">schema</span>, <span class="keyword">function</span> (req, reply) &#123;</span><br><span class="line">    reply</span><br><span class="line">      .send(&#123; hello: <span class="string">&#x27;world&#x27;</span> &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸€å¥—å†™æ³•ä¸ä»…ä¼šå¸¦æ¥é¢å¤–çš„å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”ç”±äºç›®å‰å¤§å¤šæ•°é¡¹ç›®å¼€å‘éƒ½æ˜¯é‡‡ç”¨ Typescriptï¼Œè¿™å¥—å®šä¹‰ä¹Ÿä¼šå’Œæˆ‘ä»¬çš„ Typescript å®šä¹‰æœ‰æ‰€é‡å¤ã€‚</p><p>äº‹å®ä¸Šï¼Œè™½ç„¶ä¸Šé¢çš„ç¤ºä¾‹ä»£ç æ¯”è¾ƒçŸ­å°ï¼Œä½†æ˜¯åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæ¥å£æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œè¿™äº›ä»£ç çš„å¼€å‘é‡å’Œé¢å¤–çš„å­¦ä¹ /ç»´æŠ¤æˆæœ¬è¿˜æ˜¯ä¸å®¹å°è§†çš„ã€‚</p><p>é‚£ä¹ˆæœ‰æ²¡æœ‰å¯èƒ½ç›´æ¥ä½¿ç”¨ Typescriptï¼Œè€Œä¸ç”¨é‡æ–°å®šä¹‰ JSON schema å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æœ‰çš„ã€‚</p><p><a href="https://github.com/aircloud/fst-json/blob/master/README.zh-cn.md">fst-json</a> å°±æ˜¯è¿™æ ·ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥é€šè¿‡å¤ç”¨æˆ‘ä»¬åœ¨ Typescript ä¸­å®šä¹‰çš„ schemaï¼Œé€šè¿‡å·¥å…·è‡ªåŠ¨ç”Ÿæˆ fastify éœ€è¦çš„ schemaï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— éœ€é¢å¤–ç»´æŠ¤ schema å®šä¹‰äº†ã€‚</p><h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç» fst-json çš„ä½¿ç”¨æ–¹å¼ï¼Œé¦–å…ˆå®‰è£…ï¼ˆå…¨å±€æˆ–è€…å®‰è£…åˆ°é¡¹ç›®ä¸­ï¼‰ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> i fst-json -g</span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬é¡¹ç›®é‡‡ç”¨äº† Typescriptï¼Œäº‹å…ˆå·²ç»æœ‰äº† schema æ–‡ä»¶ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">interface</span> <span class="symbol">HellWorld</span> &#123;</span><br><span class="line">  attr1: <span class="built_in">string</span>;</span><br><span class="line">  attr2: <span class="built_in">string</span>;</span><br><span class="line">  attr3?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»º .fstconfig.jsï¼Œç”¨äºå£°æ˜é…ç½®ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.<span class="built_in">exports</span> = &#123;</span><br><span class="line">  sourceFiles: [</span><br><span class="line">    <span class="string">&#x27;./src/schema/*.ts&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  distFile: <span class="string">&quot;./src/schema-dist.ts&quot;</span>,</span><br><span class="line">  format: <span class="string">&#x27;fastify&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬è¿è¡Œï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fst-json gen</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ­¤æ—¶ä¼šç”Ÿæˆä¸€ä¸ª <code>src/schema-dist.ts</code>ï¼Œè¿™é‡Œä¼šæœ‰è‡ªåŠ¨ç”Ÿæˆçš„ JSON schema å®šä¹‰ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¯ä»¥åŒæ—¶ä½¿ç”¨ JSON schema å®šä¹‰å’Œæˆ‘ä»¬ä¹‹å‰å®šä¹‰å¥½çš„ Typescript ç±»å‹ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="keyword">schemas</span> <span class="keyword">from</span> <span class="string">&#x27;./schema-dist&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; HellWorld  &#125; <span class="keyword">from</span> &quot;./schema&quot;;</span><br><span class="line"></span><br><span class="line">const schema = &#123;</span><br><span class="line">  <span class="keyword">schema</span>: &#123;</span><br><span class="line">    response: &#123;</span><br><span class="line">      <span class="number">200</span>: <span class="keyword">schemas</span>.HellWorldSchema</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">server</span></span><br><span class="line">  .<span class="keyword">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="keyword">schema</span>, <span class="keyword">function</span> (req, reply) &#123;</span><br><span class="line">    let res: HellWorld = &#123;</span><br><span class="line">      attr1: <span class="string">&#x27;hello&#x27;</span>, </span><br><span class="line">      attr2: <span class="string">&#x27;world&#x27;</span>, </span><br><span class="line">      attr3: <span class="string">&#x27;optional&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    reply</span><br><span class="line">      .send(res);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œfst-json ä¸ä»…ä»…å¯ä»¥åœ¨ fastify ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•å…¶ä»–éœ€è¦ JSON åŠ é€Ÿçš„åœ°æ–¹ä½¿ç”¨ï¼Œç”¨æ³•ä¹Ÿéƒ½å¾ˆç®€å•ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª <a href="https://github.com/aircloud/fst-json/tree/master/examples/helloworld">HelloWorld</a></p><h2 id="åŸç†å’Œä¼˜åŠ¿"><a href="#åŸç†å’Œä¼˜åŠ¿" class="headerlink" title="åŸç†å’Œä¼˜åŠ¿"></a>åŸç†å’Œä¼˜åŠ¿</h2><p>fst-jsonï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡å¯¹ Typescript è¿›è¡Œè¯­æ³•æ ‘è§£æï¼Œé’ˆå¯¹ export å¯¼å‡ºçš„å„ç§ç±»å‹ç”Ÿæˆå¯¹åº”çš„ fast-json-stringify çš„ JSON schemaï¼Œæ‰€ä»¥è¿è¡Œé€Ÿåº¦å’Œæ‰‹å†™æ˜¯æ²¡æœ‰åŒºåˆ«çš„ã€‚å› æ­¤ï¼Œå®ƒä¸ä»…ä»…èƒ½å®Œå…¨ä½¿ç”¨ fast-json-stringify çš„æ•ˆç‡ä¼˜åŠ¿ï¼Œé™¤äº†å‡å°‘é‡å¤å¼€å‘é‡ä»¥å¤–è¿˜æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li><strong>æ ¹æ® schema è¿›è¡Œå­—æ®µæ ¡éªŒï¼š</strong> é¦–å…ˆä¼šè¿›è¡Œ Tyepscript è¯­æ³•æ ¡éªŒï¼Œå¦å¤–å½“ç¼ºå¤±å¿…é¡»çš„å±æ€§ï¼ˆä¾‹å¦‚ï¼Œå½“å®šä¹‰ interface æ—¶æ²¡æœ‰è¢« <code>?</code> ä¿®é¥°ç¬¦ä¿®é¥°çš„å±æ€§ç¼ºå¤±ï¼‰çš„æ—¶å€™ä¹Ÿä¼šç›´æ¥æŠ¥é”™ã€‚</li><li><strong>è¿‡æ»¤ä¸éœ€è¦çš„ schema å­—æ®µï¼š</strong> ä¾‹å¦‚å½“æŠŠ Node.JS å½“ä½œ BFF å±‚çš„æ—¶å€™ï¼Œå¯ä»¥ä¸¥æ ¼æŒ‰ç…§ Typescript çš„å®šä¹‰æ¥è¿”å›å­—æ®µï¼Œé¿å…è¿”å›ä¸éœ€è¦çš„å­—æ®µï¼Œä»è€Œé¿å…ä¸Šæ¸¸æœåŠ¡çš„æ•æ„Ÿå­—æ®µè¢«ç›´æ¥é€ä¼ å‡ºå»ï¼Œä¹Ÿæ„å‘³ç€ä»æ¥å£å±‚é¢å¼€å§‹ï¼ŒçœŸæ­£åšåˆ° Fully Typedã€‚</li><li><strong>æ›´å¿«çš„åºåˆ—åŒ–é€Ÿåº¦ï¼š</strong> æ ¹æ® <a href="https://github.com/fastify/fast-json-stringify/issues">fast-json-stringify</a> çš„æµ‹è¯•ï¼Œèƒ½è¾¾åˆ°æ¥è¿‘ 2 å€çš„ JSON åºåˆ—åŒ–é€Ÿåº¦ã€‚</li></ul><p>ç›®å‰ï¼Œfst-json å¯¹å¸¸ç”¨çš„å„ç±» interfaceã€classã€type ç­‰ç±»å‹å®šä¹‰éƒ½è¿›è¡Œäº†æ”¯æŒï¼Œå¹¶ä¸”å¢åŠ äº†å„ç±» examples å’Œ 90% çš„è¦†ç›–ç‡æµ‹è¯•ã€‚</p><p>å½“ç„¶ï¼Œç”±äº Typescript çš„å†™æ³•æ¯”è¾ƒçµæ´»ã€‚å‡ºäº JSON schema æœ¬èº«çš„å±€é™æ€§ï¼Œæˆ‘ä»¬æ— æ³•è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å‚è€ƒè¿™é‡Œçš„<a href="https://github.com/aircloud/fst-json/blob/master/README.zh-cn.md#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">æ³¨æ„äº‹é¡¹</a>ï¼Œæœ‰é’ˆå¯¹æ€§çš„å¯¹æ¯”è¾ƒå®¹æ˜“å‡ºé—®é¢˜çš„å†™æ³•è¿›è¡Œè§„é¿ã€‚</p><h3 id="å±€é™æ€§"><a href="#å±€é™æ€§" class="headerlink" title="å±€é™æ€§"></a>å±€é™æ€§</h3><p>fst-json åªæ˜¯è¯­æ³•è§£æå’Œç”Ÿæˆå·¥å…·ï¼Œå…·ä½“çš„è¿è¡Œæ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨ fast-json-stringifyï¼Œä¹Ÿå› æ­¤é¡¹ç›®ä¸­éœ€è¦å®‰è£… fast-json-stringify ä¾èµ–ã€‚</p><p>å¦å¤–ï¼Œé’ˆå¯¹ fast-json-stringify çš„æµ‹è¯•ï¼Œåœ¨æ¯”è¾ƒå°çš„ payload çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„é€Ÿåº¦æ˜¯æœ‰ä¼˜åŠ¿çš„ï¼Œå½“ payload è¿‡å¤§çš„æ—¶å€™ï¼Œå®ƒçš„ä¼˜åŠ¿ä¸å†æ˜æ˜¾ï¼Œç”šè‡³è¿˜ä¸å¦‚ JSON.stringifyã€‚å®˜æ–¹çš„æè¿°æ˜¯ï¼š</p><blockquote><p>fast-json-stringify is significantly faster than JSON.stringify() for small payloads.<br>Its performance advantage shrinks as your payload grows.</p></blockquote><p>ä¸è¿‡äº‹å®ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ fst-json åšä¸€äº›äº‹æƒ…ï¼Œä¾‹å¦‚ç¬”è€…ä½¿ç”¨ fst-json æ¥åš bff å±‚å¯¹ä¸‹æ¸¸æœåŠ¡æ¥å£çš„æŒç»­é›†æˆå…¼å®¹æµ‹è¯•ï¼Œåœ¨ Typescript å·²ç»æå‰å®šä¹‰å¥½äº†çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æµ‹è¯•çš„æ—¶å€™åªéœ€è¦è¯·æ±‚ä¾èµ–æœåŠ¡å¹¶ä¸”æŠŠå“åº”å­—æ®µåºåˆ—åŒ–ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™å¹¶ä¸”å­—æ®µåºåˆ—åŒ–ä¹‹åä¹Ÿæ²¡æœ‰å˜æˆ nullï¼ˆåœ¨æ¯”è¾ƒå¤æ‚çš„æ¥å£å®šä¹‰ä¸­ï¼Œå¦‚æœä¸ªåˆ«å±æ€§å®šä¹‰ç±»å‹å’Œè¿”å›ç±»å‹ä¸ä¸€è‡´ï¼Œfast-json-stringify æ˜¯ä¼šç›´æ¥è½¬æ¢æˆ nullï¼‰ï¼Œå°±è¯´æ˜æ¥å£æ˜¯æ²¡æœ‰å˜åŒ–çš„ã€‚å¯ä»¥æœ‰æ•ˆé¿å…ä¾èµ–æœåŠ¡æ¥å£å˜åŒ–ï¼Œå´åˆæ²¡æœ‰åŠæ—¶åŒæ­¥åˆ°ä½é€ æˆæš—å‘çš„æƒ…å†µã€‚</p><p>å¦å¤–ï¼Œå…¶å®ç›®å‰ fast-json-stringify ç”Ÿæˆåºåˆ—åŒ–ä»£ç è¿˜æ˜¯åœ¨è¿è¡Œæ—¶åšçš„ï¼Œè¿™é‡Œçš„é—®é¢˜å¯èƒ½åœ¨äºä»£ç ä¸é€æ˜ï¼Œä»¥åŠè¿è¡Œæ—¶å¼€é”€å’Œé£é™©ï¼Œç¬”è€…æ˜¯å¸Œæœ›å°†å®ƒçš„ç”Ÿæˆä»£ç å˜æˆç¼–è¯‘æ—¶å»åšï¼Œä¸è¿‡è¿™æ ·çš„è¯å®é™…ä¸Šæœ‰ä¸€ç‚¹é‡å¤é€ è½®å­çš„é”™è§‰ï¼Œæ‰€ä»¥ç›®å‰è¿˜æ²¡æœ‰åšè¿™ä¸ªäº‹æƒ…ã€‚</p><hr><p>æœ€å <a href="https://github.com/aircloud/fst-json/">fst-json</a> ä½œä¸ºä¸€ä¸ªå¼€æºä¸ä¹…çš„å°é¡¹ç›®ï¼Œè‚¯å®šè¿˜æœ‰äº›éœ€è¦ä¼˜åŒ–å’Œå®Œå–„çš„åœ°æ–¹ï¼Œæ¬¢è¿ star æ”¯æŒå’Œæå‡ºå»ºè®®ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;fst-json çš„å…¨ç§°æ˜¯ â€œfast-safe-typescript jsonâ€ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ç›´æ¥ä½¿ç”¨ä½ å®šä¹‰å¥½çš„ Typescript æ–‡ä»¶ï¼Œæ¥ç”Ÿæˆæ›´åŠ é«˜æ•ˆçš„åºåˆ—åŒ–æ–¹æ³•ã€‚&lt;br&gt;å…¶ç›®çš„æ˜¯åˆ©ç”¨ç°æœ‰çš„èµ„æºï¼ˆå¼€å‘è¿‡ç¨‹ç¼–å†™çš„ Typescript æ–‡ä»¶ï¼‰</summary>
      
    
    
    
    
    <category term="å‰ç«¯ç»¼åˆ" scheme="https://z4ynadmin.github.io/tags/%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šä»£ç ç²¾è¿›ä¹‹è·¯ã€‹ä¸ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹-è¯»ä¹¦ç¬”è®°</title>
    <link href="https://z4ynadmin.github.io/2022/01/30/%E3%80%8A%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF%E3%80%8B%E4%B8%8E%E3%80%8A%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>https://z4ynadmin.github.io/2022/01/30/%E3%80%8A%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF%E3%80%8B%E4%B8%8E%E3%80%8A%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</id>
    <published>2022-01-30T08:14:15.000Z</published>
    <updated>2022-11-04T07:11:09.555Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡é€šè¿‡å¯¹éƒ¨åˆ†é‡ç‚¹å†…å®¹ç½—åˆ—çš„æ–¹å¼å¯¹æ­¤ä¸¤æœ¬ä¹¦çš„è¯»ä¹¦ç¬”è®°è¿›è¡Œè®°å½•ã€‚</p><blockquote><p>ã€Šä»£ç æ•´æ´ä¹‹é“-ç¨‹åºå‘˜çš„èŒä¸šç´ å…»ã€‹</p></blockquote><h2 id="è½¯ä»¶å¼€å‘åŸåˆ™"><a href="#è½¯ä»¶å¼€å‘åŸåˆ™" class="headerlink" title="è½¯ä»¶å¼€å‘åŸåˆ™"></a>è½¯ä»¶å¼€å‘åŸåˆ™</h2><p>æ‰€æœ‰è½¯ä»¶é¡¹ç›®çš„æ ¹æœ¬æŒ‡å¯¼åŸåˆ™æ˜¯ï¼Œè½¯ä»¶è¦<strong>æ˜“äºä¿®æ”¹</strong>ã€‚å¦‚æœè¿èƒŒè¿™æ¡åŸåˆ™æ­å»ºåƒµåŒ–çš„ç»“æ„ï¼Œå°±ç ´åäº†æ„å»ºæ•´ä¸ªè¡Œä¸šçš„ç»æµæ¨¡å‹ã€‚</p><h2 id="å¿…å¤‡æŠ€èƒ½"><a href="#å¿…å¤‡æŠ€èƒ½" class="headerlink" title="å¿…å¤‡æŠ€èƒ½"></a>å¿…å¤‡æŠ€èƒ½</h2><p>è½¯ä»¶å¼€å‘äººå‘˜å¿…é¡»ç²¾é€šçš„äº‹é¡¹ï¼š</p><ul><li>è®¾è®¡æ¨¡å¼ï¼šå¿…é¡»èƒ½æè¿° GOF ä¹¦ä¸­çš„å…¨éƒ¨ 24 ç§æ¨¡å¼å’Œï¼ŒåŒæ—¶è¿˜è¦æœ‰ POSA ä¹¦ä¸­çš„å¤šæ•°æ¨¡å‹çš„å®è·µç»éªŒã€‚</li><li>è®¾è®¡åŸåˆ™ï¼šå¿…é¡»äº†è§£ SOLID åŸåˆ™ï¼Œè€Œä¸”è¦æ·±åˆ»ç†è§£ç»„ä»¶è®¾è®¡åŸåˆ™ã€‚</li><li>æ–¹æ³•ï¼šå¿…é¡»ç†è§£ XPã€Scrumã€ç²¾ç›Šã€çœ‹æ¿ã€ç€‘å¸ƒã€ç»“æ„åŒ–å’Œåˆ†æä»¥åŠç»“æ„åŒ–ç¼–ç¨‹ã€‚</li><li>å®è·µï¼šå¿…é¡»æŒæ¡æµ‹è¯•é©±åŠ¨å¼€å‘ï¼Œé¢å‘å¯¹è±¡è®¾è®¡ï¼Œç»“æ„åŒ–ç¼–ç¨‹ï¼ŒæŒç»­é›†æˆå’Œç»“å¯¹ç¼–ç¨‹ã€‚</li><li>å·¥ä½œï¼šå¿…é¡»äº†è§£å¦‚ä½•ä½¿ç”¨ UML å›¾ï¼ŒDFD å›¾ï¼Œç»“æ„å›¾ï¼ŒPetri ç½‘ç»œå›¾ï¼ŒçŠ¶æ€è¿ç§»å›¾è¡¨ï¼Œæµç¨‹å›¾å’Œå†³ç­–è¡¨ã€‚</li></ul><h2 id="ä¸è¦è¯´â€œæˆ‘è¯•è¯•â€"><a href="#ä¸è¦è¯´â€œæˆ‘è¯•è¯•â€" class="headerlink" title="ä¸è¦è¯´â€œæˆ‘è¯•è¯•â€"></a>ä¸è¦è¯´â€œæˆ‘è¯•è¯•â€</h2><ul><li>è¿™ç§ç±»å‹çš„æè¿°å¹¶ä¸æ˜¯æ‰¿è¯ºï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰å®é™…æ„ä¹‰ã€‚</li><li>è€Œä¸”è¿™é€šå¸¸æ„å‘³ç€ä½ ä¹‹å‰è¯„ä¼°å‘¨æœŸçš„æ—¶å€™<strong>å¹¶æ²¡æœ‰ç«­å°½å…¨åŠ›</strong>ï¼Œå¦åˆ™ä¸ºä»€ä¹ˆåœ¨å‹ç¼©å‘¨æœŸçš„è®¨è®ºä¸­è¿˜è¦å†è¯´â€œæˆ‘è¯•è¯•â€å‘¢ã€‚</li></ul><h2 id="é‡æ–°å®šä¹‰â€œå®Œæˆâ€"><a href="#é‡æ–°å®šä¹‰â€œå®Œæˆâ€" class="headerlink" title="é‡æ–°å®šä¹‰â€œå®Œæˆâ€"></a>é‡æ–°å®šä¹‰â€œå®Œæˆâ€</h2><ul><li>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬è‡ªæ¬ºæ¬ºäººçš„è®¤ä¸ºä»»åŠ¡å·²ç»å®Œæˆçš„è¶³å¤Ÿå¥½äº†ï¼Œç„¶åè½¬å…¥ä¸‹ä¸€é¡¹ä»»åŠ¡ã€‚æˆ‘ä»¬ä¼šç»™è‡ªå·±æ‰¾å€Ÿå£è¯´ï¼Œå…¶ä»–è¿˜æ²¡æ¥å¾—åŠå®Œæˆçš„å·¥ä½œå¯ä»¥ç­‰åˆ°æ—¶é—´æ›´å……è£•çš„æ—¶å€™æ¥å¤„ç†ã€‚ç”šè‡³æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæŠŠä»£ç æäº¤å®šä¹‰ä¸ºâ€ä»»åŠ¡å®Œæˆâ€œã€‚è¿™æ ·æ˜¾ç„¶æ˜¯é”™è¯¯çš„ã€‚</li><li>çœŸæ­£çš„ä»»åŠ¡å®Œæˆï¼Œæ˜¯å·²ç»é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶ä¸”ä¸Šçº¿å®Œæˆç­‰ã€‚</li></ul><h2 id="å¯»æ±‚å¸®åŠ©"><a href="#å¯»æ±‚å¸®åŠ©" class="headerlink" title="å¯»æ±‚å¸®åŠ©"></a>å¯»æ±‚å¸®åŠ©</h2><ul><li>ç¼–ç¨‹å¹¶éæ˜“äº‹ã€‚è¶Šå¹´è½»çš„ç¨‹åºå‘˜å¯èƒ½è¶Šæ²¡æœ‰æ„Ÿè§‰ï¼Œæ¯•ç«Ÿä»£ç åªä¸è¿‡æ˜¯ä¸€å † if å’Œ while è¯­å¥è€Œå·²ã€‚ä½†æ˜¯éšç€ç»éªŒå¢é•¿ï¼Œä½ ä¼šå¼€å§‹æ„è¯†åˆ°æŠŠè¿™äº› if å’Œ while è¯­å¥ç»„è£…åœ¨ä¸€èµ·å¹¶éæ˜“äº‹ã€‚ä¸èƒ½æœŸæœ›å°†ä»–ä»¬ç®€å•çš„ç»„è£…åˆ°ä¸€èµ·å°±èƒ½å¾—åˆ°æœ€å¥½çš„ä»£ç ã€‚ç›¸åï¼Œå¿…é¡»å°å¿ƒè°¨æ…åœ°å°†ç³»ç»Ÿåˆ†è§£ä¸ºæ˜“äºç†è§£çš„å•å…ƒï¼ŒåŒæ—¶ä½¿å¾—è¿™äº›å•å…ƒä¹‹é—´çš„è”ç³»è¶Šå°‘è¶Šå¥½ã€‚</li><li>å› æ­¤ï¼Œä»…å‡­ä¸€å·±ä¹‹åŠ›å¾ˆéš¾å†™å‡ºè¶³å¤Ÿä¼˜ç§€çš„ä»£ç ï¼Œå³ä½¿ä½ çš„æŠ€è‰ºè¶³å¤Ÿé«˜è¶…ã€‚<strong>ä¹Ÿä¸€å®šèƒ½ä»å¦å¤–ä¸€åç¨‹åºå‘˜çš„æ€è€ƒå’Œæƒ³æ³•ä¸­è·ç›Šã€‚</strong></li></ul><h2 id="é‡æ–°è®¤è¯†äº‰è®º"><a href="#é‡æ–°è®¤è¯†äº‰è®º" class="headerlink" title="é‡æ–°è®¤è¯†äº‰è®º"></a>é‡æ–°è®¤è¯†äº‰è®º</h2><ul><li>å‡¡æ˜¯ä¸èƒ½åœ¨ 5 åˆ†é’Ÿå†…è§£å†³çš„äº‰è®ºï¼Œéƒ½ä¸èƒ½é€šè¿‡è¾©è®ºæ¥è§£å†³ã€‚äº‰è®ºä¹‹æ‰€ä»¥è¦èŠ±è´¹è¿™ä¹ˆé•¿æ—¶é—´ï¼Œæ˜¯å› ä¸ºäº‰è®ºåŒæ–¹éƒ½æ‹¿ä¸å‡ºè¶³å¤Ÿæœ‰åŠ›çš„è¯æ®ï¼Œè¿™ä¸ªæ—¶å€™äº‰è®ºä¾æ®çš„ä¸æ˜¯äº‹å®ï¼Œè€Œæ˜¯ä¿¡å¿µã€‚</li></ul><h2 id="å›¢é˜Ÿ"><a href="#å›¢é˜Ÿ" class="headerlink" title="å›¢é˜Ÿ"></a>å›¢é˜Ÿ</h2><ul><li>æˆå‘˜éœ€è¦å…‹æœä¸ªä½“å·®å¼‚æ€§ï¼Œé»˜å¥‘é…åˆï¼Œå½¼æ­¤ä¿¡ä»»ï¼Œå½¢æˆçœŸæ­£æœ‰å‡èšåŠ›çš„å›¢é˜Ÿï¼Œæ˜¯éœ€è¦ä¸€äº›æ—¶é—´çš„ã€‚å¯èƒ½éœ€è¦ 6 ä¸ªæœˆï¼Œç”šè‡³ä¸€å¹´ï¼Œä½†æ˜¯ï¼Œå‡èšåŠ›ä¸€æ—¦å½¢æˆï¼Œå°±ä¼šäº§ç”Ÿä¸€ç§ç¥å¥‡çš„é­”åŠ›ã€‚å›¢é˜Ÿæˆå‘˜ä¼šä¸€èµ·åšè®¡åˆ’ï¼Œä¸€èµ·è§£å†³é—®é¢˜ï¼Œä¸€èµ·é¢å¯¹é—®é¢˜ï¼Œ<strong>ä¸€èµ·è§£å†³ä¸€åˆ‡</strong>ã€‚</li></ul><blockquote><p>ã€Šä»£ç ç²¾è¿›ä¹‹è·¯ã€‹</p></blockquote><h2 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h2><p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬éƒ½çŸ¥é“å‘½ååº”è¯¥æœ‰å¯è¯»æ€§ï¼Œä½†æ˜¯åƒè¿™é‡Œä»‹ç»è¿™ä¹ˆè¯¦ç»†çš„å¹¶ä¸å¤šã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬é’ˆå¯¹å‘½åå¯ä»¥é€šè¿‡å›ºå®šåˆ†æ®µé™å®šè¯çš„æ–¹å¼è¿›è¡Œç»Ÿä¸€ï¼š</p><ul><li><code>[åŠ¨ä½œ][å¯¹è±¡][èŒƒç•´]</code>ï¼Œæ¥ç»Ÿä¸€æˆ‘ä»¬çš„å‘½åï¼Œä¾‹å¦‚ <code>getRevenueTotal(è·å–æ€»æ”¶å…¥)</code>ã€‚</li></ul><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><ul><li>æ³¨é‡Šå¦‚æœæ˜¯å¯¹æ‰§è¡Œè¿‡ç¨‹çš„ç®€å•å¤è¿°ï¼Œé‚£ä¹ˆè¿™æ ·çš„æ³¨é‡Šä¸åº”è¯¥å­˜åœ¨ã€‚</li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°å’Œä¸­é—´å˜é‡çš„å°è£…ï¼Œæ¥å‡å°‘å¯ä»¥é¿å…çš„æ³¨é‡Šã€‚</li></ul><h2 id="é”™è¯¯å’Œé”™è¯¯ç "><a href="#é”™è¯¯å’Œé”™è¯¯ç " class="headerlink" title="é”™è¯¯å’Œé”™è¯¯ç "></a>é”™è¯¯å’Œé”™è¯¯ç </h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å¤„ç†é”™è¯¯ï¼ˆä¸­åå°ç³»ç»Ÿæ¯”è¾ƒåˆé€‚ï¼‰ï¼š</p><ol><li>ç¨‹åºè¿è¡ŒæœŸé—´çš„é”™è¯¯ï¼Œä¸€èˆ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡ Error æ‰“å°åˆ°æ—¥å¿—ä¸­ï¼Œè€Œä¸”è¿™ç±»é”™è¯¯ï¼Œæœ€å¥½å’ŒæŠ¥è­¦ç³»ç»Ÿè¿›è¡Œå¯¹æ¥ï¼Œç›´æ¥è¾“å‡ºåˆ°æŠ¥è­¦ç³»ç»Ÿä¸­ã€‚</li><li>API/æœåŠ¡è°ƒç”¨é”™è¯¯ï¼Œè¿™ç§é”™è¯¯ä¸€èˆ¬é€šè¿‡é”™è¯¯ç è¿”å›ç»™è°ƒç”¨ç«¯çš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦åœ¨æ—¥å¿—åšå¥½è®°å½•ã€‚</li></ol><blockquote><p>å…³äºé”™è¯¯ç ï¼šé”™è¯¯ç æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æˆ–è€…æ˜¾ç¤ºåŒ–é”™è¯¯ç ï¼Œæ•°å­—çš„åå¤„å³æˆ‘ä»¬éœ€è¦é¢å¤–ç»´æŠ¤é”™è¯¯ç è¡¨ï¼Œè°ƒç”¨è€…å¯èƒ½å¹¶éæˆ‘ä»¬å›¢é˜Ÿï¼Œæœ‰å¯èƒ½é€ æˆæ²Ÿé€šéšœç¢ã€‚<br>å› æ­¤ï¼Œæ›´å»ºè®®ä½¿ç”¨<strong>æ˜¾ç¤ºåŒ–é”™è¯¯ç </strong>ï¼Œå¹¶ä¸”å¯ä»¥åšä¸€ä¸ªçº¦å®šï¼šP ä»£è¡¨å‚æ•°å¼‚å¸¸ï¼ŒB ä»£è¡¨ä¸šåŠ¡å¼‚å¸¸ï¼ŒS ä»£è¡¨ç³»ç»Ÿå¼‚å¸¸ï¼Œä¾‹å¦‚ï¼šP_Customer_NameIsNull å®¢æˆ·å§“åä¸èƒ½ä¸ºç©º</p></blockquote><h2 id="ä»£ç ä¸­çš„ç ´çª—æ•ˆåº”"><a href="#ä»£ç ä¸­çš„ç ´çª—æ•ˆåº”" class="headerlink" title="ä»£ç ä¸­çš„ç ´çª—æ•ˆåº”"></a>ä»£ç ä¸­çš„ç ´çª—æ•ˆåº”</h2><p>ç ´çª—æ•ˆåº”åœ¨ä»£ç ä¸­å¾ˆå¸¸è§ï¼Œé€šå¸¸åœ¨æˆ‘ä»¬å®Œæˆä¸€ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œéƒ½æ˜¯åŸºäºç°æœ‰ä»£ç çš„æ”¹åŠ¨ï¼Œå¦‚æœä½ å¯ä»¥åŸºäºä¸€ä¸ªç°æœ‰ä»£ç çš„ä¸è‰¯è®¾è®¡å®ŒæˆåŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œåœ¨å·²ç»å¾ˆæ··ä¹±çš„äº‹ä»¶è®¢é˜…ç±»å¢åŠ ä¸€ä¸ª Enumã€åœ¨å·²ç»å¾ˆå†—é•¿çš„ Http è¯·æ±‚åˆ—è¡¨å¤åˆ¶ä¸€ä¸ªæ–°çš„å‡ºæ¥ï¼‰ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡ä½ ä¼šè¿™æ ·åšè€Œä¸æ˜¯é‡æ„ï¼Œ<strong>ç‰¹åˆ«æ˜¯å½“è¿™ä¸ªä¸è‰¯è®¾è®¡ä¸æ˜¯ä½ æœ€åˆå†™çš„æ—¶å€™ï¼Œå°±æ›´åŠ å¯ä»¥å¿ƒå®‰ç†å¾—çš„æ”¹ä»£ç è€Œæ²¡æœ‰ä»»ä½•è´Ÿç½ªæ„Ÿï¼Œç”šè‡³åœ¨ Code Review çš„æ—¶å€™éƒ½å¯ä»¥æœ‰å……è¶³çš„ç†ç”±ï¼šå®ƒå·²ç»æ˜¯è¿™æ ·äº†ï¼Œè¿™æ¬¡å…ˆä¸Šï¼Œå°†æ¥æ‰¾ä¸ªæ—¶é—´æ•´ä½“é‡æ„æ‰è¡Œã€‚</strong></p><h2 id="SLAP"><a href="#SLAP" class="headerlink" title="SLAP"></a>SLAP</h2><p>SLAPï¼šSingle Level of Abstraction Principleï¼ŒæŠ½è±¡å±‚æ¬¡ä¸€è‡´æ€§</p><p>SLAP è¦æ±‚å‡½æ•°ä½“ä¸­çš„å†…å®¹å¿…é¡»åœ¨åŒä¸€ä¸ªæŠ½è±¡å±‚æ¬¡ä¸Šï¼Œå¦‚æœé«˜å±‚æ¬¡æŠ½è±¡å’Œä½å±‚æ¬¡ç»†èŠ‚æ‚ç³…åœ¨ä¸€èµ·ï¼Œå°±ä¼šæ˜¾å¾—å‡Œä¹±ï¼Œéš¾ä»¥ç†è§£ã€‚</p><h2 id="å¦‚ä½•è¿°èŒ"><a href="#å¦‚ä½•è¿°èŒ" class="headerlink" title="å¦‚ä½•è¿°èŒ"></a>å¦‚ä½•è¿°èŒ</h2><ul><li>æ–¹æ³•1: <strong>æå‡ºé—®é¢˜ï¼Œå®šä¹‰é—®é¢˜ï¼Œåˆ†æé—®é¢˜ï¼Œè§£å†³é—®é¢˜ï¼Œæœ€åå±•æœ›æœªæ¥</strong>ã€‚è¿™ä¸ªä¹Ÿæ˜¯éº¦è‚¯é”¡å¸¸ç”¨çš„æ–¹æ³•ã€‚</li><li>æ–¹æ³•2: æˆ‘ä»¬è¯´äº‹æƒ…çš„æ—¶å€™ï¼Œåº”è¯¥åƒç”µå½±é•œå¤´ä¸€æ ·ï¼Œå…ˆç”±è¿œæ‹‰è¿‘ï¼Œå†ç”±è¿‘æ‹‰è¿œã€‚ä»å®è§‚èƒŒæ™¯ï¼Œåˆ°æ€ä¹ˆåšçš„ï¼Œåˆ°ç»“æœå’Œæ€è€ƒã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ–‡é€šè¿‡å¯¹éƒ¨åˆ†é‡ç‚¹å†…å®¹ç½—åˆ—çš„æ–¹å¼å¯¹æ­¤ä¸¤æœ¬ä¹¦çš„è¯»ä¹¦ç¬”è®°è¿›è¡Œè®°å½•ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Šä»£ç æ•´æ´ä¹‹é“-ç¨‹åºå‘˜çš„èŒä¸šç´ å…»ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;è½¯ä»¶å¼€å‘åŸåˆ™&quot;&gt;&lt;a href=&quot;#è½¯ä»¶å¼€å‘åŸåˆ™&quot; class=&quot;headerli</summary>
      
    
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://z4ynadmin.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šé‡æ„ã€‹-è¯»ä¹¦ç¬”è®°</title>
    <link href="https://z4ynadmin.github.io/2022/01/02/%E9%87%8D%E6%9E%84-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>https://z4ynadmin.github.io/2022/01/02/%E9%87%8D%E6%9E%84-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</id>
    <published>2022-01-02T06:11:39.000Z</published>
    <updated>2022-11-04T07:11:09.560Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼€å§‹é‡æ„"><a href="#å¼€å§‹é‡æ„" class="headerlink" title="å¼€å§‹é‡æ„"></a>å¼€å§‹é‡æ„</h2><p>å¦‚æœä½ è¦ç»™ç¨‹åºæ·»åŠ ä¸€ä¸ªç‰¹æ€§ï¼Œä½†å‘ç°ä»£ç å› ç¼ºä¹è‰¯å¥½çš„ç»“æ„è€Œä¸æ˜“äºè¿›è¡Œæ›´æ”¹ï¼Œé‚£å°±å…ˆé‡æ„é‚£ä¸ªç¨‹åºï¼Œä½¿å…¶æ¯”è¾ƒå®¹æ˜“æ·»åŠ è¯¥ç‰¹æ€§ï¼Œç„¶åå†æ·»åŠ è¯¥ç‰¹æ€§ã€‚<br>é‡æ„å‰ï¼Œå…ˆæ£€æŸ¥è‡ªå·±æ˜¯å¦æœ‰ä¸€å¥—å¯é çš„æµ‹è¯•é›†ï¼Œè¿™äº›æµ‹è¯•å¿…é¡»æœ‰è‡ªæˆ‘æ£€è§†çš„èƒ½åŠ›ã€‚</p><blockquote><p>äº‹å®ä¸Šå¾ˆå¤šæ—¶å€™ï¼Œæµ‹è¯•é›†éƒ½æ˜¯è¢«æˆ‘ä»¬å¿½ç•¥çš„</p></blockquote><p>è¥åœ°æ³•åˆ™ï¼šä¿è¯ä½ ç¦»å¼€çš„æ—¶å€™ä»£ç åº“ä¸€å®šæ¯”åŸæ¥çš„æ›´åŠ å¥å£®ã€‚</p><p>ä»€ä¹ˆæ˜¯é‡æ„ï¼Ÿæ ¹æ®é‡æ„è¿™æœ¬ä¹¦çš„å®šä¹‰ï¼Œå¦‚æœæœ‰äººè¯´ä»–ä»¬çš„ä»£ç åœ¨é‡æ„è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸¤å¤©çš„æ—¶é—´æ˜¯ä¸å¯ç”¨çš„ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šï¼Œä»–ä»¬åœ¨åšçš„äº‹æƒ…ä¸æ˜¯é‡æ„ã€‚</p><h2 id="ä½•æ—¶é‡æ„"><a href="#ä½•æ—¶é‡æ„" class="headerlink" title="ä½•æ—¶é‡æ„"></a>ä½•æ—¶é‡æ„</h2><p>äº‹ä¸è¿‡ä¸‰æ³•åˆ™ï¼ˆRule of Threeï¼‰ï¼šç¬¬ä¸€æ¬¡åšæŸä»¶äº‹æƒ…çš„æ—¶å€™åªç®¡å»åšï¼Œç¬¬äºŒæ¬¡åšæŸä»¶äº‹æƒ…çš„æ—¶å€™ä¼šäº§ç”Ÿåæ„Ÿï¼Œä½†æ— è®ºå¦‚ä½•è¿˜æ˜¯å¯ä»¥å»åšï¼Œç¬¬ä¸‰æ¬¡å†åšç±»ä¼¼çš„äº‹æƒ…ï¼Œä½ å°±åº”è¯¥é‡æ„ã€‚</p><blockquote><p>åœ¨ã€Šä»£ç ç²¾è¿›ä¹‹è·¯ã€‹è¿™æœ¬ä¹¦ä¸­ï¼Œä¹Ÿæåˆ°äº†è¿™ä¸ªåŸåˆ™ã€‚</p></blockquote><p>å¦å¤–çš„ä¸€ä¸ªæ—¶æœºæ˜¯ï¼Œæ¯æ¬¡è¦ä¿®æ”¹æ—¶ï¼Œé¦–å…ˆä»¤ä¿®æ”¹å¾ˆå®¹æ˜“ï¼ˆè­¦å‘Šï¼šè¿™ä»¶äº‹æœ‰æ—¶å€™ä¼šå¾ˆéš¾ï¼‰ï¼Œç„¶åå†è¿›è¡Œè¿™æ¬¡çš„ä¿®æ”¹ã€‚</p><blockquote><p>æ¯”å¦‚ï¼Œç¬”è€…æœ€è¿‘åœ¨åšä¸€ä¸ªé•¿é“¾æ¥å®¢æˆ·ç«¯ SDKï¼Œæœ€åˆè¿™ä¸ª SDK åŠŸèƒ½å¾ˆç®€å•ï¼Œæˆ‘ç›´æ¥åŠ åŠŸèƒ½å³å¯ï¼Œåé¢æœ‰ä¸€æ¬¡å½“æˆ‘è¦ä¿®æ”¹çš„æ—¶å€™ï¼Œæˆ‘å‘ç°è¿™ä¸ª SDK çš„ä¿®æ”¹å·²ç»å˜å¾—å¼‚å¸¸å¤æ‚äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘çŸ¥é“æˆ‘åº”è¯¥é‡æ„äº†ã€‚</p></blockquote><h2 id="é‡æ„æ³•åˆ™"><a href="#é‡æ„æ³•åˆ™" class="headerlink" title="é‡æ„æ³•åˆ™"></a>é‡æ„æ³•åˆ™</h2><p>è¿™é‡Œå¯¹ä¸€äº›æˆ‘ä»¬å®é™…åœºæ™¯ä¸­é‡åˆ°ï¼Œä½†æ˜¯é€šå¸¸ä¼šè¢«æˆ‘ä»¬å¿½è§†çš„ä¸€äº›æ³•åˆ™è¿›è¡Œåˆ—ä¸¾ã€‚</p><h3 id="éœ°å¼¹å¼ä¿®æ”¹"><a href="#éœ°å¼¹å¼ä¿®æ”¹" class="headerlink" title="éœ°å¼¹å¼ä¿®æ”¹"></a>éœ°å¼¹å¼ä¿®æ”¹</h3><p>å¦‚æœæˆ‘ä»¬ä»£ç ä¸­çš„æ¨¡å—ç‰¹åˆ«å¤šï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡é‡åˆ°ä¸€ä¸ªå˜åŒ–éƒ½éœ€è¦åœ¨ä¸åŒçš„å°æ¨¡å—ä¸­åšè®¸å¤šå°ä¿®æ”¹ï¼Œæˆ‘ä»¬æ‰€é¢ä¸´çš„åå‘³é“å°±æ˜¯éœ°å¼¹å¼ä¿®æ”¹ã€‚<br>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦æ€è€ƒé‡æ„ï¼Œæœ€å¥½æˆ‘ä»¬ä¸åŒçš„æ¨¡å—éƒ½æ˜¯æ­£äº¤çš„ã€‚</p><h3 id="æ…é‡æ³¨é‡Š"><a href="#æ…é‡æ³¨é‡Š" class="headerlink" title="æ…é‡æ³¨é‡Š"></a>æ…é‡æ³¨é‡Š</h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å†™æ³¨é‡Šæ˜¯å› ä¸ºè¿™æ®µå¯¹åº”çš„ä»£ç é€»è¾‘å¾ˆç³Ÿç³•ã€‚<br>å› æ­¤å½“ä½ æ„Ÿè§‰éœ€è¦æ’°å†™æ³¨é‡Šçš„æ—¶å€™ï¼Œè¯·å…ˆå°è¯•é‡æ„ï¼Œè¯•ç€å°†æ‰€æœ‰çš„æ³¨é‡Šå˜æˆå¤šä½™ã€‚</p><h3 id="æç‚¼å˜é‡"><a href="#æç‚¼å˜é‡" class="headerlink" title="æç‚¼å˜é‡"></a>æç‚¼å˜é‡</h3><p>å¯¹äºå¤æ‚è¯­å¥ï¼Œæç‚¼å˜é‡å¯ä»¥å¢åŠ å¯è¯»æ€§ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¼€å§‹é‡æ„&quot;&gt;&lt;a href=&quot;#å¼€å§‹é‡æ„&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹é‡æ„&quot;&gt;&lt;/a&gt;å¼€å§‹é‡æ„&lt;/h2&gt;&lt;p&gt;å¦‚æœä½ è¦ç»™ç¨‹åºæ·»åŠ ä¸€ä¸ªç‰¹æ€§ï¼Œä½†å‘ç°ä»£ç å› ç¼ºä¹è‰¯å¥½çš„ç»“æ„è€Œä¸æ˜“äºè¿›è¡Œæ›´æ”¹ï¼Œé‚£å°±å…ˆé‡æ„é‚£ä¸ªç¨‹åºï¼Œä½¿å…¶æ¯”è¾ƒå®¹æ˜“æ·»åŠ è¯¥ç‰¹æ€§ï¼Œç„¶åå†æ·»</summary>
      
    
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://z4ynadmin.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šæ¶æ„æ•´æ´ä¹‹é“ã€‹-è¯»ä¹¦ç¬”è®°</title>
    <link href="https://z4ynadmin.github.io/2021/12/26/%E6%9E%B6%E6%9E%84%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>https://z4ynadmin.github.io/2021/12/26/%E6%9E%B6%E6%9E%84%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</id>
    <published>2021-12-26T06:38:52.000Z</published>
    <updated>2022-11-04T07:11:09.559Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æœ¬ä¹¦ä¹‹å‰åˆšå·¥ä½œçš„æ—¶å€™ç•¥æœ‰è€³é—»ï¼Œä¸è¿‡å½“æ—¶ç®€å•ç¿»é˜…äº†ä¸‹ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå…±é¸£ï¼Œå¯èƒ½æ˜¯ç¼–ç¨‹ç»éªŒå¤ªå°‘å¯¼è‡´ï¼Œä½†æœ€è¿‘æˆ‘å†é‡è¯»è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œæ„Ÿè§‰ä¹‹å‰è‡ªå·±æˆ–æ‰€åœ¨å›¢é˜Ÿç¡®å®è¸©äº†ä¸å°‘ç±»ä¼¼çš„å‘ï¼Œä¹Ÿæ¸æ¸äº†è§£åˆ°ï¼Œå¾ˆå¤šå¤æ‚çš„é¡¹ç›®å’Œå·¥ç¨‹èƒŒåï¼Œå…¶å®å¾€å¾€æ˜¯ä¸€äº›æœ€æœ´ç´ çš„é“ç†ï¼Œè½¯ä»¶å·¥ç¨‹çš„å‘å±•ä¹Ÿå¹¶æ²¡æœ‰ä¸Šå±‚æ¡†æ¶çš„å‘å±•é‚£ä¹ˆå¿«ã€‚</p><p>ä¹Ÿå› æ­¤ï¼Œæœ¬ç¯‡åšå®¢ä½œä¸ºä¸€ä¸ªè¯»ä¹¦ç¬”è®°æ€§è´¨ï¼Œå¯èƒ½æœ‰äº›åœ°æ–¹ä¹Ÿå¹¶éè¶³å¤Ÿè¿è´¯ã€‚</p><h2 id="å¦‚ä½•çœ‹å¾…è½¯ä»¶æ¶æ„è®¾è®¡"><a href="#å¦‚ä½•çœ‹å¾…è½¯ä»¶æ¶æ„è®¾è®¡" class="headerlink" title="å¦‚ä½•çœ‹å¾…è½¯ä»¶æ¶æ„è®¾è®¡"></a>å¦‚ä½•çœ‹å¾…è½¯ä»¶æ¶æ„è®¾è®¡</h2><p>è½¯ä»¶æ¶æ„è®¾è®¡çš„ç»ˆæç›®æ ‡ï¼šç”¨æœ€å°çš„äººåŠ›æˆæœ¬æ¥æ»¡è¶³æ„å»ºå’Œç»´æŠ¤è¯¥ç³»ç»Ÿçš„éœ€æ±‚ã€‚</p><p>å¾ˆå¤šæ—¶å€™ï¼Œå¯¹äºä¸€ä¸ªç³»ç»Ÿï¼Œä¸€å¼€å§‹æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡æ¥è¿‘ 100%ï¼Œç„¶è€Œä¼´éšäº§å“çš„æ¯æ¬¡å‘å¸ƒï¼Œç”Ÿäº§åŠ›ç›´çº¿ä¸‹é™ã€‚å·¥ç¨‹å¸ˆçš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯æ¶ˆè€—åœ¨å¯¹ç°æœ‰ç³»ç»Ÿçš„ä¿®ä¿®è¡¥è¡¥ä¸Šé¢ï¼Œè€Œä¸æ˜¯çœŸæ­£å®Œæˆå®é™…çš„åŠŸèƒ½ã€‚æ‹†ä¸œå¢™è¡¥è¥¿å¢™ï¼Œå‘¨è€Œå¾€å¤ã€‚å…¬å¸éœ€è¦çš„äººåŠ›æˆæœ¬ä¹Ÿå› æ­¤å˜å¤šäº†ï¼Œä½†æ˜¯æ•ˆç›Šå´æ²¡æœ‰æå‡ã€‚</p><p>åˆçº§å·¥ç¨‹å¸ˆæ€»æ˜¯ä¼šçŠ¯çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæŒç»­ä½ä¼°è‰¯å¥½çš„è®¾è®¡ï¼Œæ•´æ´çš„ä»£ç çš„é‡è¦æ€§ï¼Œå¹¶ä¸”æ™®éé‡‡ç”¨ä¸€ç§è¯æœ¯æ¥æ¬ºéª—è‡ªå·±ï¼šæˆ‘ä»¬å¯ä»¥æœªæ¥åœ¨é‡æ„ä»£ç ï¼Œäº§å“ä¸Šçº¿æœ€é‡è¦ã€‚è€Œå®é™…ä¸Šï¼Œäº§å“ä¸Šçº¿ä¹‹åç–²äºåº”ä»˜æ–°éœ€æ±‚å·²ç»å¾ˆç´¯äº†ï¼Œå°±å¾ˆéš¾æœ‰é‡æ„çš„æ—¶æœºã€‚</p><p>å®é™…ä¸Šï¼Œä¸€èˆ¬è½¯ä»¶å¼€å‘éƒ½ä¼šè¢«è®¾è®¡æˆå¦‚ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼Œè¿™å¯èƒ½å¹¶æ²¡æœ‰é”™ï¼š</p><ol><li>å…ˆè®©ä»£ç å·¥ä½œèµ·æ¥</li><li>è¯•å›¾è®©å®ƒå˜å¥½ï¼šé€šè¿‡ä¼˜åŒ–å’Œé‡æ„ï¼Œè®©äººæ›´å¥½åœ°ç†è§£ä»£ç ï¼Œå¹¶ä¸”é€‚åº”æ–°éœ€æ±‚ã€‚</li><li>è¯•ç€è®©å®ƒè¿è¡Œçš„æ›´å¿«</li></ol><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦ç†è§£æ•´æ´æ¶æ„çš„é‡è¦æ€§ï¼Œé¿å…æˆ‘ä»¬åœ¨ 1 å’Œ 2 å¾ªç¯å¾€å¤ã€‚</p><p>è½¯ä»¶è®¾è®¡çš„ç¬¬ä¸€æ¡åŸåˆ™ï¼šä¸ç®¡æ˜¯ä¸ºäº†å¯æµ‹è¯•æ€§è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆä¸œè¥¿â€”â€”<strong>æ˜¯ä¸å˜çš„ï¼Œå°±ä¸è¦ä¾èµ–äºå¤šå˜çš„ä¸œè¥¿ã€‚</strong></p><h2 id="è½¯ä»¶ç³»ç»Ÿ"><a href="#è½¯ä»¶ç³»ç»Ÿ" class="headerlink" title="è½¯ä»¶ç³»ç»Ÿ"></a>è½¯ä»¶ç³»ç»Ÿ</h2><p>è½¯ä»¶ç³»ç»Ÿçš„ä»·å€¼ç»´åº¦ï¼šè¡Œä¸ºå’Œæ¶æ„ã€‚</p><p><strong>å˜æ›´çš„å®æ–½éš¾åº¦åº”è¯¥å’Œå˜æ›´çš„èŒƒç•´æˆç­‰æ¯”å…³ç³»ï¼Œè€Œä¸å˜æ›´çš„å…·ä½“è¡Œä¸ºæ— å…³</strong>ã€‚</p><blockquote><p>æœ‰çš„æ—¶å€™ï¼Œäº§å“ç»ç†ä¼šè¡¨ç¤ºï¼Œæˆ‘å°±æ”¹ä¸€ä¸ªå°ç‚¹ï¼Œä¸ºä»€ä¹ˆéœ€è¦å‡ å¤©æ—¶é—´ï¼Ÿå¼€å‘äººå‘˜ä¼šæ‰¾ä¸€å¤§å †ç†ç”±ï¼Œé€šå¸¸ä¸ä¼šæåŠæ¶æ„çš„ä¸åˆç†æ€§ã€‚å®é™…ä¸Šè¿™ç§ç°è±¡åœ¨æˆ‘æ¯•ä¸šå…¥èŒçš„ç¬¬ä¸€å®¶å…¬å¸æ—¶æœ‰å‘ç”Ÿã€‚</p></blockquote><h2 id="ç¼–ç¨‹èŒƒå¼"><a href="#ç¼–ç¨‹èŒƒå¼" class="headerlink" title="ç¼–ç¨‹èŒƒå¼"></a>ç¼–ç¨‹èŒƒå¼</h2><p>ç›®å‰ï¼Œæˆ‘ä»¬ä¸»è¦æœ‰ä¸‰ä¸ªç¼–ç¨‹èŒƒå¼ï¼šç»“æ„åŒ–ç¼–ç¨‹ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå‡½æ•°å¼ç¼–ç¨‹ã€‚è¿™äº›ç¼–ç¨‹èŒƒå¼éƒ½æ˜¯åœ¨ 20 ä¸–çºªè¢«æå‡ºæ¥çš„ï¼Œè€Œä¸”åœ¨æœ‰é™çš„æ—¶é—´ä¸­ä¼°è®¡ä¹Ÿä¸ä¼šæ–°å¢ç¼–ç¨‹èŒƒå¼äº†ã€‚</p><ul><li>ç»“æ„åŒ–ç¼–ç¨‹ï¼šif/then/else å’Œ do/while/util</li><li>é¢å‘å¯¹è±¡ç¼–ç¨‹</li><li>å‡½æ•°å¼ç¼–ç¨‹ï¼šå€¼ä¸å¯å˜ï¼Œå¯¹èµ‹å€¼è¿›è¡Œäº†é™åˆ¶å’Œè§„èŒƒ</li></ul><p>ä¸‰ä¸ªç¼–ç¨‹èŒƒå¼ï¼Œåˆ†åˆ«é™åˆ¶äº† goto è¯­å¥ã€å‡½æ•°æŒ‡é’ˆå’Œèµ‹å€¼è¯­å¥çš„ä½¿ç”¨ã€‚</p><h3 id="ç»“æ„åŒ–ç¼–ç¨‹"><a href="#ç»“æ„åŒ–ç¼–ç¨‹" class="headerlink" title="ç»“æ„åŒ–ç¼–ç¨‹"></a>ç»“æ„åŒ–ç¼–ç¨‹</h3><p>ç¨‹åºå‘˜å¯ä»¥ç”¨ä»£ç å°†ä¸€äº›å·²ç»è¯æ˜å¯ç”¨çš„ç»“æ„ä¸²è”èµ·æ¥ï¼Œåªè¦è‡ªè¡Œè¯æ˜è¿™äº›é¢å¤–ä»£ç æ˜¯æ­£ç¡®çš„ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºæ•´ä¸ªç¨‹åºçš„æ­£ç¡®æ€§ã€‚</p><p>goto è¯­å¥ï¼Œè®©æˆ‘ä»¬çš„ç¨‹åºå¾ˆéš¾è¢«åˆ†æˆè¿™ç§å°å—ã€‚</p><p>å…³äºéªŒè¯ï¼šç§‘å­¦ç†è®ºå’Œç§‘å­¦å®šå¾‹çš„ç‰¹ç‚¹ï¼šä»–ä»¬å¯ä»¥è¢«è¯ä¼ªï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•è¢«è¯æ˜ï¼Œå®é™…ä¸Šç°æœ‰çš„ç¼–ç¨‹å¤§éƒ¨åˆ†ä¹Ÿé‡‡ç”¨äº†è¿™ç§ç†å¿µï¼Œæˆ‘ä»¬æ²¡ç”¨ä½¿ç”¨å®Œæ•´çš„å½¢å¼åŒ–è¯æ˜ï¼Œè€Œæ˜¯ä½¿ç”¨æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•æ²¡æœ‰é—®é¢˜åï¼Œå³å‘å¸ƒåˆ°çº¿ä¸Šã€‚</p><h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><ul><li>å°è£…ã€ç»§æ‰¿ã€å¤šæ€éƒ½ä¸æ˜¯é¢å‘å¯¹è±¡åˆ›é€ å‡ºæ¥çš„ï¼Œä½†æ˜¯ç¡®å®ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿äº†ã€‚</li><li>ä¾èµ–åè½¬ä¹Ÿé€šå¸¸æ˜¯é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ã€‚</li><li>ç‹¬ç«‹éƒ¨ç½²ï¼šå½“æŸä¸ªç»„ä»¶çš„æºä»£ç éœ€è¦ä¿®æ”¹ï¼Œä»…ä»…éœ€è¦é‡æ–°éƒ¨ç½²è¯¥ç»„ä»¶å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹å…¶ä»–ç»„ä»¶ã€‚</li></ul><p><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹å°±æ˜¯ä»¥å¤šæ€ä¸ºæ‰‹æ®µæ¥å¯¹æºä»£ç ä¸­çš„ä¾èµ–å…³ç³»è¿›è¡Œæ§åˆ¶çš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›è®©è½¯ä»¶æ¶æ„å¸ˆèƒ½å¤Ÿæ„å»ºå‡ºæŸç§æ’ä»¶ç»“æ„ï¼Œè®©é«˜å±‚ç­–ç•¥æ€§çš„ç»„ä»¶å’Œåº•å±‚å®ç°çš„ç»„ä»¶ç›¸åˆ†ç¦»ï¼Œåº•å±‚ç»„ä»¶å¯ä»¥è¢«ç¼–è¯‘æˆæ’ä»¶ï¼Œå®ç°ç‹¬ç«‹äºé«˜å±‚ç»„ä»¶çš„å¼€å‘å’Œéƒ¨ç½²ã€‚</strong></p><h3 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h3><ul><li>æ‰€æœ‰çš„ç«äº‰é—®é¢˜ã€æ­»é”é—®é¢˜ã€å¹¶å‘æ›´æ–°é—®é¢˜éƒ½æ˜¯ç”±å¯å˜å˜é‡å¯¼è‡´çš„ï¼Œå¦‚æœå˜é‡æ°¸è¿œä¸èƒ½è¢«ç¯¡æ”¹ï¼Œé‚£å°±ä¸å¯èƒ½äº§ç”Ÿç«äº‰æˆ–å¹¶å‘æ›´æ–°çš„é—®é¢˜ã€‚å¦‚æœé”çš„çŠ¶æ€æ˜¯ä¸å¯å˜çš„ï¼Œé‚£å°±æ°¸è¿œä¸ä¼šäº§ç”Ÿæ­»é”é—®é¢˜ã€‚</li><li>ä¸€ä¸ªä¸ªæ¶æ„è®¾è®¡è‰¯å¥½çš„åº”ç”¨ç¨‹åºåº”è¯¥å°†çŠ¶æ€ä¿®æ”¹çš„éƒ¨åˆ†å’Œä¸éœ€è¦ä¿®æ”¹çŠ¶æ€çš„éƒ¨åˆ†éš”ç¦»æ‰¿æ‹…åº¦çš„ç»„ä»¶ï¼Œç„¶åé€šè¿‡åˆé€‚çš„æœºåˆ¶ä¿æŠ¤å¯å˜é‡ã€‚</li><li>è½¯ä»¶æ¶æ„å¸ˆåº”è¯¥ç€åŠ›äºå°†å¤§éƒ¨åˆ†å¤„ç†é€»è¾‘éƒ½å½’äºä¸å¯å˜ç»„ä»¶ä¸­ï¼Œå¯å˜çŠ¶æ€ç»„ä»¶çš„é€»è¾‘è¶Šå°‘è¶Šå¥½ã€‚</li></ul><p>ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹ç†å¿µçš„å¼€å‘æ–¹å¼ï¼š<br>äº‹ä»¶æº¯æºï¼šæˆ‘ä»¬åªå­˜å‚¨äº‹åŠ¡è®°å½•ï¼Œä¸å­˜å‚¨å…·ä½“çŠ¶æ€ï¼Œå½“éœ€è¦è®¡ç®—å…·ä½“çŠ¶æ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦é‡å¤´å¼€å§‹è®¡ç®—æ‰€æœ‰çš„äº‹åŠ¡å³å¯ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹ŸæŠŠ CURD å˜æˆäº† CRã€‚</p><h2 id="SOLID-åŸåˆ™"><a href="#SOLID-åŸåˆ™" class="headerlink" title="SOLID åŸåˆ™"></a>SOLID åŸåˆ™</h2><p>æˆ‘ä»¬ä¸ºè½¯ä»¶æ„å»ºä¸­å±‚ç»“æ„çš„ä¸»è¦ç›®æ ‡ï¼š</p><ol><li>ä½¿è½¯ä»¶å¯å®¹å¿è¢«æ”¹åŠ¨ã€‚</li><li>ä½¿è½¯ä»¶æ›´å®¹æ˜“è¢«ç†è§£ã€‚</li><li>æ„å»ºå¯åœ¨å¤šä¸ªè½¯ä»¶ç³»ç»Ÿä¸­å¤ç”¨çš„ç»„ä»¶ã€‚</li></ol><p>SOLID åŸåˆ™ åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>SRPï¼šå•ä¸€èŒè´£åŸåˆ™ï¼Œä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªè¢«ä¿®æ”¹çš„åŸå› ã€‚é¿å…å¤šäººä¸ºäº†ä¸åŒçš„ç›®çš„ä¿®æ”¹åŒä¸€ä»½åŸä»£ç æ–‡ä»¶ã€‚</li><li>OCPï¼šå¼€æ”¾å°é—­åŸåˆ™ï¼Œé€šè¿‡æ–°å¢ä»£ç æ¥ä¿®æ”¹åŸæœ‰çš„è¡Œä¸ºï¼Œè€Œéåªé ä¿®æ”¹æºä»£ç ã€‚</li><li>LSPï¼šé‡Œæ°æ›¿æ¢åŸåˆ™ï¼Œç»„ä»¶æ–¹ä¾¿è¢«æ›¿æ¢ï¼Œæ¯ä¸€å¤„ä½¿ç”¨çˆ¶ç±»å¯¹è±¡çš„åœ°æ–¹ï¼Œå¯ä»¥ä½¿ç”¨å…¶å­ç±»å¯¹è±¡è¿›è¡Œæ›¿æ¢ï¼Œè€Œä¿æŒå…¶è¡Œä¸ºä¸å˜ã€‚</li><li>ISPï¼šæ¥å£éš”ç¦»åŸåˆ™ï¼Œé¿å…ä¸å¿…è¦çš„ä¾èµ–ã€‚</li><li>DIPï¼šä¾èµ–åè½¬åŸåˆ™ï¼Œé«˜å±‚ä»£ç ä¸åº”è¯¥ä¾èµ–åº•å±‚ç»†èŠ‚ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦è®¾è®¡ä¸€ä¸ªçµæ´»çš„ç³»ç»Ÿï¼Œåœ¨æºä»£ç å±‚æ¬¡çš„ä¾èµ–å…³ç³»ä¸­å°±åº”è¯¥å¤šå¼•ç”¨æŠ½è±¡ç±»å‹ï¼Œè€Œéå…·ä½“å®ç°ã€‚<ul><li>ä¼˜ç§€çš„è½¯ä»¶æ¶æ„å¸ˆä¼šèŠ±è´¹å¾ˆå¤§åŠ›æ°”æ¥è®¾è®¡æ¥å£ï¼Œä»¥å‡å°‘æœªæ¥å¯¹å…¶è¿›è¡Œçš„æ”¹åŠ¨ã€‚æ¯•ç«Ÿåœ¨ä¸ä¿®æ”¹å€Ÿå£çš„æƒ…å†µä¸‹ä¸ºè½¯ä»¶å¢åŠ æ–°çš„åŠŸèƒ½æ˜¯è½¯ä»¶è®¾è®¡çš„åŸºç¡€å¸¸è¯†ã€‚</li></ul></li></ul><blockquote><p>å®é™…ä¸Šæˆ‘ä»¬åœ¨å®ç° TS åº“ä»£ç çš„æ—¶å€™ç»å¸¸ç”¨åˆ° DIPï¼Œæ¯”å¦‚æˆ‘ä»¬åº•å±‚ä»£ç éœ€è¦ç”¨åˆ°ä¸Šå±‚çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬é€šå¸¸å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»æˆ–è€…æŠ½è±¡å‡½æ•°ï¼Œç„¶åç”±ä¸Šå±‚æ¥å®ç°ï¼Œè¿™ç§åœºæ™¯å³æ˜¯ DIPã€‚<br>ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬å†™ä¸€ä¸ªåº“çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡ï¼Œç„¶åç”±å¤–å±‚ä¼ å…¥å®ç°è¿™ä¸ª logï¼Œè€Œä¸æ˜¯åœ¨åº“ä»£ç ä¸­ç›´æ¥ä¾èµ–æŸç§ log å®ç°ï¼ˆå¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤çš„å®ç°ï¼‰ï¼Œè¿™ä¸ªå³æ˜¯ DIP çš„ä¸€ä¸ªè¿ç”¨ã€‚</p></blockquote><h2 id="ç»„ä»¶æ„å»ºåŸåˆ™"><a href="#ç»„ä»¶æ„å»ºåŸåˆ™" class="headerlink" title="ç»„ä»¶æ„å»ºåŸåˆ™"></a>ç»„ä»¶æ„å»ºåŸåˆ™</h2><p>ç»„ä»¶æ˜¯è½¯ä»¶çš„éƒ¨ç½²å•å…ƒã€‚</p><ul><li>REPï¼šå¤ç”¨/å‘å¸ƒåŸåˆ™ï¼šè½¯ä»¶å¤ç”¨çš„æœ€å°ç²’åº¦åº”ç­‰åŒäºå…¶å‘å¸ƒçš„æœ€å°ç²’åº¦ã€‚</li><li>CCPï¼šå…±åŒé—­åŒ…åŸåˆ™ï¼šæˆ‘ä»¬åº”è¯¥å°†é‚£äº›ä¼šåŒæ—¶ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸ºç›¸åŒç›®çš„è€Œä¿®æ”¹çš„ç±»æ”¾åˆ°åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œè€Œå°†ä¸ä¼šåŒæ—¶ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸ä¼šä¸ºäº†ç›¸åŒç›®çš„è€Œä¿®æ”¹çš„é‚£äº›ç±»æ”¾åˆ°ä¸åŒçš„ç»„ä»¶ä¸­ã€‚<ul><li><strong>å¯¹äºå¤§éƒ¨åˆ†é¡¹ç›®æ¥è¯´ï¼Œå¯ç»´æŠ¤æ€§çš„é‡è¦æ€§è¿œè¿œå¤§äºå¤ç”¨æ€§</strong>ï¼ˆç²¾é«“æ‰€åœ¨ï¼Œä»¥å‰ä¸€ç›´è§‰å¾—å¤ç”¨é‡è¦ï¼Œä½†å›å¤´æƒ³æƒ³ï¼Œå¯¹äºä¸€ä¸ªé¡¹ç›®è€Œè¨€ï¼Œç»´æŠ¤æˆæœ¬æ‰æ˜¯æœ€ç›´è§‚çš„æŒ‡æ ‡ï¼Œè¿™é‡Œè®¾è®¡ä¿®æ”¹æ‰€éœ€è¦çš„äººåŠ›æˆæœ¬ï¼Œæœ€ç»ˆè¿˜æ˜¯åˆ©ç›Šå¦‚ä½•æœ€å¤§åŒ–çš„é—®é¢˜ï¼‰</li></ul></li><li>CRPï¼šå…±åŒå¤ç”¨åŸåˆ™ï¼šå®é™…ä¸Šæ˜¯ LSP åŸåˆ™çš„ä¸€ä¸ªæ™®é€‚ç‰ˆï¼ŒLSP åŸåˆ™æ˜¯å»ºè®®æˆ‘ä»¬ä¸è¦ä¾èµ–å¸¦æœ‰ä¸éœ€è¦å‡½æ•°çš„ç±»ï¼ŒCRP åŸåˆ™åˆ™æ˜¯å»ºè®®æˆ‘ä»¬ä¸è¦ä¾èµ–å¸¦æœ‰ä¸éœ€è¦çš„ç±»çš„ç»„ä»¶ã€‚</li></ul><p>REP å’Œ CCP æ˜¯ç²˜åˆæ€§åŸåˆ™ï¼Œä»–ä»¬ä¼šè®©ç»„ä»¶å˜å¾—æ›´å¤§ï¼Œè€Œ CRP æ˜¯æ’é™¤æ€§åŸåˆ™ï¼Œå®ƒä¼šå°½é‡è®©ç»„ä»¶æ›´å°ã€‚</p><p>ç»„ä»¶è€¦åˆåŸåˆ™ï¼š</p><ul><li>æ— ä¾èµ–ç¯åŸåˆ™ï¼šæ•´ä½“ä¾èµ–åº”è¯¥æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚</li><li>ç¨³å®šä¾èµ–åŸåˆ™ï¼š<strong>ä¾èµ–å…³ç³»å¿…é¡»è¦æŒ‡å‘æ›´ç¨³å®šçš„æ–¹å‘ã€‚</strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„ä»¶çš„ä¾èµ–å’Œè¢«ä¾èµ–çš„å…³ç³»è®¡ç®—å®ƒçš„ä½ç½®ç¨³å®šæ€§ã€‚</li><li>ç¨³å®šæŠ½è±¡åŸåˆ™ï¼šä¸€ä¸ªç»„ä»¶çš„æŠ½è±¡åŒ–ç¨‹åº¦åº”è¯¥ä¸å…¶ç¨³å®šæ€§ä¿æŒä¸€è‡´ã€‚ç¨³å®šçš„ç»„ä»¶åº”è¯¥æ˜¯æŠ½è±¡çš„ï¼Œé‚£ä¹ˆå®ƒçš„ç¨³å®šæ€§å°±ä¸ä¼šå½±å“åˆ°æ‰©å±•æ€§ã€‚</li></ul><h2 id="è½¯ä»¶æ¶æ„æµç¨‹"><a href="#è½¯ä»¶æ¶æ„æµç¨‹" class="headerlink" title="è½¯ä»¶æ¶æ„æµç¨‹"></a>è½¯ä»¶æ¶æ„æµç¨‹</h2><p>æ•´ä½“åŒ…æ‹¬ï¼šè¿è¡Œã€ç»´æŠ¤ã€å¼€å‘ã€éƒ¨ç½²</p><p>ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„å¸ˆï¼Ÿè½¯ä»¶æ¶æ„å¸ˆå®é™…ä¸Šåº”è¯¥æ˜¯èƒ½åŠ›æœ€å¼ºçš„ä¸€ç¾¤ç¨‹åºå‘˜ï¼Œä»–ä»¬é€šå¸¸ä¼šåœ¨è‡ªèº«æ‰¿æ¥ç¼–ç¨‹ä»»åŠ¡çš„åŒæ—¶ï¼Œé€æ¸å¼•å¯¼æ•´ä¸ªå›¢é˜Ÿå‘ä¸€ä¸ªèƒ½å¤Ÿæœ€å¤§åŒ–ç”Ÿäº§åŠ›çš„ç³»ç»Ÿè®¾è®¡æ–¹å‘æ¼”è¿›ã€‚æ‰€ä»¥æˆ‘ä»¬æœ‰æ—¶å€™è¯¯ä»¥ä¸ºæ¶æ„å¸ˆå°±ä¸å†™ä»£ç äº†ï¼Œè¿™å½“ç„¶æ˜¯é”™çš„ã€‚</p><p>è½¯ä»¶æ¶æ„è®¾è®¡çš„ä¸‰ä¸ªå·¥ä½œï¼šç»„ä»¶çš„åˆ‡åˆ†ï¼Œç»„ä»¶çš„ç»„åˆï¼Œä»¥åŠç»„ä»¶çš„ç›¸äº’é€šä¿¡ã€‚</p><p>è½¯ä»¶æ¶æ„è®¾è®¡çš„ç»ˆæç›®æ ‡ï¼šæœ€å¤§åŒ–ç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œæœ€å°åŒ–ç³»ç»Ÿçš„æ€»è¿è¥æˆæœ¬ã€‚</p><p>å…³äºéƒ¨ç½²ï¼šä¸€èˆ¬ä¸€ä¸ªç³»ç»Ÿçš„éƒ¨ç½²æˆæœ¬è¶Šé«˜ï¼Œå®ƒçš„å¯ç”¨æ€§å°±è¶Šä½</p><blockquote><p>ä¾‹å¦‚åœ¨ç³»ç»Ÿæ—©æœŸå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†³å®šé‡‡ç”¨æŸç§å¾®æœåŠ¡æ¶æ„ï¼Œä½†å½“æˆ‘ä»¬å®é™…éƒ¨ç½²è¿™ä¸ªç³»ç»Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°å¾®æœåŠ¡çš„æ•°é‡å·²ç»åºå¤§åˆ°ä»¤äººç”Ÿç•ï¼Œè¿™ä¹Ÿå°±æ˜¯ç¬”è€…ä¹‹å‰æ‰€åœ¨å…¬å¸é‡åˆ°çš„é—®é¢˜ï¼šä¸€å¼€å§‹é€šè¿‡ golang å¾®æœåŠ¡å®ç°æ•´ä¸ªç³»ç»Ÿï¼Œåé¢å†³å®šç§æœ‰åŒ–éƒ¨ç½²åï¼Œè¿ç§»æˆæœ¬å·¨å¤§ï¼Œä¸å¾—ä¸è¿›è¡Œäº†å¾®æœåŠ¡çš„åˆå¹¶ã€‚</p></blockquote><p>è¿è¡Œï¼š<strong>å¯¹äºä¸€ä¸ªå› æ¶æ„è®¾è®¡ç³Ÿç³•è€Œæ•ˆç‡ä½ä¸‹çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬é€šå¸¸åªéœ€è¦å¢åŠ æ›´å¤šçš„å­˜å‚¨å™¨ä¸æœåŠ¡å™¨ï¼Œå°±èƒ½å¤Ÿè®©å®ƒåœ†æ»¡çš„å®Œæˆä»»åŠ¡ã€‚å¦å¤–ï¼Œç¡¬ä»¶ä¹Ÿè¿œè¿œæ¯”äººåŠ›ä¾¿å®œï¼Œè¿™ä¹Ÿæ˜¯è½¯ä»¶æ¶æ„å¯¹ç³»ç»Ÿè¿è¡Œçš„å½±å“è¿œè¿œæ²¡æœ‰å®ƒå¯¹å¼€å‘ã€éƒ¨ç½²ã€ç»´æŠ¤çš„å½±å“é‚£ä¹ˆæ·±åˆ»çš„åŸå› </strong><br>ç¬”è€…ç°åœ¨ç¡®å®åº”è¯¥æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ã€‚</p><p>åŸºäºä»¥ä¸Šè®¾è®¡çš„æ¶æ„ï¼šUI ç•Œé¢ - ç³»ç»Ÿç‹¬æœ‰çš„ä¸šåŠ¡èƒ½åŠ› - é¢†åŸŸæ™®é€‚çš„ä¸šåŠ¡èƒ½åŠ› - æ•°æ®åº“</p><p>é‡å¤ï¼š<em>æ¶æ„å¸ˆç»å¸¸ä¼šé’»è¿›ä¸€ä¸ªç‰›è§’å°–ï¼šå®³æ€•é‡å¤</em>ã€‚è™½ç„¶è½¯ä»¶ä»£ç ç¼–å†™çš„åŸåˆ™æ˜¯ <code>don&#39;t repeat yourself</code>ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™ï¼Œå¯¹äºä¸¤ä¸ªåæœŸå‘å±•åå·®å¾ˆå¤§çš„ç»„ä»¶ï¼Œå¦‚æœåªæ˜¯å­˜åœ¨ä¸€äº›æš‚æ—¶çš„é‡å¤ï¼Œæ˜¯æˆ‘ä»¬å®Œå…¨å¯ä»¥å®¹å¿çš„ã€‚æˆ‘ä»¬åº”è¯¥æ ¹æ®å®é™…æƒ…å†µæ¥å†³å®šæ˜¯å¦è¦é‡å¤ã€‚</p><h2 id="åˆ’åˆ†è¾¹ç•Œ"><a href="#åˆ’åˆ†è¾¹ç•Œ" class="headerlink" title="åˆ’åˆ†è¾¹ç•Œ"></a>åˆ’åˆ†è¾¹ç•Œ</h2><p>è½¯ä»¶å¼€å‘æŠ€æœ¯å‘å±•å²ï¼Œå°±æ˜¯ä¸€ä¸ªå¦‚ä½•æƒ³æ³•è®¾æ³•æ–¹ä¾¿å¢åŠ æ’ä»¶ï¼Œä»è€Œæ„å»ºä¸€ä¸ªå¯æ‰©å±•ï¼Œå¯ç»´æŠ¤çš„ç³»ç»Ÿæ¶æ„çš„æ•…äº‹ï¼Œç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¿…é¡»å’Œå…¶ä»–ç»„ä»¶éš”ç¦»ï¼Œä¿æŒç‹¬ç«‹ï¼Œè€Œè¿™äº›å…¶ä»–ç»„ä»¶è¦ä¹ˆæ˜¯å¯ä»¥å»æ‰çš„ï¼Œè¦ä¹ˆæ˜¯æœ‰å¤šé‡å®ç°çš„ã€‚<br>åŒæ—¶ï¼Œæ’ä»¶éƒ¨åˆ†çš„å˜æ›´å®é™…ä¸Šä¸åº”è¯¥å½±å“ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘çš„å˜æ›´ã€‚</p><blockquote><p>è¿™é‡Œä¸¾ä¾‹ï¼šæ¯”å¦‚è¯´å½“æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå¤šèŠ‚ç‚¹ serverï¼Œå®ƒä¾èµ–ä¸€ä¸ªåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨ server ä¸­æŠŠè¿™ä¸ªåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿé»˜è®¤ä¸º redis, è€Œåº”è¯¥å®šä¹‰æ¥å£èƒ½åŠ›å³å¯ã€‚</p></blockquote><p>å¦‚ä½•åˆ†å±‚ï¼šæœ¬è´¨ä¸Šï¼Œæ‰€æœ‰çš„è½¯ä»¶ç³»ç»Ÿéƒ½æ˜¯ä¸€ç»„ç­–ç•¥è¯­å¥çš„é›†åˆã€‚æˆ‘ä»¬éœ€è¦å°†è¿™äº›ç­–ç•¥å½¼æ­¤åˆ†ç¦»ï¼Œå¹¶ä¸”å°†å®ƒä»¬æŒ‰ç…§å˜æ›´çš„æ–¹å¼è¿›è¡Œé‡æ–°åˆ†ç»„ã€‚å…¶ä¸­å˜æ›´çš„åŸå› ï¼Œæ—¶é—´å’Œå±‚æ¬¡ç›¸åŒçš„ç­–ç•¥åº”è¯¥åˆ†åˆ°ä¸€ä¸ªç»„ä»¶ä¸­ã€‚åä¹‹ï¼Œå˜æ›´åŸå› ã€æ—¶é—´å’Œå±‚æ¬¡ä¸åŒçš„ç­–ç•¥åº”è¯¥åˆ†å±ä¸åŒçš„ç»„ä»¶ã€‚æœ€ç»ˆå®ƒä»¬æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚</p><h2 id="æ•´æ´æ¶æ„"><a href="#æ•´æ´æ¶æ„" class="headerlink" title="æ•´æ´æ¶æ„"></a>æ•´æ´æ¶æ„</h2><ul><li>å…­è¾¹å½¢æ¶æ„</li><li>DCI æ¶æ„</li><li>BCE æ¶æ„</li></ul><p>è¿™äº›æ¶æ„é€šå¸¸æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li>ç‹¬ç«‹äºæ¡†æ¶</li><li>å¯è¢«æµ‹è¯•ï¼šè¿™äº›ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘å¯ä»¥è„±ç¦» UIã€æ•°æ®åº“ã€WebæœåŠ¡ä»¥åŠå…¶ä»–å¤–éƒ¨å…ƒç´ æ¥è¿›è¡Œæµ‹è¯•ã€‚</li><li>ç‹¬ç«‹äº UIï¼Œå¹¶ä¸”æ¯”è¾ƒæ–¹ä¾¿åœ°åœ¨ä¸æ”¹åŠ¨ä¸šåŠ¡é€»è¾‘çš„æƒ…å†µä¸‹æ”¹åŠ¨ UI</li><li>ç‹¬ç«‹äºæ•°æ®åº“ï¼Œä»¥åŠç‹¬ç«‹äºå…¶ä»–å¤–éƒ¨æœºæ„</li></ol><p>è°¦å‘å¯¹è±¡æ¨¡å¼ï¼š</p><p>è°¦å‘å¯¹è±¡çš„è§£è¯»ï¼šæˆ‘ä»¬å¯ä»¥å°†è½¯ä»¶æ¨¡å—åˆ†ä¸ºä¸¤ç»„ï¼Œä¸€ç»„æ˜¯è°¦å‘ç»„ï¼Œå¦å¤–ä¸€ç»„ä¸æ˜¯ã€‚è°¦å‘ç»„çš„æ¨¡å—é€šå¸¸æ¯”è¾ƒéš¾å†™ä»£ç è¿›è¡Œæµ‹è¯•ï¼Œæ¯”å¦‚ GUIï¼Œè¿™éƒ¨åˆ†ä»£ç åº”è¯¥è¶Šç®€å•è¶Šå¥½ã€‚</p><p>é—¨æˆ·æ¨¡å¼ï¼šFacade Pattern<br>å¤–éƒ¨åªèƒ½çœ‹åˆ° Facadeï¼Œç„¶å Facade å†…éƒ¨çš„ implement å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªã€‚</p><blockquote><p>è¿™ç§æ¨¡å¼åœ¨æˆ‘ä»¬é‡æ„é¡¹ç›®çš„æ—¶å€™æŒºæœ‰ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª Facade ç±»ï¼Œç„¶åé»˜é»˜æŠŠé‡Œé¢çš„å®ç°ç°åº¦æˆ–è€…ç›´æ¥æ¢æ‰ã€‚</p></blockquote><h2 id="æœåŠ¡å’Œæ¶æ„"><a href="#æœåŠ¡å’Œæ¶æ„" class="headerlink" title="æœåŠ¡å’Œæ¶æ„"></a>æœåŠ¡å’Œæ¶æ„</h2><p>å®é™…ä¸Šï¼ŒæœåŠ¡æœ¬èº«åªæ˜¯ä¸€ç§æ¯”å‡½æ•°è°ƒç”¨æˆæœ¬ç¨å¾®é«˜çš„ï¼Œåˆ†å‰²åº”ç”¨ç¨‹åºçš„ä¸€ç§å½¢å¼ï¼Œä¸æ•°æ®åº“æ— å…³ã€‚</p><p><strong>æœåŠ¡çœŸçš„è§£è€¦äº†ä¹ˆï¼Ÿå› ä¸ºé€šå¸¸æœåŠ¡ä¸èƒ½å½¼æ­¤è®¿é—®å˜é‡ï¼Œæˆ‘ä»¬ä¼šè®¤ä¸ºè¿™ç§è®¾è®¡è‡ªç„¶å°±è§£è€¦äº†ã€‚ä½†å®é™…ä¸Šï¼Œä»»ä½•å½¢å¼çš„å…±äº«æ•°æ®éƒ½ä¼šå¯¼è‡´å¼ºè€¦åˆï¼Œæ¯”å¦‚å®ƒä»¬ä¾èµ–åŒä¸€ç§æ•°æ®ç»“æ„ã€åŒä¸€ä¸ª schemaã€‚è€Œä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬çš„ dev ops ä¹Ÿå¹¶ä¸æ˜¯ç‹¬ç«‹çš„ã€‚</strong></p><hr><p>&lt;å®Œ&gt;</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™æœ¬ä¹¦ä¹‹å‰åˆšå·¥ä½œçš„æ—¶å€™ç•¥æœ‰è€³é—»ï¼Œä¸è¿‡å½“æ—¶ç®€å•ç¿»é˜…äº†ä¸‹ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå…±é¸£ï¼Œå¯èƒ½æ˜¯ç¼–ç¨‹ç»éªŒå¤ªå°‘å¯¼è‡´ï¼Œä½†æœ€è¿‘æˆ‘å†é‡è¯»è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œæ„Ÿè§‰ä¹‹å‰è‡ªå·±æˆ–æ‰€åœ¨å›¢é˜Ÿç¡®å®è¸©äº†ä¸å°‘ç±»ä¼¼çš„å‘ï¼Œä¹Ÿæ¸æ¸äº†è§£åˆ°ï¼Œå¾ˆå¤šå¤æ‚çš„é¡¹ç›®å’Œå·¥ç¨‹èƒŒåï¼Œå…¶å®å¾€å¾€æ˜¯ä¸€äº›æœ€æœ´ç´ çš„é“ç†ï¼Œè½¯ä»¶å·¥ç¨‹çš„å‘å±•ä¹Ÿå¹¶æ²¡æœ‰ä¸Šå±‚æ¡†æ¶çš„å‘å±•é‚£ä¹ˆ</summary>
      
    
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://z4ynadmin.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    <category term="æ¶æ„" scheme="https://z4ynadmin.github.io/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>React Conf 2021 å†…å®¹æ¦‚è¦</title>
    <link href="https://z4ynadmin.github.io/2021/12/08/ReactConf2021/"/>
    <id>https://z4ynadmin.github.io/2021/12/08/ReactConf2021/</id>
    <published>2021-12-08T14:59:00.000Z</published>
    <updated>2022-11-04T07:11:09.552Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ–‡ï¼š<a href="https://zhuanlan.zhihu.com/p/447103166">https://zhuanlan.zhihu.com/p/447103166</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href=&quot;https://zhuanlan.zhihu.com/p/447103166&quot;&gt;https://zhuanlan.zhihu.com/p/447103166&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="React" scheme="https://z4ynadmin.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>PC å¼€å‘æŠ€æœ¯é€‰å‹ï¼šElectron ä¸æ˜¯é“¶å¼¹</title>
    <link href="https://z4ynadmin.github.io/2021/09/16/electron%E5%8F%AF%E8%83%BD%E4%B8%8D%E6%98%AF%E4%BD%A0%E7%9A%84%E8%A7%A3%E8%8D%AF/"/>
    <id>https://z4ynadmin.github.io/2021/09/16/electron%E5%8F%AF%E8%83%BD%E4%B8%8D%E6%98%AF%E4%BD%A0%E7%9A%84%E8%A7%A3%E8%8D%AF/</id>
    <published>2021-09-16T07:01:35.000Z</published>
    <updated>2022-11-04T07:11:09.553Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.electronjs.org/docs">Electron</a> (ç±»ä¼¼çš„è¿˜æœ‰ nw.jsï¼‰æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScriptã€HTML å’Œ CSS æ„å»ºæ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚ åµŒå…¥äº† Chromium å’Œ Node.jsã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥ä½¿ç”¨çº¯ web æŠ€æœ¯ï¼Œæ¥åˆ›å»ºè·¨å¹³å°çš„ windows å’Œ macOS çš„åŸç”Ÿåº”ç”¨ï¼Œå¹¶é€šè¿‡ Node.js addon èƒ½åŠ›æ¥å…¥ native æ¨¡å—ã€‚ç›®å‰å¸‚é¢ä¸Šï¼Œä¹Ÿæœ‰ä¸€å¤§æ‰¹çŸ¥åçš„åº”ç”¨æ˜¯ä½¿ç”¨ Electron å¼€å‘çš„ï¼Œæ¯”å¦‚ï¼šVS Codeã€Atomã€Microsoft Teams ç­‰ï¼ˆ<em>åœ¨ macOS ä¸Šé¢ä¸€ä¸ªç®€å•çš„åˆ¤æ–­åº”ç”¨æ˜¯å¦ä½¿ç”¨äº† Electron çš„åŠæ³•ï¼šåœ¨åº”ç”¨çš„ Contents/Frameworks é‡Œé¢æœç´¢æ˜¯å¦æœ‰ Electron Framework.framework</em>ï¼‰ã€‚</p><p>ä½†å®é™…ä¸Šï¼Œè¿™ç¯‡æ–‡ç« æ˜¯å¸Œæœ›ä½ åœ¨é€‰ç”¨ Electron æ¡†æ¶å‰ï¼Œéœ€è¦è¿›è¡Œæ…é‡çš„è€ƒè™‘å’Œè¯„ä¼°ã€‚å›½å†…æœ‰å¾ˆå¤šå…¬å¸ï¼ŒåŒ…æ‹¬ä¸€äº›ä¸€çº¿äº’è”ç½‘å…¬å¸çš„é¡¹ç›®æ˜¯ä¸€å¼€å§‹ä¸ºäº†å¿«é€Ÿè¿­ä»£é€‰æ‹©äº† Electronï¼Œåç»­å®åœ¨æ— æ³•è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå…¨éƒ¨æ¨åˆ°é‡æ¥ï¼Œè¿™å®é™…ä¸Šåè€Œä¸åˆ©äºæ•´ä½“çš„é¡¹ç›®è¿­ä»£ã€‚</p><h1 id="æ¶æ„é€‰å‹"><a href="#æ¶æ„é€‰å‹" class="headerlink" title="æ¶æ„é€‰å‹"></a>æ¶æ„é€‰å‹</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œç¬”è€…è®¤ä¸ºæœ‰ä»¥ä¸‹å‡ ä¸ªåœºæ™¯ï¼Œä¸é€‚åˆä½¿ç”¨ Electron è¿›è¡Œå¼€å‘ï¼š</p><h2 id="1-æ— é¡µé¢æˆ–è€…å°‘é‡é¡µé¢çš„åº”ç”¨"><a href="#1-æ— é¡µé¢æˆ–è€…å°‘é‡é¡µé¢çš„åº”ç”¨" class="headerlink" title="1. æ— é¡µé¢æˆ–è€…å°‘é‡é¡µé¢çš„åº”ç”¨"></a>1. æ— é¡µé¢æˆ–è€…å°‘é‡é¡µé¢çš„åº”ç”¨</h2><p>è¿™ä¸€ç‚¹å¾ˆå¥½ç†è§£ï¼ŒElectron çš„ä¾¿åˆ©æ€§ä¸»è¦ä½“ç°åœ¨é¡µé¢ç›¸å…³çš„å¼€å‘ï¼Œå¦‚æœä½ çš„åº”ç”¨å‡ ä¹æ²¡æœ‰é¡µé¢ï¼Œæ¯”å¦‚åªåœ¨é¡¶éƒ¨çŠ¶æ€æ åŒºåŸŸæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œæ˜¾ç„¶å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨ Electronï¼Œç›´æ¥ä½¿ç”¨åŸç”Ÿçš„æŠ€æœ¯æ ˆå³å¯ã€‚</p><h2 id="2-å¯¹å®‰è£…åŒ…ä½“ç§¯é™åˆ¶è¾ƒä¸ºä¸¥æ ¼çš„åº”ç”¨"><a href="#2-å¯¹å®‰è£…åŒ…ä½“ç§¯é™åˆ¶è¾ƒä¸ºä¸¥æ ¼çš„åº”ç”¨" class="headerlink" title="2. å¯¹å®‰è£…åŒ…ä½“ç§¯é™åˆ¶è¾ƒä¸ºä¸¥æ ¼çš„åº”ç”¨"></a>2. å¯¹å®‰è£…åŒ…ä½“ç§¯é™åˆ¶è¾ƒä¸ºä¸¥æ ¼çš„åº”ç”¨</h2><p>Electron ç”±äºè‡ªèº«æºå¸¦çš„åŸºç¡€è®¾æ–½ï¼Œå¯¼è‡´å³ä½¿ä½ çš„ä¸šåŠ¡ä»£ç ä¸å¤šï¼Œåˆå§‹å®‰è£…åŒ…ä¹Ÿä¼šæ¯”è¾ƒå¤§ï¼ˆæ¯•ç«Ÿæ¥è¿‘ä¸€ä¸ªæµè§ˆå™¨çš„å¤§å°ï¼‰ï¼Œåœ¨æ²¡æœ‰ä½ çš„ä¸šåŠ¡ä»£ç çš„æƒ…å†µä¸‹ï¼Œæœªç»ä¼˜åŒ–çš„å®‰è£…åŒ…è¾¾åˆ°äº† 60MB å·¦å³ï¼Œè€Œä¸”é€šå¸¸ä½ éœ€è¦æŠŠ node_modules ä¸€èµ·æ‰“è¿›å»ï¼Œæ‰€ä»¥å³ä½¿ä½ çš„ä¸šåŠ¡å¹¶ä¸å¤æ‚ï¼Œä¹Ÿå¾ˆå®¹æ˜“äº§ç”Ÿä¸€ä¸ªæ¥è¿‘ 100MB çš„å®‰è£…åŒ…ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœä½ çš„ä¸šåŠ¡éœ€è¦æ¯”è¾ƒæè‡´çš„åŒ…ä½“ç§¯ä¼˜åŒ–ï¼Œé‚£ä¹ˆ Electron å¯èƒ½å¹¶ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„é€‰æ‹©ã€‚</p><h2 id="3-å¤šçª—å£åº”ç”¨"><a href="#3-å¤šçª—å£åº”ç”¨" class="headerlink" title="3. å¤šçª—å£åº”ç”¨"></a>3. å¤šçª—å£åº”ç”¨</h2><p>Electron çš„è¿›ç¨‹æ¨¡å‹ä¸ºä¸€ä¸ªä¸»è¿›ç¨‹ + è‹¥å¹²æ¸²æŸ“è¿›ç¨‹ï¼Œæ¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ç”¨äºå±•ç¤ºä¸€ä¸ªé¡µé¢ï¼Œ<strong>å³ä½¿ä½ çš„é¡µé¢æ˜¯ Hello Worldï¼Œå†…å­˜å ç”¨ä¹Ÿè¾¾åˆ° 50 MB å·¦å³</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„åº”ç”¨éœ€è¦åŒæ—¶å±•ç¤ºå¤šä¸ªçª—å£ï¼Œé‚£ä¹ˆå°±éœ€è¦å¤šä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œè¿™æ ·æ•´ä½“çš„å†…å­˜å ç”¨å°±ä¼šä¸Šæ¶¨å¾ˆå¤šï¼Œè€Œå®é™…ä¸Šæˆ‘ä»¬ä½¿ç”¨åŸç”Ÿæˆ–è€…å…¶ä»–çš„ç±» cef çš„æ–¹æ¡ˆï¼Œæ˜¯å¯ä»¥åšåˆ°ä¸€ä¸ªè¿›ç¨‹å¯¹åº”å¤šä¸ªçª—å£çš„ã€‚</p><h2 id="4-æ€§èƒ½æ¶ˆè€—è¾ƒé«˜å¹¶ä¸”éœ€è¦é«˜åº¦å®šåˆ¶ä¼˜åŒ–çš„åº”ç”¨ï¼šæ¯”å¦‚è§†é¢‘ç±»åº”ç”¨"><a href="#4-æ€§èƒ½æ¶ˆè€—è¾ƒé«˜å¹¶ä¸”éœ€è¦é«˜åº¦å®šåˆ¶ä¼˜åŒ–çš„åº”ç”¨ï¼šæ¯”å¦‚è§†é¢‘ç±»åº”ç”¨" class="headerlink" title="4. æ€§èƒ½æ¶ˆè€—è¾ƒé«˜å¹¶ä¸”éœ€è¦é«˜åº¦å®šåˆ¶ä¼˜åŒ–çš„åº”ç”¨ï¼šæ¯”å¦‚è§†é¢‘ç±»åº”ç”¨"></a>4. æ€§èƒ½æ¶ˆè€—è¾ƒé«˜å¹¶ä¸”éœ€è¦é«˜åº¦å®šåˆ¶ä¼˜åŒ–çš„åº”ç”¨ï¼šæ¯”å¦‚è§†é¢‘ç±»åº”ç”¨</h2><p>Electron åŸºäº web æ¶æ„ï¼Œæ‰€ä»¥ä½¿ç”¨ Electron å¼€å‘çš„åº”ç”¨æ€§èƒ½ä¸€èˆ¬æ¥è¯´å’Œ web æ¯”è¾ƒæ¥è¿‘ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Node.js addon åŠ æŒçš„æ–¹å¼è®©éƒ¨åˆ†åœºæ™¯ä¸‹æ€§èƒ½æ›´é«˜ï¼ˆæ¯”å¦‚ç›´æ¥ä½¿ç”¨ c++ å®ç°ä¸€äº›è®¡ç®—å¯†é›†å‹çš„æ¨¡å—ï¼Œæˆ–è€…ç‹¬ç«‹å‡ºä¸€ä¸ªé UI è¿›ç¨‹ï¼Œæ¥å¤„ç†é UI é€»è¾‘ï¼‰ï¼Œä¸è¿‡é¡µé¢ UI ç›¸å…³çš„è¿˜æ˜¯ä¼šå—é™åˆ¶äº web çš„å¤©èŠ±æ¿ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä»¥ä¸‹ä¸¤ç§æƒ…å†µå¯èƒ½ä¸é€‚ç”¨äº Electronï¼š</p><ol><li><p>åœ¨ web åœºæ™¯ä¸‹ï¼ŒUI å…ƒç´ æ“ä½œæ¯”è¾ƒå¡é¡¿ï¼Œè¾¾åˆ°ç“¶é¢ˆï¼Œå¿…é¡»é‡‡ç”¨æ€§èƒ½æ›´é«˜çš„åŸç”Ÿ UIã€‚ä¸è¿‡æˆ‘å»ºè®®<strong>ä¸è¦è½»æ˜“ä¸‹è¿™ä¸ªç»“è®º</strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ç§æ€§èƒ½é—®é¢˜éƒ½æ˜¯å†™çš„ä»£ç ä¸å¤Ÿæè‡´ï¼Œå»ºè®®å…ˆä» web çš„è§’åº¦è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼ˆæ¯”å¦‚ï¼Œé•¿åˆ—è¡¨åœºæ™¯æˆ‘ä»¬å¯ä»¥<a href="http://niexiaotao.cn/2021/09/04/%E9%80%9A%E8%BF%87%E5%8E%8B%E7%BC%A9%E5%90%88%E6%88%90%E5%B1%82%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD/">é€šè¿‡å‹ç¼©åˆæˆå±‚ä¼˜åŒ–æ€§èƒ½</a>æ¥æ•°åå€åœ°æé«˜æ€§èƒ½ï¼‰ã€‚</p></li><li><p>å¯¹æŸä¸€é¡¹æŠ€æœ¯æœ‰æ·±åº¦ä¾èµ–ï¼Œè€Œè¿™é¡¹æŠ€æœ¯åœ¨ web æ–¹é¢å­˜åœ¨æ€§èƒ½ä¸Šçš„å¤©èŠ±æ¿ã€‚äº‹å®ä¸Šè¿™ç§æƒ…å†µä¹Ÿå¹¶ä¸å¤šè§ï¼Œå…¶ä¸­ä¸€ä¸ªåˆç†çš„åœºæ™¯æ˜¯è§†é¢‘ç›¸å…³çš„åº”ç”¨ï¼Œæ¯”å¦‚è§†é¢‘ä¼šè®®ï¼Œæˆ–è€…è§†é¢‘æ’­æ”¾å™¨ï¼Œè¿™ç±»ç”±äº Chrome æœ¬èº«çš„æ¸²æŸ“æµæ°´çº¿çš„é™åˆ¶ï¼Œä½¿ç”¨ video æ ‡ç­¾æˆ–è€…ä½¿ç”¨ WebGL éƒ½ä¼šå­˜åœ¨ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦æ›´æ·±å…¥çš„å»è¿›è¡Œç›¸å…³èƒ½åŠ›çš„å®šåˆ¶ï¼Œå°±éœ€è¦ä» Electron çš„æ¡†æ¶ä¸­è·³è„±å‡ºæ¥ï¼Œæˆ–è€…é’ˆå¯¹ Electron è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚</p></li></ol><blockquote><p>å…³äº WebGL: å®é™…ä¸Šå¾ˆå¤š web å¼€å‘è€…ä¼šæŠŠ WebGL å½“ä½œéƒ¨åˆ†åœºæ™¯ä¸‹æ€§èƒ½ä¼˜åŒ–çš„é“¶å¼¹ï¼Œä½†å®é™…ä¸Š WebGL ç›®å‰å­˜åœ¨è¯¸å¤šå›°å¢ƒï¼šWebGL 1.0 è™½ç„¶å·²ç»æ™®åŠï¼Œä½†æ˜¯å…¶ä½œä¸º OpenGL ES 2.0 çš„å­é›†ï¼Œæ€§èƒ½ä¸Šå·²ç»å¹¶ä¸ç‰¹åˆ«é€‚ç”¨ç°ä»£ç¡¬ä»¶æ¶æ„ï¼›è€Œ WebGL 2.0 ç›®å‰ä»ç„¶åœ¨æ™®åŠä¸­å¹¶ä¸”å„å®¶å‚å•†æ„è§æ— æ³•ä¸€è‡´ï¼›Web GPU å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåº•å±‚ç›´æ¥å¯¹æ¥ D3D12ã€metalã€vulkan ç­‰æ›´åº•å±‚æ›´å…ˆè¿›çš„å›¾å½¢æ¡†æ¶ï¼Œä½†ç›®å‰æˆç†Ÿåº¦ä¸é«˜ã€‚</p></blockquote><p>å¦‚æœä½ çš„åº”ç”¨åœ¨ç»è¿‡ä»¥ä¸Šåˆ†æä¹‹åï¼Œè®¤ä¸ºä»ç„¶å¯ä»¥ä½¿ç”¨ Electron è¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆæ­å–œä½ æ‹¥æœ‰äº†ä¸€ä¸ªå¦‚æ­¤é«˜æ•ˆç‡çš„å¼€å‘æ–¹æ¡ˆï¼ˆå¦‚æœä¸è¡Œï¼Œå»ºè®®ä½ å¯ä»¥é€‰æ‹©å…¶ä»–çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚ <a href="https://www.qt.io/">QT</a>ï¼‰ã€‚</p><p>å½“ç„¶åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦è¿›è¡Œå……è¶³çš„æ€§èƒ½ä¼˜åŒ–å’Œç¨³å¥çš„æ¶æ„è®¾è®¡ï¼Œæ¥è®©æˆ‘ä»¬åº”ç”¨çš„å¯é æ€§å˜å¾—æ›´é«˜ã€‚</p><h1 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h1><p>å’Œ web ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬çš„ native åº”ç”¨éœ€è¦æ›´åŠ å…³æ³¨å¦‚ä¸‹ä¸‰ä¸ªæŒ‡æ ‡ï¼š</p><h2 id="1-cpu"><a href="#1-cpu" class="headerlink" title="1. cpu"></a>1. cpu</h2><p>cpu å ç”¨ç›¸å…³çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ web æŠ€æœ¯æ ˆä¸­ä¸€èˆ¬ä¹Ÿä¼šå…³æ³¨ï¼Œä¸è¿‡æ›´å¤šçš„æ˜¯å…³æ³¨å‡½æ•°çš„è°ƒç”¨è€—æ—¶ï¼Œæ˜¯å¦å­˜åœ¨åŒæ­¥è°ƒç”¨çš„è€—æ—¶è¿‡é•¿å¯¼è‡´å¡é¡¿ç­‰é—®é¢˜ã€‚</p><p>è€Œåœ¨æ¡Œé¢åº”ç”¨ç¨‹åºçš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»æ•´ä¸ªåº”ç”¨çš„ç»´åº¦å…³æ³¨ cpu æ¶ˆè€—ï¼Œå¹¶ä¸”éœ€è¦æ›´åŠ é‡è§†ã€‚</p><p>å¦å¤–ä¸€ä¸ªåŸå› æ˜¯ï¼Œåœ¨ç½‘é¡µåœºæ™¯ä¸­ï¼Œé¡µé¢çš„ cpu å ç”¨é€šå¸¸ä¸ä¼šç‰¹åˆ«ç›´è§‚åœ°è¢«ç”¨æˆ·å‘ç°ï¼ˆå› ä¸ºç³»ç»Ÿå±‚é¢é€šå¸¸åªä¼šä½“ç°åœ¨æµè§ˆå™¨å ç”¨ cpu è¾ƒå¤šï¼‰ï¼Œè€Œåœ¨ç°åœ¨çš„åŸç”Ÿåœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­çœ‹åˆ°æˆ‘ä»¬çš„åº”ç”¨ï¼Œå¦‚æœæˆ‘ä»¬çš„åº”ç”¨æŒç»­æœ‰ä¸€ä¸ªè¾ƒé«˜çš„ cpu å ç”¨ï¼Œå°±ä¼šæ¯”è¾ƒå®¹æ˜“è¢«ç”¨æˆ·å‘ç°ï¼Œç”šè‡³è§¦å‘ç³»ç»Ÿå‘Šè­¦æç¤ºå¼ºæ€åº”ç”¨ï¼Œè¿™å¯¹æˆ‘ä»¬åº”ç”¨çš„å£ç¢‘ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒè´Ÿé¢çš„å½±å“ã€‚</p><h2 id="2-å†…å­˜"><a href="#2-å†…å­˜" class="headerlink" title="2. å†…å­˜"></a>2. å†…å­˜</h2><p>åœ¨æ¡Œé¢åº”ç”¨ç¨‹åºä¸­ï¼Œå†…å­˜çš„ä½¿ç”¨æ–¹å¼æœ‰äº†ä¸€ä¸ªæ˜æ˜¾çš„å˜åŒ–ï¼š</p><p>åŸæœ‰çš„ web é¡µé¢ï¼Œé€šå¸¸æ˜¯ç”¨å®Œå³èµ°ï¼Œè€Œå¯¹äº native åº”ç”¨ç”¨æˆ·ä¸€èˆ¬ä¼šæ‰“å¼€å¾ˆä¹…ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬å¦‚æœä¸€æ—¦äº§ç”Ÿå†…å­˜æ³„æ¼æˆ–è€…å†…å­˜å ç”¨æ¯”è¾ƒé«˜çš„æƒ…å†µï¼Œå¯¹ç”¨æˆ·çš„å½±å“æ˜¯æŒç»­å¹¶ä¸”è¢«ä¸æ–­æ”¾å¤§çš„ã€‚</p><p>å¯¹äº cpu å’Œå†…å­˜çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š</p><ol><li>å¼€å‘é˜¶æ®µé€šè¿‡ visual studio æˆ– instruments æ¥è¯¦ç»†åˆ†ææˆ‘ä»¬å¼€å‘çš„åŠŸèƒ½çš„ cpu å’Œå†…å­˜åˆ†é…æƒ…å†µï¼Œå‘ç°é—®é¢˜ã€‚</li><li>æµ‹è¯•å‘å¸ƒé˜¶æ®µé€šè¿‡ç¬¬ä¸‰æ–¹å†…å­˜åˆ†æå·¥å…·ï¼Œæµç¨‹åŒ–çš„åˆ†æ cpu å’Œå†…å­˜å ç”¨å¹¶äº§å‡ºæŠ¥å‘Šã€‚</li><li>çº¿ä¸Šé˜¶æ®µæŒç»­ç›‘æ§ cpu å’Œå†…å­˜æ¶ˆè€—æƒ…å†µï¼Œå¹¶ä¸”ä¸ŠæŠ¥æ•°æ®è¿›è¡Œç»Ÿè®¡å’Œç›‘æ§å‘Šè­¦ã€‚</li></ol><h2 id="3-crash-ç‡"><a href="#3-crash-ç‡" class="headerlink" title="3. crash ç‡"></a>3. crash ç‡</h2><p>å®é™…ä¸Šåœ¨å‰ç«¯é¢†åŸŸåŸºæœ¬ä¸Šæ²¡æœ‰ â€œcrashâ€ è¿™ä¸ªè¯´æ³•ï¼Œä¸è¿‡å¯¹äº native åº”ç”¨æ¥è¯´ï¼Œå³ä½¿æˆ‘ä»¬çš„åº”ç”¨æ˜¯å®Œå…¨é‡‡ç”¨å‰ç«¯æŠ€æœ¯æ ˆï¼Œä¹Ÿå¯èƒ½å­˜åœ¨ crash (crash åœ¨ Electron çš„ä»£ç ï¼‰ï¼Œä¸€èˆ¬è¿™ä¸ªæ—¶å€™ç”¨æˆ·çš„ä½“éªŒæ˜¯é—ªé€€ï¼Œç›¸å¯¹æ¥è¯´ç®—æ˜¯ä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œå› æ­¤å€¼å¾—æˆ‘ä»¬è¶³å¤Ÿçš„é‡è§†ã€‚</p><p>å¯¹äº crash é—®é¢˜æˆ‘ä»¬åº”è¯¥åšå¥½ä»¥ä¸‹ä¸‰ç‚¹ï¼š</p><ol><li>è¿è¡Œæ—¶ crash ç›‘å¬æœºåˆ¶ï¼Œä¸€èˆ¬æ˜¯ sentry æˆ–è€…ç›´æ¥ä½¿ç”¨å…¶ä¾èµ–çš„ crash_padã€‚</li><li>ç¬¦å·ç®¡ç†æœºåˆ¶ï¼Œç®¡ç†æˆ‘ä»¬åŸç”Ÿæ¨¡å—ï¼Œå’Œæˆ‘ä»¬ç”¨åˆ°çš„ Electron å¯¹åº”ç‰ˆæœ¬çš„ç¬¦å·ã€‚</li><li>è¿è¡Œæ—¶ crash ä¸ŠæŠ¥å‘Šè­¦æœºåˆ¶ã€‚</li></ol><h1 id="æ¶æ„ä¼˜åŒ–"><a href="#æ¶æ„ä¼˜åŒ–" class="headerlink" title="æ¶æ„ä¼˜åŒ–"></a>æ¶æ„ä¼˜åŒ–</h1><p>é™¤äº†ä¸Šè¿°æ€§èƒ½æŒ‡æ ‡å’Œç›‘æ§æ‰‹æ®µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€å®šçš„æ¶æ„ä¼˜åŒ–ï¼Œæ¥å¢å¼ºç³»ç»Ÿçš„å¯é æ€§ã€‚</p><h2 id="é€šè¿‡-Node-js-addon-æˆ–è€…ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼åŸç”Ÿå®ç°é-UI-å†…å®¹"><a href="#é€šè¿‡-Node-js-addon-æˆ–è€…ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼åŸç”Ÿå®ç°é-UI-å†…å®¹" class="headerlink" title="é€šè¿‡ Node.js addon æˆ–è€…ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼åŸç”Ÿå®ç°é UI å†…å®¹"></a>é€šè¿‡ Node.js addon æˆ–è€…ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼åŸç”Ÿå®ç°é UI å†…å®¹</h2><p>è¿™é‡Œçš„ä½œç”¨ä¸»è¦æ˜¯å¸Œæœ›èƒ½å¤Ÿå€ŸåŠ©åŸç”Ÿæ¨¡å—çš„é«˜æ€§èƒ½ä¼˜åŒ– cpu çš„å ç”¨ã€‚</p><p>Electron è®©æˆ‘ä»¬å¼€å‘ ui ç›¸å…³çš„é¡µé¢å˜å¾—éå¸¸é«˜æ•ˆï¼Œä½†æ˜¯ä¸€äº›é€»è¾‘éƒ¨åˆ†ï¼Œæˆ–è€…å’Œæ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦åŸç”Ÿå¼€å‘çš„æ‰‹æ®µï¼Œæ¯•ç«Ÿå³ä½¿ä½¿ç”¨äº† Node.jsï¼Œä¹Ÿæ— æ³•ç›´æ¥è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ Node.js addon çš„æ–¹å¼æˆ–è€…ç‹¬ç«‹è¿›ç¨‹+è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸¤è€…çš„å¥½å¤„åˆ†åˆ«æ˜¯ï¼š</p><p>addonï¼š</p><ol><li>æ–¹ä¾¿è¿›è¡Œå†…å­˜å…±äº«ã€‚</li></ol><p>ç‹¬ç«‹è¿›ç¨‹ï¼š</p><ol><li>é€šå¸¸ä¼šå¢åŠ å¯é æ€§ï¼Œç‹¬ç«‹è¿›ç¨‹æŒ‚æ‰åå¯ä»¥å•ç‹¬é‡å¯ï¼Œä¸å½±å“ç”¨æˆ·ç•Œé¢ã€‚</li><li>éœ€è¦é˜²æ­¢å¤§å—çš„å†…å­˜é‡å¤å ç”¨ï¼Œå¯ä»¥é€šè¿‡å…±äº«å†…å­˜ç­‰æ–¹å¼æ¥è¿›è¡Œä¼˜åŒ–ã€‚</li></ol><h2 id="å‡å°‘æˆ–è€…ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨-remote"><a href="#å‡å°‘æˆ–è€…ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨-remote" class="headerlink" title="å‡å°‘æˆ–è€…ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ remote"></a>å‡å°‘æˆ–è€…ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ remote</h2><p>æœ‰çš„æ—¶å€™ï¼Œå³ä½¿ electron çš„æŠ€æœ¯é€‰å‹é€‚åˆä½ çš„é¡¹ç›®ï¼Œä½†å¦‚æœæ»¥ç”¨ remote ä¹Ÿä¼šé€ æˆæ•´ä¸ªåº”ç”¨çš„å¤§é‡ä¸ç¨³å®šä¸å¡é¡¿ã€‚</p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜…è¯» electron çš„æºä»£ç å‘ç°ï¼Œremote æ¨¡å—åªæ˜¯å¯¹ IPC æ¶ˆæ¯çš„åŒæ­¥å°è£…ï¼Œæ–¹ä¾¿æ¸²æŸ“è¿›ç¨‹è°ƒç”¨ä¸»è¿›ç¨‹çš„å¯¹è±¡å’Œæ–¹æ³•ï¼Œè€Œä¸å¿…æ˜¾å¼å‘é€æ¶ˆæ¯è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ã€‚æ‰€ä»¥ï¼Œç”±äºå…¶å±è”½äº†å†…éƒ¨çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™åŸºæœ¬æ— æ„Ÿä¸»è¿›ç¨‹çš„å­˜åœ¨å’Œ IPC çš„é£é™©ï¼Œä½†äº‹å®ä¸Šè¿™å´æœ‰å¡é¡¿ç”šè‡³å¡æ­»æ¸²æŸ“è¿›ç¨‹çš„é£é™©ã€‚</p><p>å¦å¤–ï¼Œå»æ‰ remote è¿˜æœ‰å¦å¤–ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯æ–¹ä¾¿æˆ‘ä»¬é¡¹ç›®çš„ PC ç‰ˆæœ¬å’Œ web ç‰ˆæœ¬è¿›è¡ŒåŒæ„ï¼Œå…·æœ‰æ›´é«˜çš„å¯ç»´æŠ¤æ€§ã€‚</p><p>æ‰€ä»¥é’ˆå¯¹ä¸€èˆ¬çš„é¡¹ç›®ï¼Œç¬”è€…å»ºè®®èƒ½ç¦ç”¨å°±ç¦ç”¨ remoteï¼Œè§„é¿æ­¤éšæ‚£ã€‚</p><h2 id="å…¶ä»–ä¼˜åŒ–"><a href="#å…¶ä»–ä¼˜åŒ–" class="headerlink" title="å…¶ä»–ä¼˜åŒ–"></a>å…¶ä»–ä¼˜åŒ–</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ç¼–å†™å’Œæ‰“åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œåšä¸€äº›å…¶ä»–çš„ä¼˜åŒ–ï¼Œåœ¨è¿™é‡Œï¼Œå¤§éƒ¨åˆ†å‰ç«¯çš„ä¼˜åŒ–æ¯”å¦‚åŠ¨æ€åŠ è½½ã€ä»£ç åˆ†å‰²ã€å›¾ç‰‡ç¼“å­˜ç­‰å¤§å¤šä¹Ÿéƒ½é€‚ç”¨ electron çš„æƒ…å†µï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¼˜åŒ–åˆ™æ˜¯ï¼š</p><ol><li><p>é¿å…é‡å¤æ‰“åŒ…ï¼š</p><ul><li><strong>é¿å… node_modules å’Œ webpack é‡å¤çš„æ‰“åŒ…å’Œå¼•å…¥</strong>ï¼Œå¯¹äº webpack æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ webpack-bundle-analyzer æ¥åˆ†ææ‰“åŒ…ä½“ç§¯è¿›è¡Œä¼˜åŒ–</li><li>å‡å°‘æ— å…³æ–‡ä»¶çš„æ‰“åŒ…ï¼Œå¯ä»¥é€šè¿‡é…ç½®é’ˆå¯¹ electron-builder çš„ config å»é™¤æ— å…³å†…å®¹æ‰“åŒ…ï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨ <a href="https://github.com/tj/node-prune">node-prune</a> æ¥å»é™¤æ— ç”¨çš„ node_modules å°æ–‡ä»¶ã€‚</li></ul></li><li><p><strong>v8-code-cache</strong>: </p><ul><li>å¯ä»¥ä½¿ç”¨ <a href="https://github.com/zertosh/v8-compile-cache">v8-compile-cache</a> æ¥è¿›è¡Œä¸€å®šçš„ç¼–è¯‘ä¼˜åŒ–</li></ul></li><li><p>æ›´å¤šå¯ä»¥å‚è€ƒ VSCode çš„ç›¸å…³åˆ†äº«ï¼š<a href="https://www.youtube.com/watch?v=r0OeHRUCCb4">https://www.youtube.com/watch?v=r0OeHRUCCb4</a></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.electronjs.org/docs&quot;&gt;Electron&lt;/a&gt; (ç±»ä¼¼çš„è¿˜æœ‰ nw.jsï¼‰æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScriptã€HTML å’Œ CSS æ„å»ºæ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚ åµŒå…¥äº† Chromium å’Œ Node.jsã€‚&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="å‰ç«¯ç»¼åˆ" scheme="https://z4ynadmin.github.io/tags/%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>web é¡µé¢å†…å­˜åˆ†æä¸ç”Ÿäº§ç¯å¢ƒç¦ç”¨ console</title>
    <link href="https://z4ynadmin.github.io/2021/09/04/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%A6%81%E7%94%A8console%E7%9A%84%E6%84%8F%E4%B9%89/"/>
    <id>https://z4ynadmin.github.io/2021/09/04/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%A6%81%E7%94%A8console%E7%9A%84%E6%84%8F%E4%B9%89/</id>
    <published>2021-09-04T11:15:01.000Z</published>
    <updated>2022-11-04T07:11:09.560Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘ä»¬åœ¨å¼€å‘å‰ç«¯é¡µé¢ä¸­ï¼Œå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°†æ‰€æœ‰çš„ console ç¦ç”¨ï¼Œå¹¶é€šè¿‡è‡ªå®šä¹‰çš„æ—¥å¿—å‡½æ•°è¿›è¡Œæ—¥å¿—è¾“å‡ºï¼Œå³ä½¿æ— æ³•ç¦ç”¨ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ–‡æœ¬è¿‡æ»¤å‡½æ•°ï¼Œä¸¥æ ¼æ§åˆ¶ console çš„è¾“å‡ºã€‚</p><p>ä½†å®é™…ä¸Šï¼Œç¬”è€…ç»å†çš„é¡¹ç›®ä¸­å¾ˆå¤šéƒ½æ²¡æœ‰åŠæ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè™½ç„¶æˆ‘ä»¬çŸ¥é“ï¼Œç¦ç”¨ console çš„ä¸»è¦åŸå› é™¤äº†ä¿¡æ¯æ³„æ¼çš„é£é™©å¤–ï¼Œè¿˜æœ‰å°±æ˜¯ console æ‰“å°çš„å†…å®¹æ— æ³•è¢«å†…å­˜å›æ”¶ã€‚ä½†ä»ç„¶æ€»æ˜¯ä¼šæœ‰ä¸€äº›åŒå­¦å¯¹ç¦ç”¨ console çš„å¿…è¦æ€§è¡¨ç¤ºè´¨ç–‘ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæœ¬æ–‡é€šè¿‡ä¸¤ä¸ªå®é™…é‡åˆ°çš„æ¯”è¾ƒä¸¥é‡çš„ä¾‹å­ï¼Œæ¥è§£é‡Šç¦ç”¨ console çš„å¿…è¦æ€§ã€‚</p><blockquote><p>å‡ºäºä¿å¯†æ€§è€ƒè™‘ï¼Œä¾‹å­æœ¬èº«å·²ç»è„±æ•ï¼Œæœ¬æ–‡ä½¿ç”¨ç¤ºä¾‹ä»£ç æ¨¡æ‹ŸåŸå§‹åœºæ™¯ã€‚</p></blockquote><h2 id="é¡µé¢å†…å­˜"><a href="#é¡µé¢å†…å­˜" class="headerlink" title="é¡µé¢å†…å­˜"></a>é¡µé¢å†…å­˜</h2><p>åœ¨å…·ä½“ä¾‹å­è®²è§£ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹é¡µé¢å†…å­˜æœ‰ä¸€ä¸ªè®¤çŸ¥ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è™½ç„¶å¼€å‘çš„åªæ˜¯åœ¨ Chrome ç­‰æµè§ˆå™¨ä¸­æµè§ˆçš„é¡µé¢ï¼Œä½†æ˜¯å¯¹é¡µé¢çš„ cpu å’Œ å†…å­˜å ç”¨ä¹Ÿéœ€è¦æ—¶åˆ»ä¿æŒå…³æ³¨ã€‚</p><p>cpu å’Œ å†…å­˜ä¸€èˆ¬æ˜¯é’ˆå¯¹è¿›ç¨‹çº§åˆ«ï¼Œchrome çš„è¿›ç¨‹æ¨¡å‹æ¯”è¾ƒå¤æ‚ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºåŒåŸŸçš„é¡µé¢æœ‰æ¯”è¾ƒå¤§çš„æ¦‚ç‡è¿›è¡Œè¿›ç¨‹å¤ç”¨ã€‚</p><p>Chrome æä¾›äº†ä¸€äº›æ‰‹æ®µï¼Œè®©æˆ‘ä»¬å¯ä»¥ç›‘æ§é¡µé¢çš„ cpu å’Œå†…å­˜ï¼Œä¾‹å¦‚ï¼š</p><p>Performance Monitor å¯ä»¥è®©æˆ‘ä»¬ç›´è§‚åœ°ç›‘æµ‹é¡µé¢çš„ cpuã€js heap çš„åˆ†é…æƒ…å†µç­‰ï¼š</p><p><img src="/img/chrome_monitor.png" alt="chrome_monitor"></p><p>Chrome è‡ªèº«æä¾›äº†ä¸€ä¸ªä»»åŠ¡ç®¡ç†å™¨ï¼ˆMore Tools -&gt; Task Managerï¼‰ï¼Œå¯ä»¥è®©æˆ‘ä»¬å…³æ³¨å„ä¸ªé¡µé¢çš„æ€§èƒ½æƒ…å†µï¼š</p><p><img src="/img/chrome_task_manager.png" alt="chrome_task_manager"></p><p>é™¤äº†å®æ—¶ç›‘æ§ä»¥å¤–ï¼ŒChrome DevTools çš„ Memory ç­‰ tab ä¹Ÿå¯ä»¥è®©æˆ‘ä»¬å¯¹å†…å­˜å ç”¨è¿›è¡Œå–æ ·åˆ†æï¼Œä»¥åŠå†…å­˜æ³„æ¼åˆ†æï¼š</p><ul><li>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ä¸¤æ¬¡ heap snapshotï¼Œç„¶åæœç´¢å…³é”®å˜é‡çš„æ•°ç›®ä¸å¼•ç”¨å…³ç³»æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œæ¥è¯æ˜æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼ã€‚</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ WeakMap æ¥è·Ÿè¸ªæˆ‘ä»¬çš„å®ä¾‹ï¼Œä¹Ÿå¯ä»¥è¾…åŠ©è¿›è¡Œä¸€å®šçš„å†…å­˜æ³„æ¼åˆ†æã€‚</li></ul><h2 id="ä½¿ç”¨-console-log-æ‰“å°-dom-å…ƒç´ é€ æˆæ­»å¾ªç¯-OOM"><a href="#ä½¿ç”¨-console-log-æ‰“å°-dom-å…ƒç´ é€ æˆæ­»å¾ªç¯-OOM" class="headerlink" title="ä½¿ç”¨ console.log æ‰“å° dom å…ƒç´ é€ æˆæ­»å¾ªç¯ OOM"></a>ä½¿ç”¨ console.log æ‰“å° dom å…ƒç´ é€ æˆæ­»å¾ªç¯ OOM</h2><p>ä¹‹å‰ç¬”è€…è´Ÿè´£çš„ä¸€ä¸ªé¡µé¢ï¼Œåœ¨æŸä¸ªç‰ˆæœ¬å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼šæ‰“å¼€é¡µé¢åä¸ä¹…ï¼Œåœ¨ä»€ä¹ˆæ“ä½œä¹Ÿæ²¡æœ‰åšçš„æƒ…å†µä¸‹ç›´æ¥å¡æ­»æ— å“åº”ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œjs å¯¼è‡´ç½‘é¡µæ— å“åº”çš„å¯èƒ½æ€§å¹¶ä¸å¤šï¼Œæˆ‘ä»¬é¦–å…ˆæ€€ç–‘æ˜¯å› ä¸ºæ­»å¾ªç¯å¯¼è‡´çš„ã€‚</p><p>ä¸è¿‡æˆ‘ä»¬é€šè¿‡å¯¹æ¯”ä¸Šæ¬¡å’Œè¿™ä¸€æ¬¡çš„ä»£ç ï¼Œå‘ç°å˜åŠ¨æå°ï¼ˆå®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸€å¼€å§‹éƒ½å¿½ç•¥äº† console.logï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ Chrome çš„ devTools é‡Œé¢æ‰“æ–­ç‚¹ï¼Œæœ€ç»ˆå®šä½å‘ç°æ˜¯å¡æ­»åœ¨ç¬¬ä¸‰æ–¹åº“ sentry çš„ console.log ä¸­ã€‚</p><p>æœ€ç»ˆæˆ‘ä»¬å®šä½å‡ºçœŸæ­£çš„åŸå› ï¼šå…¶ä¸­ä¸€å¤„ try catch åœ¨ catch åˆ°é”™è¯¯ä¹‹åï¼Œä¼š console.log æ‰“å°åŒ…æ‹¬ dom åœ¨å†…çš„ä¸€äº›å†…å®¹ï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨çš„ console.log è¢« sentry è¿›è¡Œäº†è¦†ç›–ï¼Œå®ƒçš„è¦†ç›–æ–¹æ³•å¤§è‡´å¦‚ä¸‹ï¼ˆè¿™ä¸ªç¡®å®æœ‰ç‚¹å‘ï¼Œä»¥è‡³äºæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹ console.log ä»ç„¶æ˜¯ [native code]ï¼Œ ä¸è¿‡æœ€æ–°ç‰ˆæœ¬çš„ Chrome è¿™ä¸ªä»£ç å·²ç»ä¸èƒ½å®Œå…¨ workï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> __native_console = <span class="built_in">console</span>.log;</span><br><span class="line"><span class="built_in">console</span>.log = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// é€’å½’éå†å„ä¸ªå±æ€§</span></span><br><span class="line">  __native_console(...arguments);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log.prototype.__native_console = __native_console;</span><br><span class="line"><span class="built_in">console</span>.log.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.__native_console) <span class="keyword">return</span> <span class="built_in">this</span>.__native_console.toString();</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.toString();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 2021.09 @niexiaotao è¡¥å……ä¸€ä¸‹æœ€æ–°çš„å®ç°</span></span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œä¹‹æ‰€ä»¥æ­»å¾ªç¯ï¼Œæ˜¯å› ä¸º React ä¸­ FiberNode æ˜¯ Dom çš„å…¶ä¸­ä¸€ä¸ªå±æ€§ï¼Œconsole.log é€’å½’éå†åˆ°äº† FiberNodeï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæœ€ç»ˆé€ æˆæ— é™é€’å½’æ­»å¾ªç¯</strong>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„éšä¾¿æ‰¾ä¸ª React é¡¹ç›®éªŒè¯è¿™ä¸€ç‚¹ï¼š</p><p><img src="/img/chrome_fiber.png" alt="React Fiber"></p><h2 id="detached-dom-è¿‡å¤šå¯¼è‡´é¡µé¢å†…å­˜æŒç»­ä¸Šæ¶¨"><a href="#detached-dom-è¿‡å¤šå¯¼è‡´é¡µé¢å†…å­˜æŒç»­ä¸Šæ¶¨" class="headerlink" title="detached dom è¿‡å¤šå¯¼è‡´é¡µé¢å†…å­˜æŒç»­ä¸Šæ¶¨"></a>detached dom è¿‡å¤šå¯¼è‡´é¡µé¢å†…å­˜æŒç»­ä¸Šæ¶¨</h2><p>å¦å¤–ç¬”è€…æ¥è§¦åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œæ˜¯ä¹‹å‰æŸé¡¹ç›®çš„ä¸€ä¸ªé¡µé¢ï¼Œéšç€ä½¿ç”¨æ—¶é—´å¢åŠ ï¼Œé¡µé¢çš„å†…å­˜ä½¿ç”¨é‡å¿«é€ŸæŒç»­å¢åŠ ï¼Œæœ€ç»ˆå¯¼è‡´å¡é¡¿å’Œå´©æºƒã€‚</p><p>è¿™ä¸ªé—®é¢˜çš„å®šä½è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒè‰°è¾›ï¼Œæœ€ç»ˆå‘ç°å…¶ä¸­çš„ä¸€ä¸ªä¸»è¦åŸå› æ˜¯ <strong>console.log æ‰“å°äº† dom èŠ‚ç‚¹ï¼Œå¯¼è‡´ detached dom æŒç»­å¢å¤šå¹¶ä¸”æ— æ³•è¢«å›æ”¶ï¼Œæœ€ç»ˆå¯¼è‡´ä¸¥é‡é—®é¢˜</strong>ã€‚</p><p>å…³äº detached dom çš„é—®é¢˜æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="http://niexiaotao.cn/2021/09/04/%E9%80%9A%E8%BF%87%E5%8E%8B%E7%BC%A9%E5%90%88%E6%88%90%E5%B1%82%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD/">é€šè¿‡å‹ç¼©åˆæˆå±‚ä¼˜åŒ–æ€§èƒ½</a> è¿™é‡Œçš„ demoï¼Œç®€å•ä¿®æ”¹ï¼š</p><p>å°†åŸæœ¬éœ€è¦æŒ‚è½½åˆ° dom çš„èŠ‚ç‚¹ç›´æ¥è¿›è¡Œæ‰“å°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; totalListCount; i += <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> fragment = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  fragment.classList.add(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">  fragment.innerHTML = <span class="string">`&lt;p&gt;this is the <span class="subst">$&#123;i&#125;</span> element&lt;/p&gt;`</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(fragment);</span><br><span class="line">  <span class="comment">// list.appendChild(fragment);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹åˆ°è¿™æ ·å°±äº§ç”Ÿäº† 500 ä¸ª detach èŠ‚ç‚¹ï¼Œå¹¶ä¸”åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œæ— æ³•è¿›è¡Œé‡Šæ”¾ï¼š</p><p><img src="/img/chrome_detach_console.png" alt="detach console"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å®é™…ä¸Šï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ console.log é€ æˆçš„é—®é¢˜è¿œä¸æ­¢ä¸Šé¢çš„ä¸¤ä¾‹ï¼Œè€Œä¸”è¿™ç±»é—®é¢˜é€šå¸¸æ’æŸ¥èµ·æ¥éƒ½ä¼šæ¯”è¾ƒè‰°éš¾ï¼Œå› æ­¤ï¼Œå»ºè®®å¤§å®¶è½å®åœ¨ç”Ÿäº§ç¯å¢ƒç¦ç”¨ consoleã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬åœ¨å¼€å‘å‰ç«¯é¡µé¢ä¸­ï¼Œå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°†æ‰€æœ‰çš„ console ç¦ç”¨ï¼Œå¹¶é€šè¿‡è‡ªå®šä¹‰çš„æ—¥å¿—å‡½æ•°è¿›è¡Œæ—¥å¿—è¾“å‡ºï¼Œå³ä½¿æ— æ³•ç¦ç”¨ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ–‡æœ¬è¿‡æ»¤</summary>
      
    
    
    
    
    <category term="javascript" scheme="https://z4ynadmin.github.io/tags/javascript/"/>
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://z4ynadmin.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>é€šè¿‡ä¼˜åŒ–åˆæˆå±‚ä¼˜åŒ–æ€§èƒ½</title>
    <link href="https://z4ynadmin.github.io/2021/09/04/%E9%80%9A%E8%BF%87%E5%8E%8B%E7%BC%A9%E5%90%88%E6%88%90%E5%B1%82%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD/"/>
    <id>https://z4ynadmin.github.io/2021/09/04/%E9%80%9A%E8%BF%87%E5%8E%8B%E7%BC%A9%E5%90%88%E6%88%90%E5%B1%82%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD/</id>
    <published>2021-09-04T05:15:01.000Z</published>
    <updated>2022-11-04T07:11:09.560Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>Web æ€§èƒ½ä¼˜åŒ–ç‰¹åˆ«æ˜¯é•¿åˆ—è¡¨æ»šåŠ¨ä¼˜åŒ–æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„æ€è·¯æ˜¯é€šè¿‡è™šæ‹Ÿæ»šåŠ¨ã€GPU åŠ é€Ÿã€fragment å¤ç”¨ç­‰æ–¹å¼ä¼˜åŒ–æ€§èƒ½ã€‚</p><p>åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œä¸»è¦ä»‹ç»ä¸€ä¸ªå‹ç¼©åˆæˆå±‚çš„æ€è·¯æ¥è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œå…³äºåˆæˆå±‚çš„æ–‡ç« ç½‘ä¸Šä¹Ÿæœ‰ä¸€äº›ï¼ˆé™„å½•éƒ¨åˆ†æœ‰åˆ—å‡ºï¼‰ï¼Œä¸è¿‡å¤§éƒ¨åˆ†æ–‡ç« ä¼šå¯¹åˆæˆå±‚åˆ›å»ºçš„åŸå› è¿›è¡Œå†—é•¿çš„ä»‹ç»ï¼Œæœ¬æ–‡ä¼šè·³è¿‡è¿™äº›éƒ¨åˆ†ã€‚åŸå› æ˜¯æˆ‘ä»¬é€šè¿‡ devTools å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„é’ˆå¯¹å…·ä½“æƒ…å†µåˆ†æåˆ›å»ºåˆæˆå±‚çš„åŸå› ï¼Œå¦å¤–ä¸€ä¸ªåŸå› æ˜¯ blink å·²ç»æŠŠåˆ›å»ºåˆæˆå±‚çš„åŸå› å†™åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆ<a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/platform/graphics/compositing_reasons.cc">ä¼ é€é—¨</a>ï¼‰ï¼Œæˆ‘ä»¬ç›´æ¥å‚è€ƒå°±è¡Œï¼Œä¹Ÿæ²¡æœ‰å¿…è¦å»å…¨éƒ½è®°ä½ã€‚</p><h2 id="åˆæˆå±‚æ˜¯ä»€ä¹ˆ"><a href="#åˆæˆå±‚æ˜¯ä»€ä¹ˆ" class="headerlink" title="åˆæˆå±‚æ˜¯ä»€ä¹ˆ"></a>åˆæˆå±‚æ˜¯ä»€ä¹ˆ</h2><p>å¯¹äº blink æ¸²æŸ“å¼•æ“çš„æ¸²æŸ“æµç¨‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D<span class="function"><span class="title">om</span> Tree -&gt;</span> L<span class="function"><span class="title">ayout</span> Object -&gt;</span> P<span class="function"><span class="title">aint</span> Layer -&gt;</span> G<span class="function"><span class="title">raphics</span> Layers Tree -&gt;</span> Paint</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯¹ä»¥ä¸Šè¿‡ç¨‹è¿›è¡Œä¸€ä¸ªç®€è¿°ï¼š</p><ul><li>Dom Tree åˆ° Render Tree è¿™ä¸ªè¿‡ç¨‹ï¼ŒåŸºæœ¬æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œé™¤äº†ä¸€äº› display:none çš„å…ƒç´ ã€‚</li><li>Layout Object ä¼šæŒ‰ç…§ä¸€å®šæ¡ä»¶åˆ›å»º Paint Layerã€‚</li><li>Paint Layer åœ¨åˆ° Graphics Layer çš„è¿‡ç¨‹ä¸­ï¼Œä¼šåˆ›å»ºåˆæˆå±‚ï¼ˆComposite Layerï¼‰ï¼Œä¼šå¯¹åº”ç‹¬ç«‹çš„ Graphics Layerã€‚</li><li>Graphics Layer ä¼šæŠŠç»“æœæ¸²æŸ“åˆ°çº¹ç†ï¼Œæœ€ç»ˆé€šè¿‡ Chrome çš„æ¸²æŸ“å±‚ä»¥åŠç³»ç»Ÿè¿›è¡Œä¸Šå±ã€‚</li></ul><p>å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåˆæˆå±‚çš„å¤šå°‘ä¼šæ¯”è¾ƒå½±å“æˆ‘ä»¬çš„æ¸²æŸ“æ€§èƒ½ï¼Œåˆæˆå±‚æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å¯¹é¡µé¢è¿›è¡Œäº¤äº’ï¼ˆæ¯”å¦‚æ»šåŠ¨ï¼‰ï¼Œè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œå°±ä¼šæœ‰å¡é¡¿çš„é£é™©ã€‚</p><h2 id="åˆ†æåˆæˆå±‚"><a href="#åˆ†æåˆæˆå±‚" class="headerlink" title="åˆ†æåˆæˆå±‚"></a>åˆ†æåˆæˆå±‚</h2><p>Chrome çš„ DevTools å·¥å…·å¯ä»¥è®©æˆ‘ä»¬æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œåˆæˆå±‚åˆ†æï¼Œä¾‹å¦‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ª demo æ¥è¿›è¡Œåˆ†æï¼š</p><p><img src="/img/composite_reason.png" alt="åˆæˆå±‚ç¤ºä¾‹"></p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿™ä¸ª demo çš„åˆæˆå±‚æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬ç‚¹è¿›å»å¯ä»¥æŸ¥çœ‹åˆ°æ˜¯å› ä¸º overflow å¯¼è‡´åˆ›å»ºäº†æ–°çš„åˆæˆå±‚ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è¯¥ demo è€Œè¨€æˆ‘ä»¬å¯ä»¥å°è¯•åœ¨è¿™äº› Demo ä¸­å»æ‰æˆ–è€…ä¿®æ”¹ overflow çš„ç›¸å…³è®¾ç½®ï¼Œä»è€Œè¿›è¡Œåˆæˆå±‚ä¼˜åŒ–ã€‚</p><h2 id="ä¼˜åŒ–åˆæˆå±‚"><a href="#ä¼˜åŒ–åˆæˆå±‚" class="headerlink" title="ä¼˜åŒ–åˆæˆå±‚"></a>ä¼˜åŒ–åˆæˆå±‚</h2><p>æˆ‘ä»¬å°è¯•å»æ‰ <code>overflow: scroll;</code>ã€‚ï¼ˆ Demo æºä»£ç ä¼šåœ¨æœ¬æ–‡æœ€åç»™å‡ºï¼‰</p><p>ç„¶åæˆ‘ä»¬è®¾ç½®é¡µé¢çš„åˆ—è¡¨å…ƒç´ ä¸º 500 ä¸ªï¼Œé€šè¿‡æ¨¡æ‹Ÿé¡µé¢æŒç»­æ»šåŠ¨ï¼Œæ¥æ£€æŸ¥å»æ‰å‰åçš„æ€§èƒ½ã€‚</p><p>å»æ‰å‰ï¼Œcpu ä¿æŒåœ¨ 50%+ï¼Œè¿™å®é™…ä¸Šå·²ç»æ˜¯ä¸€ä¸ªæ¯”è¾ƒé«˜çš„æ•°å€¼äº†ï¼š</p><p><img src="/img/composite_cpu_1.png" alt="åˆæˆå±‚cpu"></p><p>å»æ‰åï¼Œcpu ä¿æŒåœ¨ 2% å·¦å³ï¼š</p><p><img src="/img/composite_cpu_2.png" alt="å»é™¤åˆæˆå±‚cpu"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–åæœ‰å·¨å¤§çš„æ€§èƒ½æå‡ï¼Œè¿™ç§é‡çº§çš„æ€§èƒ½æå‡ï¼Œä¼šè¿œè¶…è™šæ‹Ÿæ»šåŠ¨ç­‰æ–¹æ¡ˆï¼ˆå…¶å®æˆ‘ä¸ªäººæ˜¯ä¸å»ºè®®é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨çš„ï¼Œéå¸¸éš¾ç»´æŠ¤ï¼Œè€Œä¸”ä½ å¾ˆéš¾åšåˆ°æµè§ˆå™¨åŸç”Ÿæ»šåŠ¨çš„ä¸æ»‘æ°´å‡†ï¼‰ã€‚</p><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,minimal-ui:ios&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> &gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.list</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">90vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">overflow</span>: scroll;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.li</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-style</span>: solid;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-color</span>: grey;</span></span><br><span class="line"><span class="css">      <span class="comment">/* overflow: scroll; */</span></span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> totalListCount = <span class="number">500</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> list = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.list&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; totalListCount; i += <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> fragment = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="javascript">    fragment.classList.add(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="javascript">    fragment.innerHTML = <span class="string">`&lt;p&gt;this is the <span class="subst">$&#123;i&#125;</span> element&lt;/p&gt;`</span>;</span></span><br><span class="line"><span class="javascript">    list.appendChild(fragment);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> curr = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> renderScroll = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    curr += <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (curr &gt;= totalListCount) curr = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    list.children[curr].scrollIntoView();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.requestAnimationFrame(renderScroll)</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript">  renderScroll();</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li>Compositing Layers: <a href="https://zhuanlan.zhihu.com/p/88288584">https://zhuanlan.zhihu.com/p/88288584</a></li><li>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹ Composite: <a href="https://segmentfault.com/a/1190000015917498">https://segmentfault.com/a/1190000015917498</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;Web æ€§èƒ½ä¼˜åŒ–ç‰¹åˆ«æ˜¯é•¿åˆ—è¡¨æ»šåŠ¨ä¼˜åŒ–æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„æ€è·¯æ˜¯é€šè¿‡è™šæ‹Ÿæ»šåŠ¨ã€GPU åŠ é€Ÿã€fragment å¤ç”¨ç­‰æ–¹å¼ä¼˜åŒ–æ€§èƒ½ã€‚</summary>
      
    
    
    
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://z4ynadmin.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>äº†è§£ StackOverFlow ä¸Šé¢æœ€å—æ¬¢è¿çš„è¯­è¨€ Rust</title>
    <link href="https://z4ynadmin.github.io/2021/09/02/%E4%BA%86%E8%A7%A3%20StackOverFlow%20%E4%B8%8A%E9%9D%A2%E6%9C%80%E5%8F%97%E6%AC%A2%E8%BF%8E%E7%9A%84%E8%AF%AD%E8%A8%80%20Rust/"/>
    <id>https://z4ynadmin.github.io/2021/09/02/%E4%BA%86%E8%A7%A3%20StackOverFlow%20%E4%B8%8A%E9%9D%A2%E6%9C%80%E5%8F%97%E6%AC%A2%E8%BF%8E%E7%9A%84%E8%AF%AD%E8%A8%80%20Rust/</id>
    <published>2021-09-02T11:15:51.000Z</published>
    <updated>2022-11-04T07:11:09.556Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å¸Œæœ›ä»å®è§‚è§’åº¦ï¼Œæ¥ä»‹ç»å’Œåˆ†æ Rust è¯­è¨€ã€‚</p><p>Rust æ˜¯ä¸€é—¨<strong>ä¸“æ³¨å®‰å…¨</strong>çš„ç°ä»£ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼Œå‘å¸ƒäº 2015 å¹´ã€‚</p><p>è‡ªä» 2015 å¹´å‘å¸ƒèµ·ï¼ŒRust å°±ä¸€ç›´æ˜¯ StackOverFlow ä¸Šé¢æœ€å—æ¬¢è¿çš„è¯­è¨€ï¼Œè€Œä¸”å’Œç¬¬äºŒåè¿˜èƒ½æ‹‰å¼€ä¸å°çš„å·®è·ï¼Œä¾‹å¦‚æœ€è¿‘ä¸¤å¹´çš„ç»Ÿè®¡æ•°æ®ï¼š</p><p><a href="https://insights.stackoverflow.com/survey/2020#most-loved-dreaded-and-wanted">2020</a>:<br><img src="/img/rust_2020.png" alt="2020_rust"></p><p><a href="https://insights.stackoverflow.com/survey/2021#most-loved-dreaded-and-wanted-language-love-dread">2021</a>:<br><img src="/img/rust_2021.png" alt="2021_rust"></p><p>æ¥ä¸‹æ¥ç¬”è€…é€šè¿‡æ€§èƒ½ã€å¯é æ€§ã€ç”Ÿäº§åŠ›ã€é¢å‘å‰ç«¯å‹å¥½ç­‰å‡ ä¸ªç»´åº¦æ¥ä»‹ç» Rustï¼Œä¹‹åä¼šå¯¹ Rust çš„éƒ¨åˆ†é‡ç‚¹è¯­è¨€ç‰¹æ€§è¿›è¡Œä»‹ç»ã€‚</p><h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h2><p>é¦–å…ˆä½œä¸ºä¸€ç§ç¼–è¯‘å‹è¯­è¨€ï¼Œå¯ä»¥ç›´æ¥å°†ç¼–è¯‘äº§ç‰©ä½œä¸ºäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶éƒ¨ç½²ï¼Œæ— éœ€éšç¨‹åºä¸€èµ·åˆ†å‘è§£é‡Šå™¨å’Œå¤§é‡çš„ä¾èµ–é¡¹ï¼Œå› æ­¤ç›¸å¯¹äº Pythonã€Ruby ä»¥åŠ Javascript ç­‰è§£é‡Šå‹è¯­è¨€ï¼Œä¼šæ•ˆç‡æ›´é«˜ã€‚</p><p>åŒæ—¶ï¼ŒRust æä¾›äº†å¤§é‡çš„é›¶æˆæœ¬æŠ½è±¡ï¼ˆå¦‚æ³›å‹ã€async/awaitã€è¿­ä»£å’Œé—­åŒ…ç­‰ï¼‰ï¼Œåœ¨ä¿è¯å¼€å‘æ•ˆç‡çš„åŒæ—¶é¿å…äº†è¿è¡Œæ—¶å¼€é”€ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼ŒRust çš„æ€§èƒ½å’Œ C/C++ ç›¸ä¼¼ï¼Œæ— è™šæ‹Ÿæœºï¼Œæ—  GCï¼Œè¿è¡Œæ—¶ä»…ä¾èµ– libcï¼Œ<strong>åœ¨éœ€è¦é«˜æ€§èƒ½åœºæ™¯ä¸­ä½¿ç”¨å·²ç»è¶³å¤Ÿ</strong>ã€‚</p><h2 id="å¯é æ€§"><a href="#å¯é æ€§" class="headerlink" title="å¯é æ€§"></a>å¯é æ€§</h2><p>åœ¨ä¸€ä¸ª c++ é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å„ç±» crashï¼Œå¤„ç†è¿™äº› crash é€šå¸¸ä¼šèŠ±è´¹å¤§é‡çš„äººåŠ›ã€‚</p><p>è€Œåœ¨ä¸€ä¸ª Rust é¡¹ç›®ä¸­ï¼Œå¦‚æœè§„èŒƒä½¿ç”¨åŸºæœ¬ä¸Šåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥é¿å…å‡ ä¹æ‰€æœ‰çš„ crashï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä½¿ç”¨ Rust çš„é¡¹ç›®åªè¦ç¼–è¯‘é€šè¿‡ï¼Œå°±åªæœ‰é€»è¾‘é”™è¯¯ï¼Œä¸ä¼šå†æœ‰ crash</strong>ï¼ˆè‡ªèº«ä½¿ç”¨äº† unsafe é™¤å¤–ï¼‰ã€‚</p><p>Rust ä¹‹æ‰€ä»¥èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¾—ç›Šäºå…¶è®¾è®¡çš„æ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸã€Option æœºåˆ¶ä»¥åŠæ™ºèƒ½æŒ‡é’ˆç­‰ï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬åœ¨ä¸‹æ–‡çš„è¯­è¨€ç‰¹æ€§ä¸­ä¹Ÿä¼šæ›´è¯¦ç»†åœ°åˆ†å¼€ä»‹ç»ã€‚</p><blockquote><p>å®é™…ä¸Šï¼Œç¬”è€…ç°åœ¨è´Ÿè´£çš„é¡¹ç›®ä¸­ Rust å’Œ C++ å¤§çº¦å„æœ‰ä¸€åŠçš„ä»£ç ï¼Œåœ¨è¿™å…¶ä¸­ Rust å‡ ä¹æ²¡æœ‰å‡ºç°è¿‡ crashï¼Œè€Œ c++ åŸºæœ¬ä¸Šæ¯åŒå‘¨ï¼ˆä¸€ä¸ªè¿­ä»£ï¼‰éƒ½ä¼šæ–°å¢ä¸€äº›ç§ç±»çš„ crashã€‚</p></blockquote><h2 id="ç”Ÿäº§åŠ›"><a href="#ç”Ÿäº§åŠ›" class="headerlink" title="ç”Ÿäº§åŠ›"></a>ç”Ÿäº§åŠ›</h2><h3 id="ä»£ç å¼€å‘æ•ˆç‡"><a href="#ä»£ç å¼€å‘æ•ˆç‡" class="headerlink" title="ä»£ç å¼€å‘æ•ˆç‡"></a>ä»£ç å¼€å‘æ•ˆç‡</h3><p>å¾—ç›Šäº Rust çš„å¤§é‡é›¶æˆæœ¬æŠ½è±¡ï¼Œä»¥åŠ Rust æä¾›çš„é«˜åº¦çµæ´»çš„å®æœºåˆ¶ï¼Œæˆ‘ä»¬çš„ä»£ç å¼€å‘æ•ˆç‡è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ã€‚å°±ç¬”è€…çš„ä½“éªŒè€Œè¨€ï¼Œä½¿ç”¨ Rust å®ŒæˆåŠŸèƒ½çš„å¼€å‘æ•ˆç‡ç•¥ä½äº Typescriptï¼Œä½†æ˜¯è¿œé«˜äº c++ï¼ˆå’Œ Typescript ç›¸æ¯”ï¼ŒRust é€šå¸¸ä¼šéœ€è¦èŠ±è´¹é¢å¤–çš„ä¸€äº›æ—¶é—´æ¥è§£å†³ç¼–è¯‘é—®é¢˜ï¼Œä½†æ˜¯æ¢æ¥çš„æ˜¯é«˜æ€§èƒ½å’Œç¨³å®šæ€§ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯å€¼å¾—çš„ï¼‰ã€‚</p><p>å¦å¤–éšç€ Rust è¯­è¨€çš„é€æ¸æˆç†Ÿï¼Œé…å¥—çš„ IDE å’Œç¼–è¾‘å™¨ï¼ˆClionã€VSCodeï¼‰ä¹Ÿé€æ¸æˆç†Ÿï¼Œæ—¥å¸¸ä»£ç å¼€å‘æç¤ºã€ä»¥åŠä»£ç è°ƒè¯•ç­‰éƒ½éå¸¸æ–¹ä¾¿ã€‚</p><h3 id="åŒ…ç®¡ç†ç³»ç»Ÿ"><a href="#åŒ…ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="åŒ…ç®¡ç†ç³»ç»Ÿ"></a>åŒ…ç®¡ç†ç³»ç»Ÿ</h3><p>å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒRust çš„åŒ…ç®¡ç†ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œè¿™ä¸€ç‚¹æˆ‘è®¤ä¸º Rust ä¹Ÿå‚è€ƒäº† npmï¼ŒåŒ…ç®¡ç†ç³»ç»Ÿçš„ä½¿ç”¨ä½“éªŒä¹Ÿå’Œ npm æ¯”è¾ƒæ¥è¿‘ï¼Œæ–°å¢ä¸€ä¸ªä¾èµ–ï¼Œåªéœ€è¦åœ¨ Cargo.toml é…ç½®æ–‡ä»¶ä¸­æ–°å¢ä¸€è¡Œé…ç½®å³å¯ã€‚æ–¹ä¾¿çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œè®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å¤ç”¨<a href="https://crates.io/">ç¤¾åŒºå„ç±»ä¼˜ç§€çš„èµ„æº</a>ã€‚</p><p>ç›¸å¯¹æ¥è¯´ï¼Œc++ è¿™ç±»è€ç‰Œè¯­è¨€çš„åŒ…åˆ†å‘å’Œç®¡ç†å°±ä¼šéº»çƒ¦å¾ˆå¤šï¼Œç”šè‡³åœ¨ä¸€ä¸ªé¡¹ç›®å†…ä¹Ÿä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</p><h3 id="ç°æœ‰èµ„æºçš„å¤ç”¨"><a href="#ç°æœ‰èµ„æºçš„å¤ç”¨" class="headerlink" title="ç°æœ‰èµ„æºçš„å¤ç”¨"></a>ç°æœ‰èµ„æºçš„å¤ç”¨</h3><p>è¿™ä¸€ç‚¹ä¸»è¦æ˜¯ Rust å’Œ C/C++ çš„äº’ç›¸è°ƒç”¨ï¼ŒRust æ”¯æŒè°ƒç”¨ C æ¥å£å’Œå°è£…æˆ C æ¥å£è¢«å…¶ä»–è¯­è¨€æ‰€è°ƒç”¨ï¼Œå› æ­¤å¯¹äºç°æœ‰çš„é¡¹ç›®ï¼Œå¦‚æœå¯ä»¥æä¾›ä¸€å±‚ C æ¥å£çš„å°è£…ï¼Œå°±ä¼šæ¯”è¾ƒæ–¹ä¾¿åœ°è¢« Rust ç›´æ¥è°ƒç”¨ã€‚</p><h2 id="é¢å‘å‰ç«¯å‹å¥½"><a href="#é¢å‘å‰ç«¯å‹å¥½" class="headerlink" title="é¢å‘å‰ç«¯å‹å¥½"></a>é¢å‘å‰ç«¯å‹å¥½</h2><p>æˆ‘è®¤ä¸º Rust é¢å‘å‰ç«¯å‹å¥½ä¸»è¦ä½“ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼š</p><h3 id="è™½ç„¶å­¦ä¹ è·¯çº¿é™¡å³­ï¼Œä½†å’Œ-Typescript-ç›¸è¿‘ç‚¹è¾ƒå¤š"><a href="#è™½ç„¶å­¦ä¹ è·¯çº¿é™¡å³­ï¼Œä½†å’Œ-Typescript-ç›¸è¿‘ç‚¹è¾ƒå¤š" class="headerlink" title="è™½ç„¶å­¦ä¹ è·¯çº¿é™¡å³­ï¼Œä½†å’Œ Typescript ç›¸è¿‘ç‚¹è¾ƒå¤š"></a>è™½ç„¶å­¦ä¹ è·¯çº¿é™¡å³­ï¼Œä½†å’Œ Typescript ç›¸è¿‘ç‚¹è¾ƒå¤š</h3><p>å¾ˆå¤šäººåŠé€€ Rust ç†ç”±ä¹‹ä¸€æ˜¯å…¶å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œä½†æ˜¯å®é™…ä¸Šå‰ç«¯åŒå­¦å­¦ä¹  Rust ä¼šæ¯”å­¦ä¹  C++ å®¹æ˜“çš„å¤šï¼Œä¸€æ–¹é¢ï¼ŒRust çš„å¾ˆå¤šæœºåˆ¶ï¼ˆasync/awaitã€ç±»çš„è®¾è®¡ã€åŒ…ç®¡ç†ï¼‰ç­‰éƒ½å’Œ Typescript æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œå¦å¤–ä¸€æ–¹é¢å†™ Rust åªè¦ç¼–è¯‘èƒ½å¤Ÿé€šè¿‡åŸºæœ¬ä¸Šèƒ½å¤Ÿä¿è¯ä½ ä»£ç è´¨é‡çš„ä¸‹é™ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ä¸Šå¯ä»¥ä¸Šçº¿ç”Ÿäº§ç¯å¢ƒã€‚è€Œ C++ æ–°æ‰‹å†™å‡ºæ¥çš„ä»£ç é€šå¸¸ä¼šæœ‰å„ç§ crash éšæ‚£ï¼Œè€Œä¸”æ’æŸ¥é€šå¸¸è¾ƒä¸ºå›°éš¾ï¼Œå¯¼è‡´å®¹æ˜“èƒŒé”…ï¼Œè¿™ä¸€ç‚¹æ¥è¯´å¯¹æ–°æ‰‹éå¸¸ä¸å‹å¥½ã€‚</p><h3 id="é¢å‘-WASM-å‹å¥½"><a href="#é¢å‘-WASM-å‹å¥½" class="headerlink" title="é¢å‘ WASM å‹å¥½"></a>é¢å‘ WASM å‹å¥½</h3><p>å¯¹äº WebAssemblyï¼Œç¬”è€…å¹¶ä¸æ¨è AssemblyScriptï¼Œå› ä¸ºå…¶è™½ç„¶æ˜¯ â€œTypescriptâ€ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥å’Œ Typescript ç›¸å·®å¤ªå¤šï¼Œè€Œä¸”æ— æ³•å®Œå…¨ç›´æ¥ä½¿ç”¨ JavaScript çš„ç¬¬ä¸‰æ–¹åº“ï¼Œè°ƒè¯•ç­‰ä¹Ÿå¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</p><p>è€Œå‰©ä½™çš„å‡ ç±»è¯­è¨€ä¸­ï¼ˆRustã€C++ã€Kotinã€Golangï¼‰ï¼Œç›¸å¯¹æ¥è¯´ Rust å’Œ C++ çš„ wasm ç¼–è¯‘éƒ½è¾ƒä¸ºæˆç†Ÿï¼ŒRust æ›´æ˜¯åœ¨è®¾è®¡ä¹‹åˆå³è€ƒè™‘æ”¯æŒ WebAssembly å¹¶ä¸”å°†å…¶ä½œä¸ºä¸€ä¸ªä¸»è¦äº®ç‚¹ï¼Œè¢« Rust å®˜æ–¹å›¢é˜Ÿç›´æ¥ç»´æŠ¤ï¼ˆåŒ…å«äº†å‹¤åŠ³çš„ Alex Crichtonï¼Œå…¶ä¹Ÿæ˜¯ tokio çš„ä½œè€…ï¼‰ã€‚å› æ­¤æˆ‘ä»¬ä½¿ç”¨ Rust ç¼–è¯‘ WebAssembly éå¸¸æ–¹ä¾¿ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ä½¿ç”¨å¤§å¤šæ•°ç¬¬ä¸‰æ–¹ Rust åº“ï¼Œä½¿ç”¨ä½“éªŒå’Œ Rust Native å¼€å‘åŸºæœ¬ä¸Šæ²¡æœ‰å·®å¼‚ã€‚</p><p>ç›®å‰ç¬”è€…çš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€éƒ¨åˆ†æ¨¡å—å³ä½¿ç”¨äº† Rust + WebAssemblyï¼ŒåŒæ—¶æ”¯æŒäº† Windows/Mac/iOS/Android/Web äº”ç§å¹³å°ï¼Œå¹¶ä¸”å‡ ä¹éƒ½åšåˆ°äº†æœ€é«˜æ€§èƒ½ã€‚</p><blockquote><p>å½“ç„¶ä¸å¾—ä¸æ‰¿è®¤ï¼ŒRust ç¼–è¯‘ WebAssembly åœ¨ä½¿ç”¨åˆ° C++ çš„èµ„æºæ—¶ä¹Ÿå¹¶ä¸æ˜¯ååˆ†æ–¹ä¾¿ï¼ŒRust çš„ WASM ç¼–è¯‘å™¨å’Œ Emscripten ä¹Ÿæœ‰è¯¸å¤šå·®å¼‚ï¼Œé€‚é…èµ·æ¥ä¼šæ¯”è¾ƒå¤´ç–¼ï¼Œå¦‚æœç°æœ‰é¡¹ç›®ä¸»è¦æ˜¯ C++ï¼Œè¿˜æ˜¯å»ºè®®ç›´æ¥ä½¿ç”¨ Emscriptenã€‚</p></blockquote><h2 id="é‡ç‚¹è¯­è¨€ç‰¹æ€§"><a href="#é‡ç‚¹è¯­è¨€ç‰¹æ€§" class="headerlink" title="é‡ç‚¹è¯­è¨€ç‰¹æ€§"></a>é‡ç‚¹è¯­è¨€ç‰¹æ€§</h2><p>Rust æ‹¥æœ‰å¤§å¤šç°ä»£è¯­è¨€å…·å¤‡çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ RAIIã€åŠ¨æ€æ•°æ®ç±»å‹ç­‰ï¼Œå¦å¤–è¿˜æœ‰ä¸å°‘è®¾è®¡æ˜¯ Rust ä¸­ç‹¬æœ‰çš„ï¼Œä¸‹é¢æˆ‘ä»¬å¯¹ä¸€äº› Rust ä¸­æ¯”è¾ƒç‹¬ç‰¹çš„è¯­è¨€ç‰¹æ€§è¿›è¡Œä¸€äº›ä»‹ç»ã€‚</p><h3 id="æ‰€æœ‰æƒ"><a href="#æ‰€æœ‰æƒ" class="headerlink" title="æ‰€æœ‰æƒ"></a>æ‰€æœ‰æƒ</h3><p>Rust çš„æ‰€æœ‰æƒæœºåˆ¶ï¼Œå³ä¸€ä¸ªå€¼åŒä¸€ä¸ªæ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€å¼•ç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;hello&quot;</span>.<span class="keyword">to</span><span class="constructor">_string()</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line">println!(<span class="string">&quot;a: &#123;:?&#125;&quot;</span>, a); <span class="comment">// æç¤ºæŠ¥é”™ï¼švalue borrowed here after move</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬æŠŠ a å¯¹åº”çš„æ•°æ®çš„æ‰€æœ‰æƒç»™åˆ°äº† bï¼Œä¹Ÿå°±æ˜¯è¯´ a ä¸å†æ‹¥æœ‰å¯¹åº”çš„æ•°æ®çš„æ‰€æœ‰æƒï¼Œå› æ­¤ä¹Ÿæ— æ³•è®¿é—®ï¼Œ<strong>è¿™ç§æœºåˆ¶ä¿è¯äº†æ•°æ®å®‰å…¨ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¿å…æ‚¬å‚æŒ‡é’ˆçš„å‘ç”Ÿ</strong>ã€‚</p><p>å½“ç„¶ï¼Œå¯¹äºå®ç°äº† Copyï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨æ ˆä¸Šé¢çš„ç®€å•æ•°æ®ç±»å‹ï¼‰ï¼Œåœ¨èµ‹å€¼é˜¶æ®µä¼šè‡ªåŠ¨æ‹·è´ï¼Œæˆ–è€…å¯¹äºæ²¡æœ‰å®ç° Copyï¼Œä½†æ˜¯å®ç°äº† Cloneï¼ˆéœ€è¦ä¸»åŠ¨è°ƒç”¨ï¼‰çš„ç±»å‹æˆ‘ä»¬æ˜¾å¼è°ƒç”¨ Cloneï¼Œéƒ½å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œè¿™äº›è®¾è®¡ç»™æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘ä¸­å¸¦æ¥äº†æå¤§çš„ä¾¿åˆ©ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">i32</span> = <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;a: &#123;:?&#125;&quot;</span>, a); <span class="comment">// pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;hello&quot;</span>.to_string();</span><br><span class="line"><span class="keyword">let</span> b = a.clone();</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;a: &#123;:?&#125;&quot;</span>, a); <span class="comment">// pass</span></span><br></pre></td></tr></table></figure><h3 id="æ™ºèƒ½æŒ‡é’ˆ"><a href="#æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="æ™ºèƒ½æŒ‡é’ˆ"></a>æ™ºèƒ½æŒ‡é’ˆ</h3><p>åœ¨ Rust ä¸­ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¹¶æ²¡æœ‰ç©ºæŒ‡é’ˆçš„æ¦‚å¿µï¼Œå¹¶ä¸åƒ c++ æœ‰ nullptrã€java æœ‰ nullï¼ŒRust ä¸­å¦‚æœè¡¨ç¤ºä¸€ä¸ªå¯ç©ºçš„å†…å®¹åªèƒ½ä½¿ç”¨ Optionï¼ˆæœ‰ç‚¹ç±»ä¼¼ C++ çš„ std::optionalï¼‰ã€‚</p><p>é™¤äº† Optionï¼ŒRust è¿˜å°è£…äº†è‹¥å¹²ç§é«˜çº§æŒ‡é’ˆï¼Œå¹¶å¯¹ä¸åŒç±»å‹çš„æŒ‡é’ˆçš„è¡Œä¸ºè¿›è¡Œé™åˆ¶ï¼Œä»¥æé«˜å…¶å®‰å…¨æ€§ï¼š</p><ul><li>Boxï¼šç”¨äºåœ¨å †ä¸Šå­˜å‚¨æ•°æ®ï¼Œ<strong>å•ä¸€æ‰€æœ‰æƒ</strong>ï¼ˆå³ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šå­˜åœ¨ä¸€ä¸ªæŒ‡é’ˆä¹±é£çš„æƒ…å†µï¼‰ï¼Œå¯ä»¥ç”¨äºå°è£…åœ¨ç¼–è¯‘æ—¶æœªçŸ¥å¤§å°çš„ç±»å‹ã€‚</li><li>Rcï¼šå¼•ç”¨è®¡æ•°æŒ‡é’ˆï¼Œä¸æ”¯æŒå¤šçº¿ç¨‹</li><li>Arcï¼šå¤šçº¿ç¨‹ç‰ˆæœ¬çš„å¼•ç”¨è®¡æ•°æŒ‡é’ˆ</li><li>RefCellï¼šä¿æŒå†…éƒ¨å¯å˜æ€§çš„æŒ‡é’ˆï¼Œå³æˆ‘ä»¬å¦‚æœå¸Œæœ›å¤šä¸ªæ‰€æœ‰è€…å…±åŒæ‹¥æœ‰å¹¶ä¸”éƒ½å¯ä»¥ä¿®æ”¹çš„æŒ‡é’ˆï¼Œéœ€è¦ç»“åˆ Rc æˆ– Arc åŠ  RefCell ä¸€èµ·ä½¿ç”¨ã€‚â€˜</li></ul><p>Rust è¿˜æä¾›äº†ä¸€äº›å…¶ä»–ç±»å‹çš„æ™ºèƒ½æŒ‡é’ˆï¼Œåœ¨è¿™é‡Œä¸å†è¿‡å¤šä»‹ç»ï¼Œè™½ç„¶è¿™é‡Œçš„å¤§éƒ¨åˆ†æ¦‚å¿µ c++ ä¹Ÿå­˜åœ¨ï¼Œä½†æ˜¯ Rust åŸºæœ¬åªèƒ½æ˜¯å¼ºåˆ¶ä½ ä½¿ç”¨è¿™äº›å†…å®¹ï¼Œè€Œæ— æ³•ä½¿ç”¨ä¸å®‰å…¨çš„è£¸æŒ‡é’ˆã€‚</p><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>Rust ä¸­çš„å¤šæ€æœ‰åŸºäºæ³›å‹çš„é™æ€æ´¾å‘å’ŒåŸºäº trait çš„åŠ¨æ€æ´¾å‘ã€‚</p><ul><li>é™æ€æ´¾å‘ï¼šæ˜¯ä¸€ç§é›¶æˆæœ¬æŠ½è±¡ï¼Œåœ¨ C++ ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ¦‚å¿µï¼Œé™æ€æ´¾å‘æ˜¯é€šè¿‡å¯¹ä¸åŒç±»å‹çš„è°ƒç”¨åœ¨ç¼–è¯‘æœŸé—´ç”Ÿæˆä¸åŒç‰ˆæœ¬çš„ä»£ç æ¥å®ç°çš„ï¼Œä¸ä¼šå¼•å…¥è¿è¡Œæ—¶å¼€é”€ï¼ˆä½†è¯·æ³¨æ„å¯èƒ½ä¼šé€ æˆä»£ç ä½“ç§¯è†¨èƒ€ï¼‰ã€‚</li><li>åŠ¨æ€æ´¾å‘ï¼šæœ‰äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šå˜é‡çš„å®é™…ç±»å‹ï¼Œè¿›è€Œæ— æ³•ç¡®å®šå…¶å ç”¨å†…å­˜å¤§å°ï¼ŒRust ä¹Ÿæä¾›äº† trait æœºåˆ¶æ¥å®ç°åŠ¨æ€æ´¾å‘ï¼ŒåŒæ—¶ Rust å°†æ­¤ç±» trait ä½¿ç”¨ dyn è¿›è¡Œæ˜¾å¼æŒ‡å®šï¼š</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€æ´¾å‘ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Speak</span></span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">hello</span></span>(&amp;<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Human</span></span>;</span><br><span class="line"><span class="keyword">impl</span> Speak <span class="keyword">for</span> Human &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">hello</span></span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;hello, I am a Human&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">test_hello</span></span>(someone: <span class="built_in">Box</span>&lt;<span class="keyword">dyn</span> Speak&gt;) &#123;</span><br><span class="line">    someone.hello();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> human = Human &#123;&#125;;</span><br><span class="line">    test_hello(<span class="built_in">Box</span>::new(human));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®"><a href="#å®" class="headerlink" title="å®"></a>å®</h3><p>Rust ä¸­çš„å®çš„èƒ½åŠ›éå¸¸å¼ºå¤§ï¼Œå…¶ä¸åŒäº C/C++ ä¸­çš„å®ç®€å•åœ°æŒ‰å­—ç¬¦ä¸²æ›¿æ¢ä»£ç ï¼Œè€Œæ˜¯åŸºäºè¯­æ³•æ ‘è¿›è¡Œæ“ä½œï¼Œåœ¨ç¼–è¯‘é˜¶æ®µè¢«å±•å¼€æˆæºä»£ç è¿›è¡ŒåµŒå…¥ã€‚</p><p>å…·ä½“ Rust ä¸­çš„å®ä¹Ÿåˆ†ä¸ºå£°æ˜å®å’Œè¿‡ç¨‹å®ï¼Œèƒ½å¤Ÿå®ç°çš„éœ€æ±‚éå¸¸å¤šæ ·ï¼Œåœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®çš„ä½¿ç”¨è§£æ”¾ç”Ÿäº§åŠ›ï¼Œå¹¶ä¸”ä½¿ä»£ç æ›´æ¸…æ™°ã€‚ä¸è¿‡ï¼Œå®è¿™ä¸€éƒ¨åˆ†çš„å…·ä½“å­¦ä¹ ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œåœ¨è¿™é‡Œä¾¿ä¸å†è¿›è¡Œä¸¾ä¾‹ã€‚</p><hr><p>ç»¼åˆæ¥è¯´ï¼ŒRust ä½œä¸ºä¸€ä¸ªæ¯”è¾ƒå…ˆè¿›çš„è¯­è¨€ï¼Œæ²¡æœ‰å¤ªå¤šçš„å†å²åŒ…è¢±ï¼Œä»å„ä¸ªè¯­è¨€ä¸­å¸æ”¶äº†ä¸å°‘çš„ä¼˜è´¨ç‰¹æ€§ï¼Œæ¯”è¾ƒé€‚åˆæˆ‘ä»¬åœ¨æ–°é¡¹ç›®çš„æŠ€æœ¯é€‰å‹ä¸­ä½œä¸ºä¸€ä¸ªè€ƒè™‘å› ç´ ã€‚</p><h2 id="å¦‚ä½•å¼€å§‹å­¦ä¹ -rust"><a href="#å¦‚ä½•å¼€å§‹å­¦ä¹ -rust" class="headerlink" title="å¦‚ä½•å¼€å§‹å­¦ä¹  rust"></a>å¦‚ä½•å¼€å§‹å­¦ä¹  rust</h2><h3 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h3><p>rust æœ¬èº«çš„æ–‡æ¡£å’Œå­¦ä¹ èµ„æ–™å®˜æ–¹æä¾›çš„æ¯”è¾ƒå…¨é¢ï¼Œä¸€ä¸ªå¿…è¯»çš„å†…å®¹æ˜¯<a href="https://doc.rust-lang.org/book/">â€œThe Rust Programming Languageâ€</a>ã€‚</p><p>ä¸è¿‡ï¼Œrust çš„å®˜æ–¹æ–‡æ¡£è¯»èµ·æ¥å¯èƒ½ç•¥æœ‰æ¯ç‡¥ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å»ºè®®å¯ä»¥å…ˆå¼€å§‹è¯»<em>å¼ æ±‰ä¸œ</em>çš„ã€ŠRust ç¼–ç¨‹ä¹‹é“ã€‹ï¼Œç›¸å¯¹æ¥è¯´æ›´åŠ æ·±å…¥æµ…å‡ºï¼Œä¸è¿‡è¿˜æ˜¯åç»­è¿˜æ˜¯å»ºè®®è¯»ä¸€éæ–‡æ¡£ã€‚</p><h3 id="é¡¹ç›®åº”ç”¨"><a href="#é¡¹ç›®åº”ç”¨" class="headerlink" title="é¡¹ç›®åº”ç”¨"></a>é¡¹ç›®åº”ç”¨</h3><p>åœ¨æˆ‘ä»¬å°†ä¸Šè¿°å†…å®¹è¯»å®Œä¹‹åï¼ˆå¦‚æœæ¯å¤©ä¸¤ä¸ªå°æ—¶çš„è¯ï¼Œå¤§çº¦éœ€è¦ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼‰ï¼Œå…·å¤‡äº†ä¸€å®šçš„ Rust è¯­è¨€åŸºç¡€ï¼Œå¯èƒ½éœ€è¦æ€è€ƒä¸‹å¦‚ä½•åœ¨ç°æœ‰é¡¹ç›®ä¸­è½åœ°ï¼Œæˆ‘ä¸ªäººçš„ä¸€ä¸ªå»ºè®®æ˜¯ï¼š</p><ul><li>å¦‚æœç°æœ‰é¡¹ç›®æ˜¯å web çš„ï¼Œå¯ä»¥å…ˆè€ƒè™‘é€šè¿‡ wasm æ¥è½åœ°ï¼Œç›¸å¯¹æ¥è¯´ä¸Šæ‰‹æˆæœ¬å¾ˆä½ï¼Œæˆ‘ä¹‹å‰ä¹Ÿå¯¹<a href="https://zhuanlan.zhihu.com/p/104299612">å…¥é—¨ Rust å¼€å‘ WebAssembly</a>æœ‰æ‰€æ€»ç»“ã€‚</li><li>å¦‚æœç°æœ‰é¡¹ç›®æ˜¯å native çš„ï¼Œå¯ä»¥è€ƒè™‘å°†éƒ¨åˆ†æ–°æ¨¡å—ã€æˆ–è€… crash å‘Šè­¦æ¯”è¾ƒå¤šçš„é€»è¾‘éƒ¨åˆ†ï¼Œä½¿ç”¨ rust å®ç°å¹¶ä¸”é€šè¿‡ C FFI å’Œç°æœ‰æ¨¡å—è¿›è¡Œäº¤äº’ï¼Œæ¸è¿›å¼å¼•å…¥ Rust æŠ€æœ¯æ ˆã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ–‡å¸Œæœ›ä»å®è§‚è§’åº¦ï¼Œæ¥ä»‹ç»å’Œåˆ†æ Rust è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;Rust æ˜¯ä¸€é—¨&lt;strong&gt;ä¸“æ³¨å®‰å…¨&lt;/strong&gt;çš„ç°ä»£ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼Œå‘å¸ƒäº 2015 å¹´ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªä» 2015 å¹´å‘å¸ƒèµ·ï¼ŒRust å°±ä¸€ç›´æ˜¯ StackOverFlow ä¸Šé¢æœ€å—æ¬¢è¿çš„è¯­è¨€</summary>
      
    
    
    
    
    <category term="Rust" scheme="https://z4ynadmin.github.io/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›æ€§èƒ½ç›¸å…³çš„ JavaScript ä»£ç ç¼–å†™å»ºè®®è§„èŒƒ</title>
    <link href="https://z4ynadmin.github.io/2021/08/29/%E4%B8%80%E4%BA%9B%E6%80%A7%E8%83%BD%E7%9B%B8%E5%85%B3%E7%9A%84%20JavaScript%20%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E5%BB%BA%E8%AE%AE%E8%A7%84%E8%8C%83/"/>
    <id>https://z4ynadmin.github.io/2021/08/29/%E4%B8%80%E4%BA%9B%E6%80%A7%E8%83%BD%E7%9B%B8%E5%85%B3%E7%9A%84%20JavaScript%20%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E5%BB%BA%E8%AE%AE%E8%A7%84%E8%8C%83/</id>
    <published>2021-08-29T05:59:00.000Z</published>
    <updated>2022-11-04T07:11:09.555Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å¯¹ä¸€äº›æ—¥å¸¸ç¼–å†™ JavaScript çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›æœ‰åŠ©äºæé«˜ä»£ç æ€§èƒ½çš„è§„èŒƒè¿›è¡Œç½—åˆ—ã€‚</p><blockquote><p>æœ¬æ–‡æ¯”è¾ƒé›¶ç¢ï¼Œä¸ä½œä¸ºè§„èŒƒæè®®ï¼Œä»…ä½œä¸ºäº¤æµå‚è€ƒã€‚</p></blockquote><h3 id="1-ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå‡å°‘ä¸­é—´å˜é‡ã€‚"><a href="#1-ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå‡å°‘ä¸­é—´å˜é‡ã€‚" class="headerlink" title="1. ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå‡å°‘ä¸­é—´å˜é‡ã€‚"></a>1. ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå‡å°‘ä¸­é—´å˜é‡ã€‚</h3><p>å¯¹äºä¸€äº›æ¯”å¦‚å˜é‡æ›¿æ¢çš„åœºæ™¯ï¼Œæˆ‘ä»¬ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå¯ä»¥çœç•¥ä¸­é—´å˜é‡ï¼Œæ•´ä½“ä»£ç ä¹Ÿä¼šæ›´åŠ æ¸…æ™°ã€‚</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span> = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span> = <span class="number">4</span>;</span><br><span class="line">[b, a] = [a, b];</span><br></pre></td></tr></table></figure><h3 id="2-é€šè¿‡æ¡ä»¶åˆ¤æ–­æå‰è¿”å›"><a href="#2-é€šè¿‡æ¡ä»¶åˆ¤æ–­æå‰è¿”å›" class="headerlink" title="2. é€šè¿‡æ¡ä»¶åˆ¤æ–­æå‰è¿”å›"></a>2. é€šè¿‡æ¡ä»¶åˆ¤æ–­æå‰è¿”å›</h3><p>è¿™é‡Œä¸»è¦æ˜¯æé†’å¤§å®¶å¦‚ä½•å†™å¥½ if è¯­å¥ã€‚</p><p>å®é™…ä¸Šï¼Œ åœ¨ç¼–å†™å¤æ‚çš„ if è¯­å¥ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘æ˜¯å¦å¯ä»¥<strong>é€»è¾‘å¤–åŒ–</strong>ï¼š</p><p>å³å°½å¯èƒ½çš„å°†ä»£ç çš„å¤æ‚é€»è¾‘å‘å¤–æ¨ï¼Œä¾‹å¦‚æŠ½ç¦»æˆå¤šä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯åœ¨ç¨‹åºé‡Œé¢è¿›è¡Œè¿‡å¤šåˆ¤æ–­ã€‚æœ‰ä¸€ç§æ¯”è¾ƒå…¸å‹çš„ä¸åˆç†çš„é‡ç”¨æ˜¯æŠŠå¤§é‡çš„é€»è¾‘éƒ½å †å åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç„¶åæä¾›ä¸€ä¸ªå¾ˆå¤æ‚çš„åŠŸèƒ½ã€‚æˆ‘è®¤ä¸ºæ›´å¥½çš„åšæ³•åº”å½“æ˜¯åˆ†ç¦»æˆæ›´å¤šçš„æ¨¡å—ã€‚</p><p>ç»è¿‡ä»¥ä¸Šæ€è€ƒä¹‹åï¼Œæˆ‘ä»¬å¯èƒ½è¿˜æœ‰ä¸€äº› if è¯­å¥ï¼Œä¸€èˆ¬çš„åŸåˆ™æ˜¯ï¼š</p><ul><li>if è¯­å¥å…ˆç®€å•ï¼Œåå¤æ‚ã€‚</li><li>if è¯­å¥ï¼Œå¯ä»¥æå‰è¿”å›å³æå‰è¿”å›ï¼Œå‡å°‘å¤æ‚çš„åµŒå¥—ã€‚</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> nice:</span><br><span class="line"><span class="keyword">if</span> (condition1) &#123;</span><br><span class="line">  <span class="regexp">//</span> <span class="keyword">do</span> something</span><br><span class="line">  return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition2) &#123;</span><br><span class="line">  <span class="regexp">//</span> <span class="keyword">do</span> something</span><br><span class="line">  return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">other_function();</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> bad:</span><br><span class="line"><span class="keyword">if</span> (condition1) &#123;</span><br><span class="line">  <span class="regexp">//</span> <span class="keyword">do</span> something</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (condition2) &#123;</span><br><span class="line">    <span class="regexp">//</span> <span class="keyword">do</span> something</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    other_function();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å°½é‡é¿å…åœ¨å¾ªç¯ä½“å†…åŒ…è£¹å‡½æ•°è¡¨è¾¾å¼"><a href="#3-å°½é‡é¿å…åœ¨å¾ªç¯ä½“å†…åŒ…è£¹å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="3. å°½é‡é¿å…åœ¨å¾ªç¯ä½“å†…åŒ…è£¹å‡½æ•°è¡¨è¾¾å¼"></a>3. å°½é‡é¿å…åœ¨å¾ªç¯ä½“å†…åŒ…è£¹å‡½æ•°è¡¨è¾¾å¼</h3><p>å‡½æ•°è¡¨è¾¾å¼ä¼šç”Ÿæˆå¯¹åº”çš„å‡½æ•°å¯¹è±¡ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å¾ªç¯ä½“å†…å»åšè¿™ä¸ªäº‹æƒ…ï¼Œå¾ˆå¯èƒ½ä¼šé€ æˆé¢å¤–çš„æµªè´¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nice:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> len = nodelist.length;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i += <span class="number">1</span>) &#123;</span><br><span class="line">  addListener(nodelist[i], callback);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad:</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nodelist.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">  addListener(nodelist[i], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å¯¹å¾ªç¯ä½“å†…çš„ä¸å˜å€¼ï¼Œåœ¨å¾ªç¯ä½“å¤–ä½¿ç”¨ç¼“å­˜"><a href="#4-å¯¹å¾ªç¯ä½“å†…çš„ä¸å˜å€¼ï¼Œåœ¨å¾ªç¯ä½“å¤–ä½¿ç”¨ç¼“å­˜" class="headerlink" title="4. å¯¹å¾ªç¯ä½“å†…çš„ä¸å˜å€¼ï¼Œåœ¨å¾ªç¯ä½“å¤–ä½¿ç”¨ç¼“å­˜"></a>4. å¯¹å¾ªç¯ä½“å†…çš„ä¸å˜å€¼ï¼Œåœ¨å¾ªç¯ä½“å¤–ä½¿ç”¨ç¼“å­˜</h3><p>è¿™ä¸€æ¡å…¶å®æ˜¯å¯¹ä¸Šä¸€æ¡çš„è¡¥å……ï¼Œå®é™…ä¸Šæ˜¯åŒæ ·çš„åŸç†ï¼Œå³å¸Œæœ›æˆ‘ä»¬åœ¨å¾ªç¯ä½“å†…å°½é‡ä¿æŒé€»è¾‘çš„ç®€å•ï¼Œå‡å°‘é‡å¤çš„ cpu æ—¶é—´å’Œå†…å­˜çš„æ¶ˆè€—ã€‚</p><h3 id="5-æ¸…ç©ºæ•°ç»„ä½¿ç”¨-length-0"><a href="#5-æ¸…ç©ºæ•°ç»„ä½¿ç”¨-length-0" class="headerlink" title="5. æ¸…ç©ºæ•°ç»„ä½¿ç”¨ .length = 0"></a>5. æ¸…ç©ºæ•°ç»„ä½¿ç”¨ .length = 0</h3><p>è¿™æ ·å†™å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬æ¸…ç©ºä¸€ä¸ª const æ•°ç»„ã€‚</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="comment">// å¦‚æœä½¿ç”¨ a = [] ä¼šæŠ¥é”™</span></span><br><span class="line">a.<span class="built_in">length</span> = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h3 id="6-ä¸å¾—ä¸ºäº†ç¼–å†™æ–¹ä¾¿ï¼Œå°†å¹¶è¡Œçš„-io-ä¸²è¡ŒåŒ–"><a href="#6-ä¸å¾—ä¸ºäº†ç¼–å†™æ–¹ä¾¿ï¼Œå°†å¹¶è¡Œçš„-io-ä¸²è¡ŒåŒ–" class="headerlink" title="6. ä¸å¾—ä¸ºäº†ç¼–å†™æ–¹ä¾¿ï¼Œå°†å¹¶è¡Œçš„ io ä¸²è¡ŒåŒ–"></a>6. ä¸å¾—ä¸ºäº†ç¼–å†™æ–¹ä¾¿ï¼Œå°†å¹¶è¡Œçš„ io ä¸²è¡ŒåŒ–</h3><p>è™½ç„¶ç°åœ¨ JavaScript æœ‰äº† async/awaitï¼Œä½†æ˜¯æˆ‘å‘ç°å¾ˆå¤šåŒå­¦ä¼šå¯¹æ­¤æ»¥ç”¨ï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„æ¸…ç©ºå°±æ˜¯å°†å¯ä»¥å¹¶è¡Œçš„æ“ä½œä¸²è¡ŒåŒ–äº†:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">let</span> res<span class="number">1</span> = await process<span class="number">1</span>();</span><br><span class="line"><span class="attribute">let</span> res<span class="number">2</span> = await process<span class="number">2</span>();</span><br><span class="line"><span class="attribute">next</span>(res<span class="number">1</span>, res<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œè™½ç„¶å†™ä»£ç æ–¹ä¾¿ï¼Œä½†æ˜¯è¿™æ ·å†™æ˜¯ä¸å¯å–çš„ï¼ŒPromise æä¾›äº†è‹¥å¹²çš„æ–¹ä¾¿æˆ‘ä»¬å¤„ç†å¹¶è¡Œä»»åŠ¡çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise#">æ–¹æ³•</a>ï¼Œæˆ‘è®¤ä¸ºè¿™äº›éƒ½æ˜¯å¿…é¡»è¦äº†è§£çš„ã€‚</p><h3 id="7-ç¦æ­¢ç›´æ¥ä½¿ç”¨-eval"><a href="#7-ç¦æ­¢ç›´æ¥ä½¿ç”¨-eval" class="headerlink" title="7. ç¦æ­¢ç›´æ¥ä½¿ç”¨ eval"></a>7. ç¦æ­¢ç›´æ¥ä½¿ç”¨ eval</h3><p>eval çš„å®‰å…¨æ€§éå¸¸å·®ï¼Œäº‹å®ä¸Šæœ‰å¾ˆå¤šå·²çŸ¥çš„ xss ç­‰æ¼æ´éƒ½å’Œ eval æœ‰å…³ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®é™…åœºæ™¯ä¸­é¿å…ä½¿ç”¨ evalã€‚</p><p>å¦‚ä¸‹ä¸ºä¸€ä¸ªä¾‹å­ï¼Œä½¿ç”¨äº† eval å‡½æ•°ï¼Œç”±äºå…¶æ‰§è¡Œä»£ç çš„ä½œç”¨åŸŸä¸ºæœ¬åœ°ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¯¹æˆ‘ä»¬çš„æœ¬åœ°å˜é‡è¿›è¡Œäº†ä¿®æ”¹å¹¶ä¸”å¯ä»¥ç”Ÿæ•ˆï¼š</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">tip</span> = <span class="string">&quot;è¯·é‡æ–°ç™»å½•&quot;</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">otherCode</span> = `<span class="attr">tip</span> = <span class="string">&quot;è¯·å‰å¾€ xxx.com é‡æ–°ç™»å½•&quot;</span>`</span><br><span class="line">eval(otherCode);</span><br></pre></td></tr></table></figure><p>ä¸€äº›å–ä»£æ–¹å¼ï¼š</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>new Function</code> çš„æ–¹å¼æ¥ä»£æ›¿ evalï¼Œè¿™æ ·è‡³å°‘å¯ä»¥è¿›è¡Œä½œç”¨åŸŸçš„éš”ç¦»ï¼Œç›¸å¯¹ä¼šå®‰å…¨ä¸€äº›ï¼ˆä½†æ˜¯è¯·æ³¨æ„å…¶ä»ç„¶ä¼šå¯èƒ½å½±å“åˆ°å…¨å±€å˜é‡ï¼‰ã€‚</p><h3 id="8-æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨-document-allã€document-querySelectorAll"><a href="#8-æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨-document-allã€document-querySelectorAll" class="headerlink" title="8. æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨ document.allã€document.querySelectorAll"></a>8. æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨ document.allã€document.querySelectorAll</h3><p>ç±»ä¼¼çš„ all ç›¸å…³æ“ä½œéƒ½è¦é¿å…ä½¿ç”¨ï¼Œç”±äºæˆ‘ä»¬å¾ˆéš¾æ§åˆ¶éšç€é¡¹ç›®å‘å±•å†…å®¹ä¼šæœ‰å¤šå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½ä¸€å¼€å§‹å°±ä¸è¦ç•™ä¸‹éšç€é¡¹ç›®å†…å®¹å¢åŠ æ€§èƒ½è¶Šæ¥è¶Šå·®çš„éšæ‚£ã€‚</p><h3 id="9-è·å–å…ƒç´ çš„æ ·å¼ï¼Œå°½é‡ä½¿ç”¨-getComputedStyle-æˆ–-currentStyle"><a href="#9-è·å–å…ƒç´ çš„æ ·å¼ï¼Œå°½é‡ä½¿ç”¨-getComputedStyle-æˆ–-currentStyle" class="headerlink" title="9. è·å–å…ƒç´ çš„æ ·å¼ï¼Œå°½é‡ä½¿ç”¨ getComputedStyle æˆ– currentStyle"></a>9. è·å–å…ƒç´ çš„æ ·å¼ï¼Œå°½é‡ä½¿ç”¨ getComputedStyle æˆ– currentStyle</h3><p>é€šè¿‡ style åªèƒ½è·å¾—å†…è”å®šä¹‰æˆ–é€šè¿‡ JavaScript ç›´æ¥å®šä¹‰çš„æ ·å¼ï¼Œé€šè¿‡ CSS class è®¾ç½®çš„æ ·å¼æ— æ³•ç›´æ¥è·å–ã€‚</p><h3 id="10-å°½å¯èƒ½é€šè¿‡ä¸ºå…ƒç´ æ·»åŠ é¢„å®šä¹‰çš„-ClassName-æ¥æ”¹å˜å…ƒç´ æ ·å¼ï¼Œé¿å…ç›´æ¥æ“ä½œ-style-è¿›è¡Œè®¾ç½®ã€‚"><a href="#10-å°½å¯èƒ½é€šè¿‡ä¸ºå…ƒç´ æ·»åŠ é¢„å®šä¹‰çš„-ClassName-æ¥æ”¹å˜å…ƒç´ æ ·å¼ï¼Œé¿å…ç›´æ¥æ“ä½œ-style-è¿›è¡Œè®¾ç½®ã€‚" class="headerlink" title="10. å°½å¯èƒ½é€šè¿‡ä¸ºå…ƒç´ æ·»åŠ é¢„å®šä¹‰çš„ ClassName æ¥æ”¹å˜å…ƒç´ æ ·å¼ï¼Œé¿å…ç›´æ¥æ“ä½œ style è¿›è¡Œè®¾ç½®ã€‚"></a>10. å°½å¯èƒ½é€šè¿‡ä¸ºå…ƒç´ æ·»åŠ é¢„å®šä¹‰çš„ ClassName æ¥æ”¹å˜å…ƒç´ æ ·å¼ï¼Œé¿å…ç›´æ¥æ“ä½œ style è¿›è¡Œè®¾ç½®ã€‚</h3><p>ç›´æ¥æ“ä½œ styleï¼Œä¼šæ¯”è¾ƒæ··ä¹±ï¼Œè€Œä¸”æœ‰çš„æ—¶å€™è¿˜ä¼šå¿˜è®°å†™å•ä½ï¼Œå¯¼è‡´å®é™…ä¸Šä¸ç®¡ç”¨ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ–‡å¯¹ä¸€äº›æ—¥å¸¸ç¼–å†™ JavaScript çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›æœ‰åŠ©äºæé«˜ä»£ç æ€§èƒ½çš„è§„èŒƒè¿›è¡Œç½—åˆ—ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡æ¯”è¾ƒé›¶ç¢ï¼Œä¸ä½œä¸ºè§„èŒƒæè®®ï¼Œä»…ä½œä¸ºäº¤æµå‚è€ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1-ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œå‡å°‘ä¸­é—´å˜é‡ã€‚&quot;&gt;&lt;a </summary>
      
    
    
    
    
    <category term="javascript" scheme="https://z4ynadmin.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è®©ä½ çš„ç²¾åŠ›æ›´å¤šçš„ç”¨äºæé«˜æŠ€æœ¯æ·±åº¦</title>
    <link href="https://z4ynadmin.github.io/2021/07/26/%E5%A6%82%E4%BD%95%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%B2%BE%E5%8A%9B%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%94%A8%E4%BA%8E%E6%8F%90%E9%AB%98%E6%8A%80%E6%9C%AF%E6%B7%B1%E5%BA%A6/"/>
    <id>https://z4ynadmin.github.io/2021/07/26/%E5%A6%82%E4%BD%95%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%B2%BE%E5%8A%9B%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%94%A8%E4%BA%8E%E6%8F%90%E9%AB%98%E6%8A%80%E6%9C%AF%E6%B7%B1%E5%BA%A6/</id>
    <published>2021-07-26T15:42:20.000Z</published>
    <updated>2022-11-04T07:11:09.558Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/395177123">çŸ¥ä¹ç‰ˆæœ¬</a></p><p>é¢˜ç›®æ‰€è¿°ï¼Œå°±æ˜¯æˆ‘æœ€è¿‘å¾ˆä¹…ä¸€æ®µæ—¶é—´éƒ½åœ¨ç”¨æ¥æ€è€ƒçš„é—®é¢˜ã€‚</p><p>å…ˆè¯´ä¸‹ä¸ªäººçš„èƒŒæ™¯ï¼Œç›®å‰å·²ç»æ¯•ä¸šä¸‰å¹´ï¼Œç¬¬ä¸€å¹´ä¸»è¦åšå‰ç«¯å¼€å‘ï¼Œå¤§çº¦åœ¨ä¸¤å¹´å‰ï¼Œæˆ‘çš„ä¸»è¦ç²¾åŠ›ä»å‰ç«¯è½¬å‘äº† Rustï¼Œè€Œååˆå¼€å§‹åœ¨å…¬å¸å‚ä¸å¼€å‘ c++ã€‚</p><p>åœ¨è¿™ä¸‰å¹´é‡Œé¢ï¼Œè‡ªå·±æŒç»­é¢ä¸´ç€ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•ä»ä¸€ä¸ªç¹å¿™è€Œé‡å¤çš„å·¥ä½œä¸­ï¼ŒæŒç»­æå‡è‡ªå·±çš„æŠ€æœ¯æ·±åº¦ã€‚</p><p>å› ä¸ºæˆ‘å‘ç°ï¼Œå½“åœ¨ä¸€ä¸ªå…¬å¸ä¹…äº†ä»¥åï¼Œéšç€å‚ä¸çš„ä¸šåŠ¡å¢å¤šï¼Œé—®é¢˜å’Œ OnCall ä¹Ÿéšä¹‹å¢å¤šï¼Œå¦å¤–éšç€ä½ å¯¹ä¸šåŠ¡çš„ç†Ÿæ‚‰ï¼Œä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„æ–°åŒå­¦å‘ä½ é—®é—®é¢˜ã€‚å¤„ç†è¿™äº›é—®é¢˜ä¼šå æ®è¶Šæ¥è¶Šå¤šçš„ç²¾åŠ›ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ¯”è¾ƒâ€œå¹¸è¿â€ä¸­é€”ä¸šåŠ¡é»„æ‰æˆ–æ¶æ„å½»åº•å˜åŒ–äº†ï¼Œä½ å»å‚ä¸æ–°çš„é¡¹ç›®ï¼Œæœ‰å¯èƒ½èƒ½è·å¾—ä¸€æ¬¡æ¥è¿‘é‡æ–°å¼€å§‹çš„æœºä¼šï¼Œä½†å¤§å¤šæ•°æ—¶å€™ï¼Œä½ å¯èƒ½éƒ½æ²¡æœ‰è¿™ä¹ˆå¹¸è¿ã€‚</p><p>å½“è¿™äº›é—®é¢˜å¤„ç†çš„ä¹…äº†ä»¥åï¼Œä½ ä¼šå‘ç°ç”šè‡³è¿å®Œæˆå·¥ä½œéƒ½éœ€è¦åŠ ç­æ¥è§£å†³ï¼Œå°±æ›´æ²¡æœ‰æ—¶é—´æ¥è¿›è¡ŒæŠ€æœ¯çš„æå‡äº†ï¼Œé•¿æ­¤ä»¥å¾€ï¼Œç„¦è™‘æ„Ÿä¾¿å€å¢ã€‚</p><p>ä¸è¿‡ï¼Œæœ€è¿‘æˆ‘åœ¨æ€è€ƒè¿™äº›é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ¸æ¸æ€»ç»“äº†ä¸€äº›ç¼“è§£çš„åŠæ³•ï¼Œæ¥ä¸‹æ¥ä¾¿å’Œå¤§å®¶è¿›è¡Œåˆ†äº«ã€‚</p><p><strong>è¿™é‡Œçš„æ ¸å¿ƒç‚¹åœ¨äºï¼Œå‡å°‘çŠ¯é”™è¯¯çš„æœºä¼šï¼Œæé«˜å¤„ç†é—®é¢˜çš„æ•ˆç‡ï¼Œé‡Šæ”¾å‡ºè‡ªå·±çš„æ›´å¤šæ—¶é—´</strong></p><h2 id="1-æé«˜å¯¹ä»£ç çš„è¦æ±‚ï¼Œå†™æ›´å¥½çš„ä»£ç "><a href="#1-æé«˜å¯¹ä»£ç çš„è¦æ±‚ï¼Œå†™æ›´å¥½çš„ä»£ç " class="headerlink" title="1. æé«˜å¯¹ä»£ç çš„è¦æ±‚ï¼Œå†™æ›´å¥½çš„ä»£ç "></a>1. æé«˜å¯¹ä»£ç çš„è¦æ±‚ï¼Œå†™æ›´å¥½çš„ä»£ç </h2><p>æˆ‘æœ€è¿‘å¤„ç†çš„ä¼—å¤šé—®é¢˜ï¼Œç²—ç•¥ä¼°ç®—ï¼Œæœ‰å¤§çº¦ 1/3 éƒ½æ˜¯ç”±äºå¼€å‘è€…ä»£ç æ°´å¹³ä¸è¶³å¸¦æ¥çš„æŠ€æœ¯å€ºåŠ¡ï¼ˆå³ä»£ç é€»è¾‘é”™è¯¯ã€è¾¹ç•Œæƒ…å†µæœªè€ƒè™‘ã€æ€§èƒ½ä¸ç¨³å®šæ€§ä¸è¶³ç­‰ï¼‰ã€‚</p><p>æˆ‘è¿™é‡Œä¸»è¦é’ˆå¯¹çš„æ˜¯ PC å®¢æˆ·ç«¯ï¼Œè¿˜æœ‰å¾ˆå¤šé—®é¢˜å’Œç‰¹æ®Šæœºå™¨ã€å…¶ä»–æ¨¡å—å¹²æ‰°é¡¹ã€ç¡¬ä»¶é©±åŠ¨ç­‰å…³ç³»å¯†åˆ‡ï¼Œå¦‚æœæ˜¯çº¯å‰ç«¯é¡¹ç›®ï¼Œè¿™ä¸ªæ¯”ä¾‹åªä¼šæ›´é«˜ã€‚</p><p>å› ä¸ºå†™ä»£ç çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰é‡‡ç”¨æœ€åˆç†çš„æ–¹å¼ï¼Œå¯¼è‡´æœ‰å‡ºç°é—®é¢˜çš„éšæ‚£ï¼Œå¦‚æœä½ çš„é—®é¢˜å‡ºç°çš„æ¦‚ç‡æ¯”è¾ƒé«˜ï¼Œå¤§æ¦‚ç‡ä¼šæ¯”è¾ƒå¹¸è¿åœ°è¾ƒæ—©å‘ç°ï¼Œä½†å¦‚æœå‡ºç°çš„æ¦‚ç‡ä½ï¼Œç”šè‡³ç°åº¦é˜¶æ®µéƒ½æ²¡æœ‰æš´éœ²ï¼Œé‚£ä¹ˆå½“åˆå‡ è¡Œä»£ç çš„é—®é¢˜ï¼Œä¼šè®©è‡ªå·±ä¹‹åèŠ±åŠ å€çš„æ—¶é—´æ¥å»å¤„ç†ï¼Œç”šè‡³è¿˜å¯èƒ½é¢ä¸´æ›´å¤šåæœã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•è®©è‡ªå·±å†™å‡ºæ›´å¥½çš„ä»£ç å‘¢ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><strong>è¯·ç†Ÿè¯»æ–‡æ¡£</strong>ï¼Œæ¯”å¦‚å¦‚æœæ˜¯åœ¨å¼€å‘ Vue é¡¹ç›®ï¼Œé‚£ä¹ˆè¯·è‡³å°‘æŠŠ Vue çš„æ–‡æ¡£çœ‹ä¸€éï¼ŒReact åŒç†ï¼Œè¿™æ ·ä½ ä¼šæ›´åŠ æ¸…æ¥šï¼Œæ¡†æ¶åˆ°åº•æä¾›äº†é‚£äº›èƒ½åŠ›ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ›´åˆé€‚çš„ API æ¥å®Œæˆä¸€ä¸ªç›®æ ‡ã€‚</li><li>æ³¨é‡æ³¨é‡Šï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šå¤„ç†çš„æƒ…å†µï¼Œæ³¨é‡Šæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œæœ€å¥½é™„ä¸Šæ–‡æ¡£ï¼Œå¦åˆ™å¯èƒ½æ—¶é—´ä¹…äº†ï¼Œè‡ªå·±éƒ½ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·å»å¤„ç†ï¼Œä¼šè®©ä¿®å¤é—®é¢˜èŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€‚</li><li>é™¤éè¿«ä¸å¾—å·²ï¼Œä¸è¦æäº¤å¸¦æœ‰å·²çŸ¥ä¼˜åŒ–é¡¹çš„ä»£ç ï¼Œä¾‹å¦‚é‡å¤ä»£ç å¹¶æ²¡æœ‰å®Œå…¨å¤„ç†ã€ä»£ç åœ¨æŸäº›æƒ…å†µè¿˜å¯èƒ½é€ æˆé—®é¢˜ã€‚æ—¶é—´å…è®¸çš„æƒ…å†µä¸‹ï¼Œä¸€æ­¥åˆ°ä½ï¼Œé€šå¸¸æ¯”åˆ†ä¸¤æ¬¡åˆ°ä½èƒ½èŠ‚çº¦æ›´å¤šçš„æ—¶é—´ï¼Œè‡³å°‘èƒ½èŠ‚çº¦ä¸€æ¬¡æµ‹è¯•çš„æ—¶é—´ï¼Œå¦å¤–å¤§è„‘çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è¿˜æœ‰å¼€é”€ã€‚</li><li>CI/CD çš„å»ºè®¾ï¼Œä¿è¯åˆå¹¶çš„ä»£ç æ˜¯èƒ½å¤Ÿç¼–è¯‘çš„ã€‚</li><li>å¯¹äºå‰ç«¯æ¥è¯´ï¼Œå…¨éƒ¨é‡‡ç”¨ Typescriptï¼Œä½¿ç”¨ ESLint çº¦æŸä»£ç ï¼Œ<strong>ç¦æ­¢</strong>ç›´æ¥ä½¿ç”¨ JavaScriptã€‚</li><li>å›¢é˜Ÿéœ€è¦å»ºç«‹ Review æœºåˆ¶ï¼Œå¹¶ä¸”å¯¹ Review è¿‡ç¨‹è´Ÿè´£ã€‚å¯¹äºåˆ«äººæäº¤ Review çš„ä»£ç è‡³å°‘éœ€è¦é€šè¯»ä¸€éï¼Œé¿å…åŸºæœ¬çš„é”™è¯¯ã€‚</li></ul><h2 id="2-æ—¥å¿—æ˜¯è¯­è¨€çš„å¦ä¸€é¢ï¼Œä¹Ÿå¾ˆèƒ½ä½“ç°ä»£ç æ°´å¹³"><a href="#2-æ—¥å¿—æ˜¯è¯­è¨€çš„å¦ä¸€é¢ï¼Œä¹Ÿå¾ˆèƒ½ä½“ç°ä»£ç æ°´å¹³" class="headerlink" title="2. æ—¥å¿—æ˜¯è¯­è¨€çš„å¦ä¸€é¢ï¼Œä¹Ÿå¾ˆèƒ½ä½“ç°ä»£ç æ°´å¹³"></a>2. æ—¥å¿—æ˜¯è¯­è¨€çš„å¦ä¸€é¢ï¼Œä¹Ÿå¾ˆèƒ½ä½“ç°ä»£ç æ°´å¹³</h2><p>è¿™é‡Œçš„æ—¥å¿—ï¼ŒæŒ‡çš„æ˜¯åœ¨ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå®æ—¶ä¸Šä¼ çš„çš„æˆ–è€…ç¦»çº¿çš„æ—¥å¿—ã€‚</p><p>è¿™é‡Œå•ç‹¬æä¸€ç‚¹æ—¥å¿—ï¼Œæ˜¯å› ä¸ºåœ¨å®é™…ä¸­ï¼Œæˆ‘ä»¬å¤§çº¦æœ‰ä¸€åŠæ—¶é—´åœ¨å†™ä»£ç ï¼Œè€Œå¦å¤–ä¸€åŠæ—¶é—´åœ¨æŸ¥é—®é¢˜ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå°±ä¸èƒ½å¥½å¥½å†™æ—¥å¿—å‘¢ï¼Ÿ</p><p>â€œæ—¥å¿—ä¸è¶³/æ²¡æ‰“æ—¥å¿—ï¼Œéœ€è¦åŠ æ—¥å¿—è¿›ä¸€æ­¥å®šä½â€ã€‚</p><p>ä¸çŸ¥é“ä½ åœ¨ OnCall çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦é‡åˆ°è¿‡æ­¤ç±»å›å¤ï¼Œå½“ç„¶å¹¶ä¸èƒ½è¯´æ¯æ¬¡è¿™æ ·çš„é—®é¢˜éƒ½æ˜¯å¼€å‘è€…æ°´å¹³ä¸è¶³å¯¼è‡´æ—¥å¿—ä¸å…¨ï¼Œä½†çš„ç¡®æœ‰å¾ˆå¤šæƒ…å†µæ˜¯æˆ‘ä»¬å¯ä»¥æå‰è§„é¿çš„ã€‚</p><p>é‚£ä¹ˆä¸€ä¸ªå¥½çš„æ—¥å¿—åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><ol><li>å‰æï¼šåºŸè¯ä¸è¦å¤šï¼Œèƒ½ç®€å†™å°±ç®€å†™ï¼Œè¿™æ˜¯å› ä¸ºä¸€èˆ¬æ—¥å¿—éƒ½æ˜¯å­˜åœ¨ç”¨æˆ·æœ¬åœ°çš„ï¼Œæ—¥å¿—é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ä¼šå½±å“ç”¨æˆ·çš„ç¡¬ç›˜å ç”¨ï¼Œå½“ç„¶æ—¥å¿—æœ¬èº«çš„æ‰“å°ä¹Ÿæ˜¯æ¶ˆè€— CPU çš„ã€‚</li><li>å…³é”®è·¯å¾„çš„æ—¥å¿—è¦æœ‰ï¼Œå¯èƒ½å‡ºé—®é¢˜çš„åœ°æ–¹ä¸è¦å­˜åœ¨ä¾¥å¹¸å¿ƒç†ï¼ŒæŠŠæ—¥å¿—æ‰“å…¨ï¼Œç‰¹åˆ«æ˜¯<strong>ä¸åŒè´Ÿè´£æ¨¡å—ä¹‹é—´è¡”æ¥çš„æ—¥å¿—ï¼Œä¸€å®šæ‰“å…¨</strong>ï¼Œè¿™æ ·ä¹‹åç”©é”…çš„æ—¶å€™æœ‰å®é”¤ä¹Ÿä¼šæ–¹ä¾¿ä¸€ç‚¹ã€‚</li><li>å…³é”®æ—¥å¿—éœ€è¦æœ‰å…³é”®å­—ï¼Œæ–¹ä¾¿åé¢è‡ªåŠ¨åŒ–åˆ†æï¼Œæ¯•ç«Ÿï¼Œå¯¹äºä¸€ä¸ªæ¯”è¾ƒå®Œå–„çš„é¡¹ç›®è€Œè¨€ï¼Œæœºå™¨äººåˆ†ææ—¥å¿—ç”šè‡³æ¯”äººåˆ†ææ›´ä¸ºé è°±ã€‚</li><li>æ—¥å¿—ä¹Ÿéœ€è¦<strong>å‘å‰å…¼å®¹</strong>ï¼Œæœ€å¥½ä¸è¦å¯¹ä»¥å‰çš„æ—¥å¿—è¿›è¡Œæ”¹åŠ¨ï¼Œè¿™ç‚¹æˆ‘ä»¬å¯èƒ½é€šå¸¸ä¼šå¿½ç•¥ï¼Œå¦‚æœæ²¡æœ‰å¿…è¦ï¼Œå»ºè®®ä¸è¦å¯¹æ—¥å¿—è¿›è¡Œå¤§çš„å˜åŠ¨ï¼Œé˜²æ­¢è‡ªåŠ¨åŒ–å·¥å…·å’Œå…¶ä»–åˆ†ææ—¥å¿—çš„åŒå­¦ä¸çŸ¥æƒ…ã€‚</li></ol><p>ä»€ä¹ˆï¼Ÿä½ è¯´ä½ ä»¬å›¢é˜Ÿè¿˜æ²¡æœ‰æ—¥å¿—ç³»ç»Ÿï¼Ÿ</p><p>é‚£ä¹ˆç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¦æœ‰ä¸€ä¸ªå®Œå–„çš„ç¦»çº¿æ—¥å¿—å›æç³»ç»Ÿæˆ–åœ¨çº¿æ—¥å¿—ç³»ç»Ÿã€‚</p><h2 id="3-æ‰“ç ´è¾¹ç•Œæœ‰åŠ©äºå¼€é˜”è§†é‡ï¼Œä½†æ˜¯æ˜¯å¦æ·±å…¥éœ€è¦æ…é‡å†³å®š"><a href="#3-æ‰“ç ´è¾¹ç•Œæœ‰åŠ©äºå¼€é˜”è§†é‡ï¼Œä½†æ˜¯æ˜¯å¦æ·±å…¥éœ€è¦æ…é‡å†³å®š" class="headerlink" title="3. æ‰“ç ´è¾¹ç•Œæœ‰åŠ©äºå¼€é˜”è§†é‡ï¼Œä½†æ˜¯æ˜¯å¦æ·±å…¥éœ€è¦æ…é‡å†³å®š"></a>3. æ‰“ç ´è¾¹ç•Œæœ‰åŠ©äºå¼€é˜”è§†é‡ï¼Œä½†æ˜¯æ˜¯å¦æ·±å…¥éœ€è¦æ…é‡å†³å®š</h2><p>è™½ç„¶æœ‰çš„æ—¶å€™ï¼Œå‘˜å·¥æ‰“ç ´è¾¹ç•Œå¯¹äºå…¬å¸æ¥ä¹¦å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½äº‹æƒ…ï¼Œä½†å¤§å¤šæ•°æƒ…å†µæ¥è¯´ï¼Œå¯¹ä¸ªäººè¿˜æ˜¯ä¼šæœ‰æ‰€å¸®åŠ©çš„ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆè¯´ä¸æ˜¯ä¸€ä¸ªå¥½äº‹æƒ…å‘¢ï¼Œæ¯”å¦‚ä¸€ä¸ªå®¢æˆ·ç«¯çš„åŒå­¦ï¼Œå»åš c++ äº†ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥é¼“åŠ±è¿˜æ˜¯åå¯¹å‘¢ã€‚å®é™…ä¸Šè¿™ä¸ªæ—¶å€™ï¼Œä»–é™¤äº†ä»…å­˜çš„ä¸šåŠ¡ç†Ÿæ‚‰åº¦å’Œä¸€äº›é€šç”¨çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œc++ çš„èƒ½åŠ›ä¹Ÿè®¸å°±åªæœ‰åº”å±Šç”Ÿçš„æ°´å¹³ï¼Œå¦‚æœä»æ–°æ‹›è˜å¯èƒ½è¿åˆè¯•éƒ½è¿‡ä¸äº†ã€‚å…¬å¸å°±å¿…é¡»è¦æ‰¿æ‹…å› ä¸ºä»–çš„ç¼–ç¨‹èƒ½åŠ›ä¸ç†Ÿç»ƒå¸¦æ¥çš„æ•ˆç‡æŸå¤±ï¼Œç”šè‡³å› ä¸ºæ›´å®¹æ˜“å¼•å‘é—®é¢˜é€ æˆæ›´å¤§çš„æŸå¤±ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆè¯´ï¼Œå¯¹äºä¸ªäººæ¥è¯´æ˜¯ä¸€ä¸ªå¥½äº‹æƒ…å‘¢ï¼Œè¿™ä¸ªä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li>åœ¨å…¬å¸ä¸­å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¤šä¸ªè¯­è¨€çš„å¼€å‘è€…ç›¸äº’é…åˆçš„ï¼Œè€Œå½“ä½ åŒæ—¶å‚ä¸äº†ä½ ä¸Šæ¸¸æˆ–è€…ä¸‹æ¸¸çš„å·¥ä½œï¼Œä½ ä¼šå‘ç°æ²Ÿé€šä¼šæ›´åŠ é¡ºç•…äº†ï¼Œç”šè‡³è‡ªå·±ä¹Ÿæ‹¥æœ‰äº†ç®€å•çš„å¤„ç†éœ€æ±‚å’Œé—®é¢˜çš„èƒ½åŠ›ï¼Œåº•æ°”ä¼šé«˜å¾ˆå¤šã€‚</li><li>åœ¨ä½ å­¦ä¹ å¤šä¸ªè¯­è¨€çš„è¿‡ç¨‹ä¸­ä½ ä¼šå‘ç°ä¸€äº›ç²¾åçš„éƒ¨åˆ†ï¼Œæ¯”å¦‚é€šç”¨çš„æ¡†æ¶è®¾è®¡æ–¹æ³•ã€æ¨¡å—ç»„ç»‡æ–¹æ³•ç­‰å„ä¸ªè¯­è¨€éƒ½æ˜¯é€šç”¨çš„ï¼Œç”šè‡³æœ‰äº›ä»£ç ä½ ç›´æ¥ç¿»è¯‘è¿‡æ¥å°±å¯ä»¥ç›´æ¥ç”¨äº†ï¼Œè¿™ä¹Ÿå¯ä»¥è®©ä½ æ›´æ·±åˆ»åœ°äº†è§£åˆ°å“ªäº›æ˜¯ç¼–ç¨‹çš„ç²¾é«“ã€‚</li></ul><p>å½“ç„¶ï¼Œæœ‰çš„æ—¶å€™å¦‚æœä½ è·¨ç•Œå‚ä¸çš„å¤ªå¤šï¼Œä¾‹å¦‚æœ¬èº«æ˜¯ä¸€ä¸ªèµ„æ·±çš„å‰ç«¯å¼€å‘è€…ï¼Œå½“ä½ è·¨ç•Œå‚ä¸äº† c++ å¼€å‘ï¼Œä½ ä¼šå‘ç°çŸ­æ—¶é—´å†…ä½ çš„å‰ç«¯æ°´å¹³æ˜¯åœ¨ä¸‹é™çš„ï¼Œè€Œ c++ æ°´å¹³ä¹Ÿæ²¡æœ‰è¾¾åˆ°ç‹¬ç«‹æ‰¿æ‹…å·¥ä½œçš„ç¨‹åº¦ï¼Œè¿™çŸ­æ—¶é—´å†…ä½ çš„å¸‚åœºä»·å€¼å…¶å®æ˜¯æœ‰æ‰€ä¸‹é™çš„ï¼Œè¿™ä¹Ÿæ˜¯ä½ éœ€è¦æ…é‡è€ƒè™‘åˆ°åº•è¦å‚ä¸å¤šå°‘çš„åŸå› ä¹‹ä¸€ã€‚</p><h2 id="4-å¤æ‚ç³»ç»Ÿçš„åˆå§‹æ¶æ„è®¾è®¡ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæœ€åå…œåº•"><a href="#4-å¤æ‚ç³»ç»Ÿçš„åˆå§‹æ¶æ„è®¾è®¡ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæœ€åå…œåº•" class="headerlink" title="4. å¤æ‚ç³»ç»Ÿçš„åˆå§‹æ¶æ„è®¾è®¡ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæœ€åå…œåº•"></a>4. å¤æ‚ç³»ç»Ÿçš„åˆå§‹æ¶æ„è®¾è®¡ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæœ€åå…œåº•</h2><p>å®é™…ä¸Šï¼Œå¤æ‚çš„ç³»ç»Ÿå¤§å¤šä¸€å¼€å§‹éƒ½ä¸å¤æ‚ï¼Œä½†æ˜¯å¦‚ä½•æ­£ç¡®åœ°é¢„åˆ¤ç³»ç»Ÿçš„èµ°å‘ï¼Œè®¾è®¡å‡ºå¯ä»¥æ²¿ç”¨å¾ˆä¹…çš„åŸºç¡€éª¨æ¶ã€çº¦æŸæ€§å¼ºå´æ‰©å±•å‹è¶³å¤Ÿçš„ç»„ä»¶ç³»ç»Ÿï¼ˆå³ä½¿åæ¥æ¥çš„äººæ°´å¹³å·®ä¹Ÿä¸è‡³äºå†™å‡ºå¤ªéš¾ç»´æŠ¤çš„ä»£ç ï¼‰ï¼Œä»¥åŠå’Œå¤–ç•Œå…¶ä»–ç³»ç»Ÿè¿›è¡Œçµæ´»çš„é…åˆï¼Œæ˜¯å¯¹æ°´å¹³æœ‰ä¸€å®šçš„è€ƒéªŒçš„ã€‚</p><p>è¿™é‡Œæˆ‘ä»¥æŸè§†é¢‘ä¼šè®® App ä¸¾ä¾‹ï¼Œå…¶æœ€å¼€å§‹åªæœ‰è§†é¢‘+éŸ³é¢‘çš„ç®€å•èƒ½åŠ›ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå›¢é˜Ÿè´Ÿè´£äººè®¾è®¡å¹¶ç¼–å†™äº†åŸºäº Typescript çš„æ ¸å¿ƒçŠ¶æ€æœºã€æŒ‰ç…§ minor repo åˆ’åˆ†äº†ä¸»è¦æ¨¡å—ï¼Œè®¾è®¡äº† Store çŠ¶æ€å­˜å‚¨ï¼Œè®¾è®¡äº†ä¸€å¥— API æ³¨å…¥æ–¹å¼å¯ä»¥æ³¨å…¥ç³»ç»Ÿå¤–çš„ API ç­‰ç­‰ã€‚</p><p>è¿™å¥—æ¶æ„æ²¿ç”¨äº†ä¸‰å¹´ï¼Œæ ¸å¿ƒä»£ç åŸºæœ¬æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼ŒåŠŸèƒ½ä¸Šå´æ–°å¢äº†å…±äº«å±å¹•ã€å…±äº«ç½‘é¡µã€èŠå¤©/è¡¨æƒ…ã€æ ‡æ³¨/ç™½æ¿ã€è¿œç¨‹æ§åˆ¶ã€å­—å¹•/å½•åˆ¶/ç¿»è¯‘ã€æ—¥ç¨‹ä¼šè®®ã€é¢è¯•ç­‰è‹¥å¹²é‡è¦çš„æ¨¡å—ã€‚</p><p>è™½ç„¶å®é™…ä¸Šï¼Œéšç€åé¢çš„åŒå­¦çš„å¢å¤šï¼Œä»¥åŠæœ€åˆæ ¸å¿ƒå¼€å‘è€…çš„ç¦»èŒï¼Œå¼€å‘äººå‘˜å·²ç»å‡ ä¹æ¢äº†ä¸€æ‰¹ï¼Œä½†æ˜¯è¿™å¥—ä»£ç å’Œæ¶æ„åŸºæœ¬ä¸Šæ²¡å‘ç”Ÿå¤ªå¤šå˜åŒ–ï¼Œä¹Ÿä¸€ç›´æ”¯æ’‘ç€è‹¥å¹²é¡¹ç›®ã€‚</p><p>ï¼ˆp.s. æ®è¯´æœ€å¼€å§‹å‚ä¸è®¾è®¡çš„åŒå­¦åæ§½åé¢çš„ç»´æŠ¤æœ‰ç‚¹æ¸æ¸è·‘é¢˜ï¼Œä½†æ˜¯æ•´ä½“è¿˜æ˜¯å¯ç”¨æ€§æ¯”è¾ƒé«˜çš„ï¼‰ã€‚</p><p>å¦‚æœæ²¡æœ‰ä¸€å®šæ°´å¹³ï¼Œæƒ³å¿…ä¸šåŠ¡æ¡†æ¶æ—©å°±éšç€ä¸šåŠ¡çš„å˜æ›´é‡æ„è¿‡å¤šæ¬¡äº†ï¼Œè‚¯å®šä¼šå¸¦æ¥å·¨å¤§çš„äººåŠ›æµªè´¹ã€‚</p><h2 id="5-æŒç»­ç»ƒä¹ ï¼ŒæŒç»­å…³æ³¨è¡Œä¸šåŠ¨æ€"><a href="#5-æŒç»­ç»ƒä¹ ï¼ŒæŒç»­å…³æ³¨è¡Œä¸šåŠ¨æ€" class="headerlink" title="5. æŒç»­ç»ƒä¹ ï¼ŒæŒç»­å…³æ³¨è¡Œä¸šåŠ¨æ€"></a>5. æŒç»­ç»ƒä¹ ï¼ŒæŒç»­å…³æ³¨è¡Œä¸šåŠ¨æ€</h2><p>æœ€åä¸€ç‚¹ï¼ŒæŒç»­å­¦ä¹ ï¼Œå¤§æ¦‚æ˜¯ç¨‹åºå‘˜çš„å®¿å‘½å§ã€‚</p><p>è¿™é‡Œå…¶å®ä¸ç”¨å¤šè¯´äº†ï¼Œä½†æ˜¯æƒ³æä¸€ç‚¹ï¼Œå…¶å®æœ‰çš„æ—¶å€™å¦‚æœä½ å‘ç°ä¸»åŠ¨çš„æŒç»­å­¦ä¹ ä¼šæ¯”è¾ƒéš¾çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‰æ‹©ä¸€ç§åŠè¢«åŠ¨çš„æ–¹å¼ã€‚</p><p>æ¯”å¦‚ï¼Œæ¯å‘¨ç»™è‡ªå·±å®šæ—¥ç¨‹å‚ä¸ leetcode å‘¨èµ›ï¼Œä½ æŠŠå®ƒå½“ä½œè‡ªå·±å·¥ä½œçš„æ— å¯æ¨è„±çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·æŒç»­å‡ æ¬¡ï¼Œä½ å°±ä¼šæ…¢æ…¢ä¹ æƒ¯è¿™ä¸ªè¿‡ç¨‹ã€‚</p><hr><p>ä»¥ä¸Šå…±å‹‰ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/395177123&quot;&gt;çŸ¥ä¹ç‰ˆæœ¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¢˜ç›®æ‰€è¿°ï¼Œå°±æ˜¯æˆ‘æœ€è¿‘å¾ˆä¹…ä¸€æ®µæ—¶é—´éƒ½åœ¨ç”¨æ¥æ€è€ƒçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆè¯´ä¸‹ä¸ªäººçš„èƒŒæ™¯ï¼Œç›®å‰å·²ç»æ¯•ä¸šä¸‰å¹´ï¼Œç¬¬ä¸€å¹´ä¸»è¦åšå‰ç«¯å¼€å‘ï¼Œå¤§çº¦åœ¨ä¸¤å¹´å‰ï¼Œæˆ‘çš„</summary>
      
    
    
    
    
    <category term="å‰ç«¯ç»¼åˆ" scheme="https://z4ynadmin.github.io/tags/%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>Deno æ˜¯å¦‚ä½•è¿è¡Œ TypeScript çš„ï¼Ÿ</title>
    <link href="https://z4ynadmin.github.io/2021/01/31/Deno%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%20TypeScript%20%E7%9A%84/"/>
    <id>https://z4ynadmin.github.io/2021/01/31/Deno%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%20TypeScript%20%E7%9A%84/</id>
    <published>2021-01-31T10:07:20.000Z</published>
    <updated>2022-11-04T07:11:09.550Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Denoï¼Œä¸€ä¸ª JavaScript/TypeScript è¿è¡Œæ—¶ã€‚æœ¬æ–‡å¹¶ä¸ä¼šä» JavaScript çš„è§’åº¦æ¥å»ä»‹ç»å¦‚ä½•ä½¿ç”¨ Denoï¼Œè€Œæ˜¯è¯•å›¾ä»æ¡†æ¶å®ç°çš„è§’åº¦ï¼Œæ¥æ•´ä½“å¯¹ Deno é¡¹ç›®æœ¬èº«çš„å¼€å‘å®ç°è¿›è¡Œè§£è¯»ï¼Œå¹¶ä¸”é€šè¿‡åˆ†æå…¶è¿è¡Œ TypeScript çš„åŸç†ï¼Œæ¥å¯¹å…¶è¿›è¡Œä¸€ä¸ªå…¥é—¨çš„å‰–æã€‚</p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/348379605">åŸæ–‡é“¾æ¥å·²ç»è½¬ç§»è‡³è¿™é‡Œ</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Denoï¼Œä¸€ä¸ª JavaScript/TypeScript è¿è¡Œæ—¶ã€‚æœ¬æ–‡å¹¶ä¸ä¼šä» JavaScript çš„è§’åº¦æ¥å»ä»‹ç»å¦‚ä½•ä½¿ç”¨ Denoï¼Œè€Œæ˜¯è¯•å›¾ä»æ¡†æ¶å®ç°çš„è§’åº¦ï¼Œæ¥æ•´ä½“å¯¹ Deno é¡¹ç›®æœ¬èº«çš„å¼€å‘å®ç°è¿›è¡Œè§£è¯»ï¼Œå¹¶ä¸”é€šè¿‡åˆ†æå…¶è¿è¡Œ TypeScri</summary>
      
    
    
    
    
    <category term="å‰ç«¯æ¡†æ¶" scheme="https://z4ynadmin.github.io/tags/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Rust WebAssembly 0æ‹·è´è¿›è¡Œè®¡ç®—åŠ é€Ÿ</title>
    <link href="https://z4ynadmin.github.io/2020/06/26/%E4%BD%BF%E7%94%A8RustWebAssembly0%E6%8B%B7%E8%B4%9D%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97%E5%8A%A0%E9%80%9F/"/>
    <id>https://z4ynadmin.github.io/2020/06/26/%E4%BD%BF%E7%94%A8RustWebAssembly0%E6%8B%B7%E8%B4%9D%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97%E5%8A%A0%E9%80%9F/</id>
    <published>2020-06-26T06:47:03.000Z</published>
    <updated>2022-11-04T07:11:09.556Z</updated>
    
    <content type="html"><![CDATA[<p>demo: <a href="https://github.com/aircloud/rust-wasm-demo">https://github.com/aircloud/rust-wasm-demo</a>  </p><p>å…¶ä»–èµ„æ–™ï¼š<a href="https://zhuanlan.zhihu.com/p/104299612">å…¥é—¨ Rust å¼€å‘ WebAssembly</a></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ WebAssembly èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜æ€§èƒ½ï¼Œä¸è¿‡æœ‰çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿè®¸ä¼šå‘ç°ï¼Œä½¿ç”¨ WebAssembly ä¹‹åï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬ä¸ä»…å‘ç°æ€§èƒ½æ²¡æœ‰æå‡ï¼Œåè€Œä¸‹é™äº†è®¸å¤šç”šè‡³æ•°å€ï¼Œå®é™…ä¸Šè¿™æ˜¯å› ä¸ºï¼Œä½¿ç”¨ WebAssembly éœ€è¦éå¸¸è°¨æ…ï¼Œæœ‰å¾ˆå¤šç»†èŠ‚éƒ½ä¼šå¤§å¹…åº¦å½±å“æ€§èƒ½ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æˆ‘ä»¬ç¼–è¯‘é‡‡ç”¨çš„æ˜¯ debug è¿˜æ˜¯ release æ–¹å¼ã€‚</li><li>æœ€åç¼–è¯‘çš„ç»“æœæ˜¯å¦é‡‡ç”¨äº†ä¸åŒçº§åˆ«çš„ä¼˜åŒ–ï¼Œå¦‚æœä½¿ç”¨äº† <code>opt-level = &#39;s&#39;</code> é‚£ä¹ˆé€šå¸¸é€Ÿåº¦ä¹Ÿä¼šä¸‹é™å¾ˆå¤šã€‚</li><li>æ˜¯å¦åœ¨ JS å’Œ rust ä¹‹é—´å­˜åœ¨å¤§é‡çš„æ•°æ®æ‹·è´ï¼Œå› ä¸ºå¾ˆå¤šä»£ç æ˜¯å·¥å…·é“¾ç”Ÿæˆçš„ï¼Œä¹Ÿè®¸æœ‰çš„æ—¶å€™æˆ‘ä»¬ä¼šå¿½è§†è¿™ä¸€ç‚¹ã€‚</li></ul><p>æœ¬æ–‡é’ˆå¯¹ä»¥ä¸Šç­‰ä¸€äº›é—®é¢˜ç‰¹åˆ«æ˜¯ç¬¬ä¸‰ç‚¹ï¼Œç»™å‡ºä¸€ä¸ª wasm ä¼˜åŒ–çš„å‚è€ƒæ–¹æ¡ˆï¼Œå¹¶ç»™å‡ºç¤ºä¾‹ä»£ç ã€‚</p><h3 id="ç¼–è¯‘ä¼˜åŒ–"><a href="#ç¼–è¯‘ä¼˜åŒ–" class="headerlink" title="ç¼–è¯‘ä¼˜åŒ–"></a>ç¼–è¯‘ä¼˜åŒ–</h3><p>æˆ‘ä»¬åœ¨ä¼˜åŒ–æ•°æ®æ‹·è´ä¹‹å‰ï¼Œå¯¹äºç¼–è¯‘æˆ‘ä»¬å¯ä»¥åšä¸€äº›å‰ç½®çš„ç®€å•çš„å·¥ä½œã€‚</p><ul><li>æ£€æŸ¥ Cargo.toml è„šæœ¬ä¸­ <code>[profile.release]</code> ä¸­çš„ <code>opt-level</code> é€‰é¡¹ï¼Œç¡®è®¤æˆ‘ä»¬æ‰€ä½¿ç”¨çš„å€¼ï¼š</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">This flag controls the optimization <span class="keyword">level</span>.</span><br><span class="line"></span><br><span class="line"><span class="number">0</span>: <span class="keyword">no</span> optimizations, <span class="keyword">also</span> turns <span class="keyword">on</span> cfg(debug_assertions) (the <span class="keyword">default</span>).</span><br><span class="line"><span class="number">1</span>: basic optimizations.</span><br><span class="line"><span class="number">2</span>: <span class="keyword">some</span> optimizations.</span><br><span class="line"><span class="number">3</span>: <span class="keyword">all</span> optimizations.</span><br><span class="line">s: optimize <span class="keyword">for</span> binary size.</span><br><span class="line">z: optimize <span class="keyword">for</span> binary size, but <span class="keyword">also</span> turn <span class="keyword">off</span> <span class="keyword">loop</span> vectorization.</span><br><span class="line">Note: The -O flag <span class="keyword">is</span> an <span class="keyword">alias</span> <span class="keyword">for</span> -C opt-<span class="keyword">level</span>=<span class="number">2.</span></span><br><span class="line"></span><br><span class="line">The <span class="keyword">default</span> <span class="keyword">is</span> <span class="number">0.</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº† â€˜sâ€™ æˆ–è€… â€˜zâ€™ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šç‰ºç‰²ä¸€éƒ¨åˆ†æ€§èƒ½ï¼ˆå¯¹äº demo è€Œè¨€ï¼Œä½¿ç”¨ â€˜zâ€™ï¼Œ wasm çš„æ€§èƒ½ä¹Ÿåªæœ‰ js çš„ 20%ï¼‰ï¼Œå› ä¸ºå…¶ä¸»è¦æ˜¯å¯¹ä½“ç§¯è¿›è¡Œä¸€å®šçš„ä¼˜åŒ–ï¼Œæ‰€ä»¥å¦‚æœä¼˜åŒ–å‰çš„ä½“ç§¯æˆ‘ä»¬å¯ä»¥æ¥å—çš„è¯ï¼Œé€šå¸¸ä¸éœ€è¦è¿™æ ·çš„ä¼˜åŒ–ã€‚</p><p>åœ¨ä»¥ä¸Šçš„å‰æä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>--release</code> çš„æ–¹å¼ç¼–è¯‘ï¼Œé€šå¸¸å°±å¯ä»¥äº†ã€‚</p><h3 id="å‡å°‘æ‹·è´"><a href="#å‡å°‘æ‹·è´" class="headerlink" title="å‡å°‘æ‹·è´"></a>å‡å°‘æ‹·è´</h3><p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªè®¤çŸ¥ï¼š</p><p><strong>é€šè¿‡ rust å·¥å…·é“¾ç¼–è¯‘çš„ wasm ä»£ç ï¼Œæ‰€æœ‰å‚æ•°ä¼ å…¥éƒ½æ˜¯éœ€è¦æ‹·è´ä¸€æ¬¡çš„ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ä¼ å…¥ ArrayBuffer ç­‰ Buffer ç±»å‹çš„å‚æ•°ã€‚</strong>è¿™æ˜¯ç”±äº wasm åªèƒ½è®¿é—®è‡ªå·±çš„çº¿æ€§å†…å­˜ï¼Œè€Œè¿™ä¸ªæ‹·è´ï¼Œé€šå¸¸æ˜¯æˆ‘ä»¬åœ¨å¤„ç†å¤§è§„æ¨¡è®¡ç®—çš„ä¸€ä¸ªåï¼Œæœ‰çš„æ—¶å€™è™½ç„¶ wasm è®¡ç®—å¿«ä¸€ç‚¹ï¼Œä½†æ˜¯æ‹·è´çš„æ¶ˆè€—è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼ŒåŠ ä¹‹ js æœ‰è‹¥å¹² v8 ä¼˜åŒ–çš„åŠ æŒï¼Œå¯èƒ½å’Œ wasm ä¹Ÿç›¸å·®ä¸å¤šã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬è¦æŠŠè®¡ç®—ç§»æ¤åˆ° wasm ä¸­çš„è¯ï¼Œé¦–å…ˆè¦è§£å†³çš„å°±æ˜¯å¤§è§„æ¨¡æ•°æ®æ‹·è´çš„é—®é¢˜ã€‚</p><p>è¿™é‡Œçš„ä¸€èˆ¬æ€è·¯ä¸ºï¼š</p><ol><li>wasm åˆ†é…å†…å­˜ï¼šè°ƒç”¨ wasm çš„æ–¹æ³•ï¼Œåœ¨ wasm å†…å­˜ä¸­åˆ†é…ç©ºé—´ï¼Œè¿”å›æŒ‡é’ˆä½ç½®</li><li>js å†™å…¥æ•°æ®ï¼šjs ç«¯åœ¨ wasm çš„ memory arraybuffer ä¸Šï¼ŒæŒ‰æŒ‡é’ˆä½ç½®å’Œæ•°æ®é‡å»ºç«‹ viewï¼ŒæŠŠæ•°æ®å†™å…¥</li><li>wasm è®¡ç®—ï¼šè°ƒç”¨ wasm æ–¹æ³•å®Œæˆè®¡ç®—ï¼Œ è¿”å›è®¡ç®—å¥½çš„æ‰¹é‡ç»“æœçš„æŒ‡é’ˆä½ç½®å’Œå¤§å°</li><li>js è¯»å–æ•°æ®ï¼šjs ç«¯åœ¨ wasm çš„ memory arraybufferä¸Šï¼ŒæŒ‰æŒ‡é’ˆä½ç½®å’Œæ•°æ®é‡å»ºç«‹ viewï¼ŒæŠŠæ•°æ®è¯»å‡º</li></ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ª demo æ¥å®Œæˆä»¥ä¸Šå‡ ç‚¹ï¼Œdemo çš„ä¸»è¦åŠŸèƒ½ä¸ºï¼š</p><ul><li>åˆå§‹åŒ–ä¸€ä¸ª ImageDataï¼Œå†…å®¹éšæœºã€‚</li><li>åˆ†åˆ«ä½¿ç”¨ js å’Œ WebAssembly è¿›è¡Œé«˜æ–¯æ¨¡ç³Šè®¡ç®—ï¼Œå¹¶è®¡ç®—äºŒè€…çš„æ—¶é—´ï¼Œè¿›è¡Œå¯¹æ¯”ã€‚</li></ul><p>è¿™é‡Œçš„ demo åªæ˜¯è¾…åŠ©è¿›è¡ŒéªŒè¯æ”¹æ–¹æ¡ˆçš„å¯è¡Œæ€§å¹¶ä¸”ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼Œå¹¶ä¸ä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„ benchmark å»å¯¹æ¯” js å’Œ WebAssembly çš„æ€§èƒ½ï¼ŒåŒæ—¶ï¼Œä¹Ÿå¹¶æ²¡æœ‰ UI å±•ç¤ºï¼Œè®¡ç®—ç»“æœè¾“å‡ºåœ¨æ§åˆ¶å°ä¸­ã€‚</p><p>æœ€ç»ˆç¬”è€…è¿è¡Œçš„ç»“æœä¸ºï¼Œjs æ¯” WebAssembly æ…¢ 30% å·¦å³ã€‚</p><h4 id="1-wasm-åˆ†é…å†…å­˜"><a href="#1-wasm-åˆ†é…å†…å­˜" class="headerlink" title="1. wasm åˆ†é…å†…å­˜"></a>1. wasm åˆ†é…å†…å­˜</h4><p>è¿™éƒ¨åˆ†çš„é€šç”¨åšæ³•ï¼Œå³æˆ‘ä»¬åœ¨ wasm çš„ rust ä¸­åˆ†é…ä¸€ä¸ªæ•°ç»„ï¼ˆVecï¼‰ï¼Œç„¶åæŠŠå…¶æŒ‡é’ˆä¼ é€’ç»™ jsï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rustï¼š</span></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">new_buffer</span></span>(key: <span class="built_in">String</span>, len: <span class="built_in">usize</span>) -&gt; *<span class="keyword">const</span> <span class="built_in">u8</span> &#123;</span><br><span class="line">  <span class="comment">// GlobalBufferStorage æ˜¯ä¸€ä¸ª lazy_static</span></span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">mut</span> global_buffer_storage = GlobalBufferStorage.lock().unwrap();</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">mut</span> buffer = <span class="built_in">vec!</span>[<span class="number">255</span>; len];</span><br><span class="line">  <span class="keyword">let</span> ptr = buffer.as_ptr();</span><br><span class="line">  global_buffer_storage.buffer_map.insert(key, buffer);</span><br><span class="line">  ptr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†åç»­æ–¹ä¾¿å¯»æ‰¾åˆ°è¿™æ®µæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª key å°†è¿™ä¸ª Vec è”ç³»èµ·æ¥ï¼Œå¹¶ä¸”åœ¨ Rust ä¸­æ”¾å…¥å…¨å±€ï¼ˆå¯ä»¥ä½¿ç”¨ lazy_static!ï¼Œå› ä¸ºè¿™ç§ç±»å‹çš„æ•°æ®æ²¡æœ‰åŠæ³•ç›´æ¥å®šä¹‰åœ¨å…¨å±€ï¼‰ï¼Œä¹‹åé€šè¿‡ key æ¥æŸ¥æ‰¾æ•°æ®ã€‚</p><p>åœ¨ js ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»ºç«‹å„ç§ TypedArray å¯¹å…¶è¿›è¡Œæ“ä½œï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const ptr = this.wasm!.<span class="keyword">new</span><span class="constructor">_buffer(<span class="params">key</span>, <span class="params">len</span>)</span>;</span><br><span class="line">const u8Arr = <span class="keyword">new</span> <span class="constructor">Uint8ClampedArray(<span class="params">this</span>.<span class="params">wasm</span>!.<span class="params">get_wasm_buffer</span>()</span>, ptr, len);</span><br></pre></td></tr></table></figure><p><strong>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åœ¨ js æˆ– rust ä»»ä½•ä¸€ä¾§æ”¹äº†è¿™ä¸ªæ•°æ®ä¹‹åï¼Œéƒ½å¯ä»¥åœ¨å¦å¤–ä¸€ä¾§è®¿é—®åˆ°ã€‚</strong></p><p>å®é™…ä¸Šï¼Œåœ¨ js ä¾§çš„æ¯”å¦‚ <a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData/ImageData">ImageData</a> ç­‰ä¸€äº›å¯¹è±¡ä¸­ï¼Œä¹Ÿæ”¯æŒæˆ‘ä»¬ä¼ é€’ä¸€ä¸ª TypedArray è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™è®©æˆ‘ä»¬åœ¨æ¯”å¦‚ canvas ç­‰åº”ç”¨åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ wasm åˆ†é…çš„å†…å­˜æ›´ä¸ºæ–¹ä¾¿ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const imageData = <span class="keyword">new</span> <span class="constructor">ImageData(<span class="params">u8Arr</span>, <span class="params">width</span>, <span class="params">height</span>)</span>;</span><br></pre></td></tr></table></figure><h4 id="2-js-å†™å…¥æ•°æ®"><a href="#2-js-å†™å…¥æ•°æ®" class="headerlink" title="2. js å†™å…¥æ•°æ®"></a>2. js å†™å…¥æ•°æ®</h4><p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ js ä¾§å†™å…¥æ•°æ®ï¼Œå®é™…ä¸Šè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¾—åˆ°çš„ TypedArray å·²ç»å’Œç›´æ¥ä½¿ç”¨ js new çš„ TypedArray åœ¨ä½¿ç”¨ä¸Šæ²¡æœ‰å·®åˆ«ï¼Œå¯ä»¥æ­£å¸¸æŒ‰ç…§æ•°ç»„çš„æ–¹å¼è¿›è¡Œæ•°æ®å†™å…¥ã€‚</p><p>ä¸è¿‡ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œjs å†™å…¥é€šè¿‡ wasm åˆ†é…å†…å­˜å»ºç«‹çš„ TypedArrayï¼Œæœ‰äº›åœºæ™¯ä¸‹åœ¨ä¸€å®šç¨‹åº¦ä¸Šé€Ÿåº¦è¦æ…¢äºç›´æ¥ä½¿ç”¨ js new çš„ TypedArrayï¼ˆä¸è¿‡åœ¨ç¬”è€…çš„æµ‹è¯•æ•°æ®ä¸­ï¼Œwasm åˆ†é…çš„æ–¹å¼åè€Œæ˜¯æ›´å¿«çš„ï¼‰ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æ˜¯ä¸€ä¸ªé«˜é¢‘çš„æ•°æ®å†™å…¥çš„åœºæ™¯ï¼Œæ¯”å¦‚å¸§æ•°æ®ç­‰ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¥½è¿›è¡Œä¸€æ¬¡å¯¹æ¯”æµ‹è¯•ã€‚</p><h4 id="3-wasm-è®¡ç®—"><a href="#3-wasm-è®¡ç®—" class="headerlink" title="3. wasm è®¡ç®—"></a>3. wasm è®¡ç®—</h4><p>å½“æˆ‘ä»¬çœŸæ­£éœ€è¦è¿›è¡Œè®¡ç®—çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ wasm çš„è®¡ç®—å‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥ä¸Šæ–‡ä¸­å®šä¹‰çš„ keyï¼Œè¿™æ · wasm çš„ rust å‡½æ•°å¯ä»¥ç›´æ¥æ‰¾åˆ°è¿™æ®µæ•°æ®ï¼Œè¿™é‡Œæˆ‘ä»¬çš„ demo ä¸ºä¸€æ®µè®¡ç®—å·ç§¯çš„å‡½æ•°ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">convolution</span></span>(key: <span class="built_in">String</span>, width: <span class="built_in">usize</span>, height: <span class="built_in">usize</span>, kernel: <span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;) &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">mut</span> global_buffer_storage = GlobalBufferStorage.lock().unwrap();</span><br><span class="line">  <span class="keyword">let</span> kernel_length = kernel.iter().sum::&lt;<span class="built_in">i32</span>&gt;() <span class="keyword">as</span> <span class="built_in">i32</span>;</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(buffer) = global_buffer_storage.buffer_map.get_mut(&amp;key) &#123;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>..width-<span class="number">1</span> &#123;</span><br><span class="line">      <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>..height-<span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> newR: <span class="built_in">i32</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> newG: <span class="built_in">i32</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> newB: <span class="built_in">i32</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="number">0</span>..<span class="number">3</span> &#123; <span class="comment">// å–å‰åå·¦å³å…±9ä¸ªæ ¼å­</span></span><br><span class="line">          <span class="keyword">for</span> y <span class="keyword">in</span> <span class="number">0</span>..<span class="number">3</span> &#123;</span><br><span class="line">            newR += buffer[width * (j + y - <span class="number">1</span>) * <span class="number">4</span> + (i + x - <span class="number">1</span>) * <span class="number">4</span> + <span class="number">0</span>] <span class="keyword">as</span> <span class="built_in">i32</span> * kernel[y * <span class="number">3</span> + x] / kernel_length;</span><br><span class="line">            newG += buffer[width * (j + y - <span class="number">1</span>) * <span class="number">4</span> + (i + x - <span class="number">1</span>) * <span class="number">4</span> + <span class="number">1</span>] <span class="keyword">as</span> <span class="built_in">i32</span> * kernel[y * <span class="number">3</span> + x] / kernel_length;</span><br><span class="line">            newB += buffer[width * (j + y - <span class="number">1</span>) * <span class="number">4</span> + (i + x - <span class="number">1</span>) * <span class="number">4</span> + <span class="number">2</span>] <span class="keyword">as</span> <span class="built_in">i32</span> * kernel[y * <span class="number">3</span> + x] / kernel_length;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        buffer[width * j * <span class="number">4</span> + i * <span class="number">4</span> + <span class="number">0</span>] = newR <span class="keyword">as</span> <span class="built_in">u8</span>;</span><br><span class="line">        buffer[width * j * <span class="number">4</span> + i * <span class="number">4</span> + <span class="number">1</span>] = newG <span class="keyword">as</span> <span class="built_in">u8</span>;</span><br><span class="line">        buffer[width * j * <span class="number">4</span> + i * <span class="number">4</span> + <span class="number">2</span>] = newB <span class="keyword">as</span> <span class="built_in">u8</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºè¿™æ®µå‡½æ•°å¯¹åº”æ“ä½œçš„å†…å­˜æ•°æ®å®é™…ä¸Šå·²ç»åœ¨ wasm å’Œ js ä¹‹é—´å…±äº«äº†ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸éœ€è¦è¿”å›å€¼çš„ï¼Œç­‰è®¡ç®—å®Œæˆå js ç›´æ¥å»è¯»ä¹‹å‰å»ºç«‹çš„ TypedArrayï¼Œç”šè‡³ç›´æ¥ä½¿ç”¨é€šè¿‡ TypedArray åˆ›å»ºçš„ ImageDataï¼Œè¿›è¡Œç»˜åˆ¶ä¸Šå±ç­‰åç»­æ“ä½œã€‚</p><h4 id="4-js-è¯»å–æ•°æ®"><a href="#4-js-è¯»å–æ•°æ®" class="headerlink" title="4. js è¯»å–æ•°æ®"></a>4. js è¯»å–æ•°æ®</h4><p>åœ¨ demo ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ <code>CanvasRenderingContext2D.putImageData()</code> ä¼ å…¥ä¹‹å‰è·å–çš„ imageDataï¼Œç»˜åˆ¶ä¸Šå±ã€‚</p><h3 id="å…¶ä»–æ–¹æ¡ˆ"><a href="#å…¶ä»–æ–¹æ¡ˆ" class="headerlink" title="å…¶ä»–æ–¹æ¡ˆ"></a>å…¶ä»–æ–¹æ¡ˆ</h3><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¦‚æœç›®çš„æ˜¯åŠ é€Ÿ js è®¡ç®—ï¼Œä¸ä»…ä»…æœ‰ WebAssembly è¿™ä¸€ä¸ªæ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼Œå¦‚æœæˆ‘ä»¬çš„ç¯å¢ƒä¸­æ‹¥æœ‰å¯ä»¥è®¿é—® Node çš„èƒ½åŠ›æˆ–è€…å¯ä»¥è®¿é—®åŸç”Ÿæ¨¡å—çš„èƒ½åŠ›ï¼ˆæ¯”å¦‚ï¼Œæˆ‘ä»¬çš„åº”ç”¨è¿è¡Œåœ¨ electron ç¯å¢ƒï¼Œæˆ–è€…æ˜¯ä¸€äº›ç§»åŠ¨å®¢æˆ·ç«¯ï¼‰ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨æ¯”å¦‚ addon çš„æ–¹å¼æ¥è¿è¡Œæˆ‘ä»¬çš„è®¡ç®—éƒ¨åˆ†ï¼Œç›¸æ¯”äº wasmï¼Œè¿™éƒ¨åˆ†çš„ä¼˜ç¼ºç‚¹åœ¨äºï¼š</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>é€šå¸¸å¯ä»¥æ›´å¥½çš„æ§åˆ¶ä¼˜åŒ–ï¼Œç”šè‡³åšåˆ°æ±‡ç¼–çº§åˆ«çš„ä¼˜åŒ–å®šåˆ¶ï¼Œæ€§èƒ½æå‡ç©ºé—´æ›´é«˜ï¼ˆåŒæ ·ä¹Ÿå¯èƒ½ä¼šé¢ä¸´æ•°æ®æ‹·è´çš„é—®é¢˜ï¼Œä¹Ÿéœ€è¦ä¸€å®šæ–¹å¼å‡å°‘æ‹·è´ï¼‰ã€‚</li><li>åœ¨é‡ addon çš„ç¯å¢ƒä¸‹ï¼ˆä¾‹å¦‚ï¼Œå…¶ä»–å¤§é‡åŠŸèƒ½ä¹Ÿä¾èµ– addonï¼‰ï¼Œå¯ä»¥æ›´å¥½çš„å¤„ç†å‡½æ•°è°ƒç”¨å…³ç³»ã€ä¾èµ–åº“ä½¿ç”¨ç­‰ï¼Œä¸€å®šç¨‹åº¦ä¸Šå‡å°‘ä½“ç§¯å’Œå¢åŠ å¼€å‘çš„ä¾¿æ·æ€§ï¼Œè€Œ wasm ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªç‹¬ç«‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¤„äºæ²™ç›’ç¯å¢ƒä¸­ï¼Œæ— æ³•ç›´æ¥è°ƒç”¨å…¶ä»–çš„åŠ¨æ€åº“ã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>æ— æ³•åšåˆ°åƒ wasm ä¸€æ ·è·¨å¹³å°ï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶è¿è¡Œåœ¨ç½‘é¡µã€æ¡Œé¢ç¯å¢ƒã€ç§»åŠ¨ç«¯ç­‰ä»»ä½• Webview å­˜åœ¨çš„ç¯å¢ƒä¸­ã€‚</li></ul><p>ä¸è¿‡æ€»ä¹‹ï¼Œå¦‚æœä½¿ç”¨å¾—å½“ï¼ŒäºŒè€…çš„æ€§èƒ½éƒ½æ˜¯å¯ä»¥ä¼˜äºåŸç”Ÿçš„ jsï¼Œéƒ½å¯ä»¥ä½œä¸ºä¼˜åŒ–æ–¹æ¡ˆè€ƒè™‘ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;demo: &lt;a href=&quot;https://github.com/aircloud/rust-wasm-demo&quot;&gt;https://github.com/aircloud/rust-wasm-demo&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;å…¶ä»–èµ„æ–™ï¼š&lt;a href=&quot;https://</summary>
      
    
    
    
    
    <category term="Rust" scheme="https://z4ynadmin.github.io/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ OpenCV å®ç°ç®€å•çš„äººè„¸è¯†åˆ«ç¨‹åº</title>
    <link href="https://z4ynadmin.github.io/2019/09/10/%E4%BD%BF%E7%94%A8OpenCV%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%A8%8B%E5%BA%8F/"/>
    <id>https://z4ynadmin.github.io/2019/09/10/%E4%BD%BF%E7%94%A8OpenCV%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%A8%8B%E5%BA%8F/</id>
    <published>2019-09-10T07:34:13.000Z</published>
    <updated>2022-11-04T07:11:09.556Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬é—®å°± Mac ç³»ç»Ÿå®‰è£… OpenCV ä»¥åŠå®ç°ä¸€ä¸ªç®€å•çš„äººè„¸è¯†åˆ«ç¨‹åºè¿›è¡Œè®°å½•ã€‚</p><h3 id="å®‰è£…-OpenCV"><a href="#å®‰è£…-OpenCV" class="headerlink" title="å®‰è£… OpenCV"></a>å®‰è£… OpenCV</h3><p>å®é™…ä¸Šï¼ŒOpenCV çš„å®‰è£…æ–¹å¼æ¯”è¾ƒå¤šï¼Œè¿™é‡Œä¸ºäº†é¿å…ä¸€äº›ç¬¬ä¸‰æ–¹å®‰è£…çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨æºä»£ç æ–¹å¼å®‰è£…ã€‚</p><p>å®‰å…¨å‰è¯·ç¡®ä¿æœ¬æœºå·²ç»å®‰è£…äº† CMake å’Œ Xcodeã€‚</p><p>æˆ‘ä»¬å»<a href="https://opencv.org/releases/"> OpenCV çš„ç½‘ç«™</a> ä¸‹è½½æºä»£ç ï¼Œé€‰æ‹© Release -&gt; SourceCodeï¼Œå¯ä»¥é€‰æ‹©æœ€æ–°çš„ 4.11 ç‰ˆæœ¬ã€‚</p><p>è¿™é‡Œä»¥ 4.1.1 ç‰ˆæœ¬ä¸ºä¾‹ï¼Œä¸‹è½½åæˆ‘ä»¬è§£å‹åˆ° <code>opencv-4.1.1</code>ï¼Œç„¶åè¿›å…¥åˆ°è¯¥ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ª release ç›®å½•ç”¨äºå­˜æ”¾æˆ‘ä»¬æ„å»ºå¥½çš„å†…å®¹ï¼Œå¹¶è¿›å…¥åˆ°è¯¥ç›®å½•ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir release</span><br><span class="line">cd release/</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmake -G â€œUnix Makefilesâ€ .. </span><br><span class="line"><span class="built_in">make</span></span><br><span class="line"><span class="built_in">make</span> install</span><br></pre></td></tr></table></figure><p>å…¨éƒ¨å‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œå®é™…ä¸Šå°±å®‰è£…å®Œæˆäº†ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ€åçš„è¾“å‡ºä¸­çœ‹åˆ°ï¼Œç›¸å…³å†…å®¹å·²ç»è¢«å®‰è£…åˆ°äº† <code>/usr/local/include</code>ã€<code>/usr/local/lib</code> ç­‰æ–‡ä»¶å¤¹ä¸‹ã€‚</p><h3 id="ä½¿ç”¨-Xcode-ç¼–å†™äººè„¸è¯†åˆ«ç¨‹åº"><a href="#ä½¿ç”¨-Xcode-ç¼–å†™äººè„¸è¯†åˆ«ç¨‹åº" class="headerlink" title="ä½¿ç”¨ Xcode ç¼–å†™äººè„¸è¯†åˆ«ç¨‹åº"></a>ä½¿ç”¨ Xcode ç¼–å†™äººè„¸è¯†åˆ«ç¨‹åº</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Xcode å»ºç«‹ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦å¤„ç†ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>OpenCV çš„å¼•å…¥</li><li>æ‘„åƒå¤´æƒé™çš„è·å–</li></ul><h4 id="OpenCV-çš„å¼•å…¥"><a href="#OpenCV-çš„å¼•å…¥" class="headerlink" title="OpenCV çš„å¼•å…¥"></a>OpenCV çš„å¼•å…¥</h4><p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨ <strong>Build Setting</strong> çš„ <strong>Search Paths</strong> ä¸­å¢åŠ  Header å’Œ Library çš„è·¯å¾„ï¼š</p><p><img src="/img/cv1.jpg" alt="è·¯å¾„"></p><p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ <strong>Build Phases</strong> çš„ <strong>Link Binary With Libraries</strong> ä¸­å¢åŠ åŠ¨æ€é“¾æ¥åº“ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å·¦ä¸‹è§’åŠ å·ï¼Œé€‰æ‹© <code>Add Others</code> ç„¶åè¿›å…¥ <code>/usr/local/lib</code> æŠŠ OpenCV ç›¸å…³çš„åº“å‡åŒ…å«è¿›æ¥å³å¯ã€‚</p><blockquote><p>å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥éƒ¨åˆ†å¼•å…¥ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯åˆæ­¥ä¸Šæ‰‹ï¼Œå…¨éƒ¨å¼•å…¥ä¹Ÿå¯ä»¥ã€‚</p></blockquote><h4 id="æ‘„åƒå¤´æƒé™çš„è·å–"><a href="#æ‘„åƒå¤´æƒé™çš„è·å–" class="headerlink" title="æ‘„åƒå¤´æƒé™çš„è·å–"></a>æ‘„åƒå¤´æƒé™çš„è·å–</h4><p>è¿™é‡Œå¦‚æœæˆ‘ä»¬ç›´æ¥è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºï¼Œåœ¨ macOS æœ€æ–°çš„ç³»ç»Ÿä¸­æ˜¯æ— æ³•è¿è¡Œé€šè¿‡çš„ï¼Œè¿™é‡Œæ¶‰åŠåˆ°æ‘„åƒå¤´æƒé™é—®é¢˜ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äº macOSï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿è¡Œç¨‹åºçš„ç›®å½•ä¸‹å£°æ˜ <code>info.plist</code>, è¿™æ ·ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™ç³»ç»Ÿä¼šè‡ªåŠ¨æœ‰ç”³è¯·æƒé™çš„å¼¹çª—ï¼Œå¯¹äºæˆ‘ä»¬æµ‹è¯•åœºæ™¯ä¸‹è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><ul><li>è¿›å…¥æˆ‘ä»¬ Product å­˜æ”¾çš„ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯é¡¹ç›®ä»£ç ç›®å½•ï¼Œå¯ä»¥åœ¨ Products æ¡ç›®å³å•å‡» <code>Show in Finder</code>ï¼‰</li><li>å¤åˆ¶ä¸€ä¸ª info.plistï¼ˆè¿™é‡Œæˆ‘ä»¬å¯ä»¥éšä¾¿æ‰¾ä¸€ä¸ªæœ¬åœ°å®‰è£…çš„åº”ç”¨ç¨‹åºçš„ info.plistï¼Œä¸€èˆ¬å³å•å‡»æ˜¾ç¤ºåŒ…å†…å®¹å³å¯çœ‹åˆ°ï¼‰</li><li>åœ¨ info.plist ä¸­å¢åŠ  <code>NSCameraUsageDescription</code>ï¼Œvalue å³æç¤ºè¯­ï¼Œå¯ä»¥å†™æ¯”å¦‚ <code>æ‘„åƒå¤´æƒé™çš„è·å–</code>ã€‚</li></ul><h4 id="ä¹¦å†™å¹¶è¿è¡Œç¨‹åº"><a href="#ä¹¦å†™å¹¶è¿è¡Œç¨‹åº" class="headerlink" title="ä¹¦å†™å¹¶è¿è¡Œç¨‹åº"></a>ä¹¦å†™å¹¶è¿è¡Œç¨‹åº</h4><p>åšå®Œä¸Šè¿°å‡†å¤‡å·¥ä½œåï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆ‘ä»¬çš„äººè„¸è¯†åˆ«ç¨‹åºäº†ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªæˆåŠŸè¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼ˆå‚è€ƒäº†ç½‘ä¸Šçš„ä¸€äº›ä¾‹å­ï¼‰ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">capture</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¯å¦é€€å‡ºæ‘„åƒå¤´æŠ“å–çº¿ç¨‹</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">bool</span> g_quit = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">capture</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">capture</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ‰“å¼€æ‘„åƒå¤´</span></span><br><span class="line">    <span class="function">cv::VideoCapture <span class="title">cap</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¦‚æœæ‰“å¼€å¤±è´¥ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">    <span class="keyword">if</span> (!cap.<span class="built_in">isOpened</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Open Capture Failed&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// äººè„¸è¯†åˆ«åˆ†ç±»å™¨</span></span><br><span class="line">    <span class="function">cv::CascadeClassifier <span class="title">faceCascadeClassifier</span><span class="params">(<span class="string">&quot;/usr/local/share/opencv4/haarcascades/haarcascade_frontalface_alt2.xml&quot;</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¯»å– Frame ï¼Œç›´åˆ°é€€å‡ºç³»ç»Ÿ</span></span><br><span class="line">    <span class="keyword">while</span> (!g_quit)</span><br><span class="line">    &#123;</span><br><span class="line">        cv::Mat frame;</span><br><span class="line">        <span class="keyword">if</span> (!cap.<span class="built_in">read</span>(frame))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// è¯»å–å¤±è´¥ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿›è¡Œäººè„¸è¯†åˆ«</span></span><br><span class="line">        std::vector&lt;cv::Rect&gt; faces;</span><br><span class="line">        faceCascadeClassifier.<span class="built_in">detectMultiScale</span>(frame, faces);</span><br><span class="line">        <span class="comment">// å°†äººè„¸è¯†åˆ«ç»“æœç»˜åˆ¶åˆ°å›¾ç‰‡ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; face : faces)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;Find Face&quot;</span>&lt;&lt;endl;</span><br><span class="line">            cv::<span class="built_in">rectangle</span>(frame,</span><br><span class="line">                          cv::<span class="built_in">Point</span>(face.x, face.y),</span><br><span class="line">                          cv::<span class="built_in">Point</span>(face.x + face.width, face.y + face.height),</span><br><span class="line">                          <span class="built_in">CV_RGB</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">                          <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">imshow</span>(<span class="string">&quot;Display Image&quot;</span>, frame);</span><br><span class="line">        <span class="built_in">waitKey</span>(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„äººè„¸è¯†åˆ«åˆ†ç±»å™¨æ˜¯ OpenCV å®‰è£…åè‡ªå¸¦çš„ï¼Œä½ æœ¬æœºçš„ç›®å½•å¯èƒ½å¹¶ä¸æ˜¯è¿™ä¸€ä¸ªï¼ˆè¿™ä¸ªè·¯å¾„å®é™…ä¸Šå®‰è£…å¥½ OpenCV ä¹‹åä¼šæ‰“å°åœ¨æ§åˆ¶å°ï¼‰ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä»¥ä¸Šç¨‹åºå¯ä»¥ç›´æ¥ç¼–è¯‘æ‰§è¡Œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬é—®å°± Mac ç³»ç»Ÿå®‰è£… OpenCV ä»¥åŠå®ç°ä¸€ä¸ªç®€å•çš„äººè„¸è¯†åˆ«ç¨‹åºè¿›è¡Œè®°å½•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å®‰è£…-OpenCV&quot;&gt;&lt;a href=&quot;#å®‰è£…-OpenCV&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… OpenCV&quot;&gt;&lt;/a&gt;å®‰è£… OpenCV&lt;/</summary>
      
    
    
    
    
    <category term="OpenCV" scheme="https://z4ynadmin.github.io/tags/OpenCV/"/>
    
  </entry>
  
  <entry>
    <title>Ruståˆæ¢:å®ç°äºŒå‰æ ‘çš„å¢åˆ ä¸éå†</title>
    <link href="https://z4ynadmin.github.io/2019/09/07/Rust%E5%88%9D%E6%8E%A2-%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%A2%9E%E5%88%A0%E4%B8%8E%E9%81%8D%E5%8E%86/"/>
    <id>https://z4ynadmin.github.io/2019/09/07/Rust%E5%88%9D%E6%8E%A2-%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%A2%9E%E5%88%A0%E4%B8%8E%E9%81%8D%E5%8E%86/</id>
    <published>2019-09-07T15:57:28.000Z</published>
    <updated>2022-11-04T07:11:09.552Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Rust-ç®€ä»‹"><a href="#Rust-ç®€ä»‹" class="headerlink" title="Rust ç®€ä»‹"></a>Rust ç®€ä»‹</h3><p>å®é™…ä¸Šè‡ªå·±æ¥è§¦ Rust çš„æ—¶é—´è¿˜æ˜¯å¾ˆæœ‰é™çš„ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå¯¹ Rust è¿›è¡Œé•¿ç¯‡å¤§è®ºåœ°ä»‹ç»ï¼Œç®€å•æ¥è¯´ï¼ŒRust æ˜¯ä¸€ä¸ªæ€§èƒ½å’Œ c++ ç›¸è¿‘çš„ç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒæ—¶ï¼Œç”±äºå…¶æ‰€æœ‰æƒä¸å˜é‡ç”Ÿå‘½å‘¨æœŸç­‰æœºåˆ¶çš„è®¾è®¡ï¼Œä½¿å…¶ç›¸å¯¹äº c++ æ¥è¯´æ‹¥æœ‰å†…å­˜å®‰å…¨çš„ä¼˜åŠ¿ï¼Œå‡ ä¹ä¸ä¼šå‡ºç°è¯¸å¦‚æ‚¬å‚æŒ‡é’ˆã€æ•°ç»„è¶Šç•Œã€æ®µé”™è¯¯ç­‰é—®é¢˜ï¼Œåœ¨å¾®è½¯ã€ç™¾åº¦ã€å­—èŠ‚è·³åŠ¨ç­‰å…¬å¸å‡æœ‰æ‰€ä½¿ç”¨ã€‚</p><p>å…³äº Rust çš„ç‰¹æ€§ä»¥åŠæœªæ¥ï¼ŒçŸ¥ä¹<a href="https://www.zhihu.com/question/30407715">è¿™ä¸ªé—®é¢˜ä¸­çš„ä¸€äº›é«˜èµå›ç­”ä»¥åŠç›¸å…³çš„è¯„è®º</a>ï¼Œéå¸¸å€¼å¾—ä¸€çœ‹ã€‚</p><p>æœ¬æ–‡ä¼šä»¥äºŒå‰æ ‘è¿™æ ·ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å‡ºå‘ï¼Œæ¥å¯¹ Rust çš„ä¸€éƒ¨åˆ†çŸ¥è¯†å†…å®¹è¿›è¡Œå­¦ä¹ ã€‚</p><h3 id="å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„"><a href="#å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„" class="headerlink" title="å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„"></a>å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„</h3><h4 id="å®šä¹‰ç»“æ„"><a href="#å®šä¹‰ç»“æ„" class="headerlink" title="å®šä¹‰ç»“æ„"></a>å®šä¹‰ç»“æ„</h4><p>ä¹‹å‰åœ¨ Javascript ç­‰è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬åªè¦å¯¹å¯¹è±¡æœ‰æ‰€äº†è§£ï¼Œå®ç°ä¸€ä¸ªäºŒå‰æ ‘çš„æ•°æ®ç»“æ„æ˜¯éå¸¸ç®€å•çš„äº‹æƒ…ï¼Œè€Œåœ¨ Rust ä¸­ï¼Œå¯èƒ½å¯¹äºæ–°æ‰‹æ¥è¯´ä»…ä»…æ˜¯å®ç°åŸºæœ¬çš„æ•°æ®ç»“æ„å°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒè„‘å£³ç–¼çš„äº‹æƒ…ã€‚</p><p>æˆ‘ä»¬ä¸€èˆ¬ä¼šå†™å‡ºç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">struct <span class="class">Tree </span>&#123;</span><br><span class="line"><span class="symbol">    value:</span> i32,</span><br><span class="line"><span class="symbol">    left:</span> Tree, <span class="comment">// ç›´æ¥ä½¿ç”¨ Tree æ˜¯ä¸è¡Œçš„</span></span><br><span class="line"><span class="symbol">    right:</span> Tree  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡ªç„¶ä¸ä¼šé€šè¿‡ Rust çš„ç¼–è¯‘æ£€æŸ¥ï¼Œä¼šæŠ¥é”™ä¾‹å¦‚ï¼š<code>recursive type has infinite size</code>ï¼Œä¸è¿‡å…¶åŒæ—¶ç»™æˆ‘ä»¬æä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>Box&lt;T&gt;</code> æŒ‡é’ˆã€‚</p><p>å¦å¤–ï¼Œè€ƒè™‘åˆ°äºŒå‰æ ‘çš„å·¦å³å­æ ‘å¯èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦å¢åŠ ä¸€ä¸ª <code>Option</code>ã€‚</p><p>æœ€ç»ˆæˆ‘ä»¬çš„äºŒå‰æ ‘æ•°æ®ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug, Default)]</span></span><br><span class="line">struct <span class="class">Tree </span>&#123;</span><br><span class="line"><span class="symbol">    value:</span> i32,</span><br><span class="line"><span class="symbol">    left:</span> Option<span class="params">&lt;Box&lt;Tree&gt;</span>&gt;,</span><br><span class="line"><span class="symbol">    right:</span> Option<span class="params">&lt;Box&lt;Tree&gt;</span>&gt;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°åŸºæœ¬çš„æ–¹æ³•"><a href="#å®ç°åŸºæœ¬çš„æ–¹æ³•" class="headerlink" title="å®ç°åŸºæœ¬çš„æ–¹æ³•"></a>å®ç°åŸºæœ¬çš„æ–¹æ³•</h4><p>è¿™é‡Œæˆ‘ä»¬å®ç°ä¸€äº›äºŒå‰æ ‘çš„åŸºæœ¬çš„æ–¹æ³•ï¼Œä½œä¸ºä¸Šè¿°ç»“æ„ä½“çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†å®ç°ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>è·å–äºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼ï¼ˆå…¶å®ä¹Ÿå¯ä»¥æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼‰ã€‚</li><li>ä¿®æ”¹äºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼ã€‚</li><li>è®¾ç½®å­æ ‘ã€‚</li><li>åˆ é™¤å­æ ‘ã€‚</li></ul><p>è¿™é‡Œé™¤äº†ç¬¬ä¸€ä¸ªï¼Œå…¶ä½™æˆ‘ä»¬éƒ½éœ€è¦ä¼ é€’ <code>self</code> çš„å¯å˜å¼•ç”¨ï¼Œæˆ‘ä»¬çš„å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> Tree &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">get_val</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">set_val</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, val: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = val;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">insert</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, dir: &amp;<span class="built_in">String</span>, val: Tree) &#123;</span><br><span class="line">        <span class="built_in">assert!</span>(dir == <span class="string">&quot;left&quot;</span> || dir == <span class="string">&quot;right&quot;</span>);</span><br><span class="line">        <span class="keyword">match</span> dir.as_ref() &#123;</span><br><span class="line">            <span class="string">&quot;left&quot;</span> =&gt; <span class="keyword">self</span>.left = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(val)),</span><br><span class="line">            <span class="string">&quot;right&quot;</span> =&gt; <span class="keyword">self</span>.right = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(val)),</span><br><span class="line">            _ =&gt; &#123; </span><br><span class="line">                <span class="built_in">println!</span>(<span class="string">&quot;Insert Error: only left and right supported&quot;</span>);</span><br><span class="line">                process::exit(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">delete</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, dir: &amp;<span class="built_in">String</span>) &#123;</span><br><span class="line">        <span class="built_in">assert!</span>(dir == <span class="string">&quot;left&quot;</span> || dir == <span class="string">&quot;right&quot;</span>);</span><br><span class="line">        <span class="keyword">match</span> dir.as_ref() &#123;</span><br><span class="line">                <span class="string">&quot;left&quot;</span> =&gt; <span class="keyword">self</span>.left = <span class="literal">None</span>,</span><br><span class="line">                <span class="string">&quot;right&quot;</span> =&gt; <span class="keyword">self</span>.right = <span class="literal">None</span>,</span><br><span class="line">                 _ =&gt; &#123; </span><br><span class="line">                    <span class="built_in">println!</span>(<span class="string">&quot;Insert Error: only left and right supported&quot;</span>);</span><br><span class="line">                    process::exit(<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éå†äºŒå‰æ ‘"><a href="#éå†äºŒå‰æ ‘" class="headerlink" title="éå†äºŒå‰æ ‘"></a>éå†äºŒå‰æ ‘</h3><p>è¿™é‡Œéå†äºŒå‰æ ‘æˆ‘ä»¬ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯å±æ€§æ–¹æ³•æ¥å®ç°ï¼Œè¿™æ ·ä¼šæ›´ç¬¦åˆæˆ‘ä»¬å¹³æ—¶çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™é‡Œå…¶å®é—®é¢˜æ¯”è¾ƒå¤šçš„ï¼Œæˆ‘ä»¬å…ˆç®€æ˜“å®ç°ä¸€ä¸ªç‰ˆæœ¬ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">fn</span> <span class="selector-tag">traverse</span>(<span class="attribute">tree</span>: Tree) &#123;</span><br><span class="line">    <span class="selector-tag">println</span>!(<span class="string">&quot;Node Value: &#123;:?&#125;&quot;</span>, tree.value);</span><br><span class="line">    <span class="selector-tag">if</span> <span class="selector-tag">tree</span><span class="selector-class">.left</span><span class="selector-class">.is_some</span>() &#123;</span><br><span class="line">        <span class="selector-tag">traverse</span>(*tree.left.unwrap()); <span class="comment">// æ‰‹åŠ¨è§£å¼•ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">if</span> <span class="selector-tag">tree</span><span class="selector-class">.right</span><span class="selector-class">.is_some</span>() &#123;</span><br><span class="line">        <span class="selector-tag">traverse</span>(*tree.right.unwrap()); <span class="comment">// æ‰‹åŠ¨è§£å¼•ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªç‰ˆæœ¬ï¼Œå‘ç°çš„ç¡®èƒ½å¤Ÿæ­£å¸¸éå†çš„ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™æœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼š</p><p>è¿™é‡Œé‡‡ç”¨çš„æ˜¯æ‰€æœ‰æƒçš„ç§»åŠ¨ï¼Œè€Œä¸æ˜¯ä¸å¯å˜å€Ÿç”¨ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬çš„å‡½æ•°æ‰§è¡Œå®ŒååŸæ¥å˜é‡çš„æ‰€æœ‰æƒå·²ç»è¢«ç§»åŠ¨äº†ï¼Œæ¢ä¸€ç§è¯´æ³•åˆ™æ˜¯ä¼šæ¶ˆè€—æ‰è¿™ä¸ªå˜é‡ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„ã€‚</p><p>è™½ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‡½æ•°ä¸­è¿”å› tree çš„æ–¹å¼æ¥æœ€åå†æ¬¡ç§»åŠ¨æ‰€æœ‰æƒï¼Œä½†è¿™æ ·éå¸¸ä¸ä¾¿äºå®ç°ï¼Œç»è¿‡é‡æ„ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å¦‚ä¸‹çš„æ–¹å¼å®ç°ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn traverse(tree: &amp;Tree) &#123;</span><br><span class="line">    println!(<span class="string">&quot;Node Value: &#123;:?&#125;&quot;</span>, tree.value);</span><br><span class="line">    <span class="keyword">match</span> tree.left &#123;</span><br><span class="line">        <span class="constructor">Some(<span class="params">ref</span> <span class="params">x</span>)</span> =&gt; traverse(x),</span><br><span class="line">       <span class="function"> <span class="params">_</span> =&gt;</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">match</span> tree.right &#123;</span><br><span class="line">        <span class="constructor">Some(<span class="params">ref</span> <span class="params">x</span>)</span> =&gt; traverse(x),</span><br><span class="line">       <span class="function"> <span class="params">_</span> =&gt;</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦å¤–ä¸€ä¸ªæ³¨æ„ç‚¹åˆ™æ˜¯ç”±äº <code>unwrap()</code> æœ¬èº«æ˜¯ä¸€ä¸ªæ¶ˆè€—æ€§æ“ä½œï¼Œæˆ‘ä»¬è¿™é‡Œä¸èƒ½ä½¿ç”¨ <code>unwrap</code>ï¼Œå‚è€ƒ<a href="https://stackoverflow.com/questions/22282117/how-do-i-borrow-a-reference-to-what-is-inside-an-optiont">stackOverflowçš„æé—®1</a>ã€<a href="https://stackoverflow.com/questions/32338659/cannot-move-out-of-borrowed-content-when-unwrapping">stackOverflowçš„æé—®2</a>ã€‚</p></blockquote><p>æˆ‘ä»¬æœ€ç»ˆçš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">use::std::process;</span><br><span class="line"><span class="keyword">use</span> std::borrow::Borrow;</span><br><span class="line"><span class="meta">#[derive(Debug, Default)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Tree</span></span> &#123;</span><br><span class="line">    value: <span class="built_in">i32</span>,</span><br><span class="line">    left: <span class="built_in">Option</span>&lt;<span class="built_in">Box</span>&lt;Tree&gt;&gt;,</span><br><span class="line">    right: <span class="built_in">Option</span>&lt;<span class="built_in">Box</span>&lt;Tree&gt;&gt;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Tree &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">get_val</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">set_val</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, val: <span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = val;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">insert</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, dir: &amp;<span class="built_in">String</span>, val: Tree) &#123;</span><br><span class="line">        <span class="built_in">assert!</span>(dir == <span class="string">&quot;left&quot;</span> || dir == <span class="string">&quot;right&quot;</span>);</span><br><span class="line">        <span class="keyword">match</span> dir.as_ref() &#123;</span><br><span class="line">            <span class="string">&quot;left&quot;</span> =&gt; <span class="keyword">self</span>.left = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(val)),</span><br><span class="line">            <span class="string">&quot;right&quot;</span> =&gt; <span class="keyword">self</span>.right = <span class="literal">Some</span>(<span class="built_in">Box</span>::new(val)),</span><br><span class="line">            _ =&gt; &#123; </span><br><span class="line">                <span class="built_in">println!</span>(<span class="string">&quot;Insert Error: only left and right supported&quot;</span>);</span><br><span class="line">                process::exit(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">delete</span></span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, dir: &amp;<span class="built_in">String</span>) &#123;</span><br><span class="line">        <span class="built_in">assert!</span>(dir == <span class="string">&quot;left&quot;</span> || dir == <span class="string">&quot;right&quot;</span>);</span><br><span class="line">        <span class="keyword">match</span> dir.as_ref() &#123;</span><br><span class="line">                <span class="string">&quot;left&quot;</span> =&gt; <span class="keyword">self</span>.left = <span class="literal">None</span>,</span><br><span class="line">                <span class="string">&quot;right&quot;</span> =&gt; <span class="keyword">self</span>.right = <span class="literal">None</span>,</span><br><span class="line">                 _ =&gt; &#123; </span><br><span class="line">                    <span class="built_in">println!</span>(<span class="string">&quot;Insert Error: only left and right supported&quot;</span>);</span><br><span class="line">                    process::exit(<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå§‹çš„éæ¶ˆè€—æ€§éå†:</span></span><br><span class="line"><span class="comment">// fn traverse(tree: &amp;Tree) &#123;</span></span><br><span class="line"><span class="comment">//     println!(&quot;Node Value: &#123;:?&#125;&quot;, tree.value);</span></span><br><span class="line"><span class="comment">//     if tree.left.is_some() &#123;</span></span><br><span class="line"><span class="comment">//         // cannot move out of borrowed content</span></span><br><span class="line"><span class="comment">//         // é¦–å…ˆ unwrap æ˜¯ä¸€ä¸ªæ¶ˆè€—æ€§æ“ä½œ</span></span><br><span class="line"><span class="comment">//         // è¿™æ˜¯ç”±äº unwrap å‡½æ•°é€ æˆ?  as_ref ä¹Ÿä¸è¡Œ</span></span><br><span class="line"><span class="comment">//         traverse((tree.left.as_ref().map(|x| **x).unwrap()).borrow());</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     // if tree.right.is_some() &#123;</span></span><br><span class="line"><span class="comment">//     //     // cannot move out of borrowed content</span></span><br><span class="line"><span class="comment">//     //     traverse(tree.right.unwrap().borrow());</span></span><br><span class="line"><span class="comment">//     // &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éæ¶ˆè€—æ€§éå†</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">traverse</span></span>(tree: &amp;Tree) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Node Value: &#123;:?&#125;&quot;</span>, tree.value);</span><br><span class="line">    <span class="keyword">match</span> tree.left &#123;</span><br><span class="line">        <span class="literal">Some</span>(<span class="keyword">ref</span> x) =&gt; traverse(x),</span><br><span class="line">        _ =&gt; &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">match</span> tree.right &#123;</span><br><span class="line">        <span class="literal">Some</span>(<span class="keyword">ref</span> x) =&gt; traverse(x),</span><br><span class="line">        _ =&gt; &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¶ˆè€—æ€§éå†ï¼š</span></span><br><span class="line"><span class="comment">// fn traverse(tree: Tree) &#123;</span></span><br><span class="line"><span class="comment">//     println!(&quot;Node Value: &#123;:?&#125;&quot;, tree.value);</span></span><br><span class="line"><span class="comment">//     if tree.left.is_some() &#123;</span></span><br><span class="line"><span class="comment">//         traverse(*tree.left.unwrap()); // æ‰‹åŠ¨è§£å¼•ç”¨</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     if tree.right.is_some() &#123;</span></span><br><span class="line"><span class="comment">//         traverse(*tree.right.unwrap()); // æ‰‹åŠ¨è§£å¼•ç”¨</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;begin rust tree test:&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> tree = Tree &#123; value : <span class="number">12</span>, ..<span class="built_in">Default</span>::default() &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> left = Tree &#123; value : <span class="number">121</span>, ..<span class="built_in">Default</span>::default() &#125;;</span><br><span class="line">    tree.insert(&amp;<span class="built_in">String</span>::from(<span class="string">&quot;left&quot;</span>), left);</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> right = Tree &#123; value : <span class="number">122</span>, ..<span class="built_in">Default</span>::default() &#125;;</span><br><span class="line">    tree.insert(&amp;<span class="built_in">String</span>::from(<span class="string">&quot;right&quot;</span>), right);</span><br><span class="line">    <span class="comment">// tree.delete(&amp;String::from(&quot;right&quot;));</span></span><br><span class="line">    <span class="comment">// println!(&quot;Tree val: &#123;:?&#125;&quot;, left.get_val()); ä¸èƒ½è¿™æ ·å†™ï¼Œæ‰€æœ‰æƒå·²ç»è¢«ç§»åŠ¨</span></span><br><span class="line">    traverse(&amp;tree);</span><br><span class="line">    <span class="comment">// traverse(tree);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;Rust-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#Rust-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;Rust ç®€ä»‹&quot;&gt;&lt;/a&gt;Rust ç®€ä»‹&lt;/h3&gt;&lt;p&gt;å®é™…ä¸Šè‡ªå·±æ¥è§¦ Rust çš„æ—¶é—´è¿˜æ˜¯å¾ˆæœ‰é™çš„ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå¯¹ Rust è¿›è¡Œé•¿ç¯‡å¤§è®ºåœ°ä»‹ç»ï¼Œç®€å•æ¥è¯´ï¼Œ</summary>
      
    
    
    
    
    <category term="Rust" scheme="https://z4ynadmin.github.io/tags/Rust/"/>
    
  </entry>
  
</feed>
